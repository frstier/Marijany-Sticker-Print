function X1(l,r){for(var a=0;a<r.length;a++){const s=r[a];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in l)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(l,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function ko(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Ji(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var r=l.default;if(typeof r=="function"){var a=function s(){return this instanceof s?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};a.prototype=r.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(l).forEach(function(s){var o=Object.getOwnPropertyDescriptor(l,s);Object.defineProperty(a,s,o.get?o:{enumerable:!0,get:function(){return l[s]}})}),a}var Wc={exports:{}},Li={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function Y1(){if(Wv)return Li;Wv=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var y in o)y!=="key"&&(u[y]=o[y])}else u=o;return o=u.ref,{$$typeof:l,type:s,key:d,ref:o!==void 0?o:null,props:u}}return Li.Fragment=r,Li.jsx=a,Li.jsxs=a,Li}var eg;function F1(){return eg||(eg=1,Wc.exports=Y1()),Wc.exports}var S=F1(),ef={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function Q1(){if(tg)return he;tg=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),m=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=m&&A[m]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,O={};function R(A,$,G){this.props=A,this.context=$,this.refs=O,this.updater=G||w}R.prototype.isReactComponent={},R.prototype.setState=function(A,$){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,$,"setState")},R.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function M(){}M.prototype=R.prototype;function U(A,$,G){this.props=A,this.context=$,this.refs=O,this.updater=G||w}var P=U.prototype=new M;P.constructor=U,E(P,R.prototype),P.isPureReactComponent=!0;var ee=Array.isArray;function Z(){}var V={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function K(A,$,G){var Q=G.ref;return{$$typeof:l,type:A,key:$,ref:Q!==void 0?Q:null,props:G}}function se(A,$){return K(A.type,$,A.props)}function ce(A){return typeof A=="object"&&A!==null&&A.$$typeof===l}function ne(A){var $={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(G){return $[G]})}var fe=/\/+/g;function Ee(A,$){return typeof A=="object"&&A!==null&&A.key!=null?ne(""+A.key):$.toString(36)}function ae(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Z,Z):(A.status="pending",A.then(function($){A.status==="pending"&&(A.status="fulfilled",A.value=$)},function($){A.status==="pending"&&(A.status="rejected",A.reason=$)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function B(A,$,G,Q,de){var me=typeof A;(me==="undefined"||me==="boolean")&&(A=null);var we=!1;if(A===null)we=!0;else switch(me){case"bigint":case"string":case"number":we=!0;break;case"object":switch(A.$$typeof){case l:case r:we=!0;break;case v:return we=A._init,B(we(A._payload),$,G,Q,de)}}if(we)return de=de(A),we=Q===""?"."+Ee(A,0):Q,ee(de)?(G="",we!=null&&(G=we.replace(fe,"$&/")+"/"),B(de,$,G,"",function(or){return or})):de!=null&&(ce(de)&&(de=se(de,G+(de.key==null||A&&A.key===de.key?"":(""+de.key).replace(fe,"$&/")+"/")+we)),$.push(de)),1;we=0;var rt=Q===""?".":Q+":";if(ee(A))for(var $e=0;$e<A.length;$e++)Q=A[$e],me=rt+Ee(Q,$e),we+=B(Q,$,G,me,de);else if($e=b(A),typeof $e=="function")for(A=$e.call(A),$e=0;!(Q=A.next()).done;)Q=Q.value,me=rt+Ee(Q,$e++),we+=B(Q,$,G,me,de);else if(me==="object"){if(typeof A.then=="function")return B(ae(A),$,G,Q,de);throw $=String(A),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return we}function I(A,$,G){if(A==null)return A;var Q=[],de=0;return B(A,Q,"","",function(me){return $.call(G,me,de++)}),Q}function oe(A){if(A._status===-1){var $=A._result;$=$(),$.then(function(G){(A._status===0||A._status===-1)&&(A._status=1,A._result=G)},function(G){(A._status===0||A._status===-1)&&(A._status=2,A._result=G)}),A._status===-1&&(A._status=0,A._result=$)}if(A._status===1)return A._result.default;throw A._result}var je=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Re={map:I,forEach:function(A,$,G){I(A,function(){$.apply(this,arguments)},G)},count:function(A){var $=0;return I(A,function(){$++}),$},toArray:function(A){return I(A,function($){return $})||[]},only:function(A){if(!ce(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return he.Activity=p,he.Children=Re,he.Component=R,he.Fragment=a,he.Profiler=o,he.PureComponent=U,he.StrictMode=s,he.Suspense=g,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,he.__COMPILER_RUNTIME={__proto__:null,c:function(A){return V.H.useMemoCache(A)}},he.cache=function(A){return function(){return A.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(A,$,G){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Q=E({},A.props),de=A.key;if($!=null)for(me in $.key!==void 0&&(de=""+$.key),$)!ie.call($,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&$.ref===void 0||(Q[me]=$[me]);var me=arguments.length-2;if(me===1)Q.children=G;else if(1<me){for(var we=Array(me),rt=0;rt<me;rt++)we[rt]=arguments[rt+2];Q.children=we}return K(A.type,de,Q)},he.createContext=function(A){return A={$$typeof:d,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:u,_context:A},A},he.createElement=function(A,$,G){var Q,de={},me=null;if($!=null)for(Q in $.key!==void 0&&(me=""+$.key),$)ie.call($,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(de[Q]=$[Q]);var we=arguments.length-2;if(we===1)de.children=G;else if(1<we){for(var rt=Array(we),$e=0;$e<we;$e++)rt[$e]=arguments[$e+2];de.children=rt}if(A&&A.defaultProps)for(Q in we=A.defaultProps,we)de[Q]===void 0&&(de[Q]=we[Q]);return K(A,me,de)},he.createRef=function(){return{current:null}},he.forwardRef=function(A){return{$$typeof:y,render:A}},he.isValidElement=ce,he.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:oe}},he.memo=function(A,$){return{$$typeof:f,type:A,compare:$===void 0?null:$}},he.startTransition=function(A){var $=V.T,G={};V.T=G;try{var Q=A(),de=V.S;de!==null&&de(G,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(Z,je)}catch(me){je(me)}finally{$!==null&&G.types!==null&&($.types=G.types),V.T=$}},he.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},he.use=function(A){return V.H.use(A)},he.useActionState=function(A,$,G){return V.H.useActionState(A,$,G)},he.useCallback=function(A,$){return V.H.useCallback(A,$)},he.useContext=function(A){return V.H.useContext(A)},he.useDebugValue=function(){},he.useDeferredValue=function(A,$){return V.H.useDeferredValue(A,$)},he.useEffect=function(A,$){return V.H.useEffect(A,$)},he.useEffectEvent=function(A){return V.H.useEffectEvent(A)},he.useId=function(){return V.H.useId()},he.useImperativeHandle=function(A,$,G){return V.H.useImperativeHandle(A,$,G)},he.useInsertionEffect=function(A,$){return V.H.useInsertionEffect(A,$)},he.useLayoutEffect=function(A,$){return V.H.useLayoutEffect(A,$)},he.useMemo=function(A,$){return V.H.useMemo(A,$)},he.useOptimistic=function(A,$){return V.H.useOptimistic(A,$)},he.useReducer=function(A,$,G){return V.H.useReducer(A,$,G)},he.useRef=function(A){return V.H.useRef(A)},he.useState=function(A){return V.H.useState(A)},he.useSyncExternalStore=function(A,$,G){return V.H.useSyncExternalStore(A,$,G)},he.useTransition=function(){return V.H.useTransition()},he.version="19.2.1",he}var ng;function qf(){return ng||(ng=1,ef.exports=Q1()),ef.exports}var re=qf();const _o=ko(re);var tf={exports:{}},Bi={},nf={exports:{}},rf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function Z1(){return rg||(rg=1,(function(l){function r(B,I){var oe=B.length;B.push(I);e:for(;0<oe;){var je=oe-1>>>1,Re=B[je];if(0<o(Re,I))B[je]=I,B[oe]=Re,oe=je;else break e}}function a(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var I=B[0],oe=B.pop();if(oe!==I){B[0]=oe;e:for(var je=0,Re=B.length,A=Re>>>1;je<A;){var $=2*(je+1)-1,G=B[$],Q=$+1,de=B[Q];if(0>o(G,oe))Q<Re&&0>o(de,G)?(B[je]=de,B[Q]=oe,je=Q):(B[je]=G,B[$]=oe,je=$);else if(Q<Re&&0>o(de,oe))B[je]=de,B[Q]=oe,je=Q;else break e}}return I}function o(B,I){var oe=B.sortIndex-I.sortIndex;return oe!==0?oe:B.id-I.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;l.unstable_now=function(){return u.now()}}else{var d=Date,y=d.now();l.unstable_now=function(){return d.now()-y}}var g=[],f=[],v=1,p=null,m=3,b=!1,w=!1,E=!1,O=!1,R=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function P(B){for(var I=a(f);I!==null;){if(I.callback===null)s(f);else if(I.startTime<=B)s(f),I.sortIndex=I.expirationTime,r(g,I);else break;I=a(f)}}function ee(B){if(E=!1,P(B),!w)if(a(g)!==null)w=!0,Z||(Z=!0,ne());else{var I=a(f);I!==null&&ae(ee,I.startTime-B)}}var Z=!1,V=-1,ie=5,K=-1;function se(){return O?!0:!(l.unstable_now()-K<ie)}function ce(){if(O=!1,Z){var B=l.unstable_now();K=B;var I=!0;try{e:{w=!1,E&&(E=!1,M(V),V=-1),b=!0;var oe=m;try{t:{for(P(B),p=a(g);p!==null&&!(p.expirationTime>B&&se());){var je=p.callback;if(typeof je=="function"){p.callback=null,m=p.priorityLevel;var Re=je(p.expirationTime<=B);if(B=l.unstable_now(),typeof Re=="function"){p.callback=Re,P(B),I=!0;break t}p===a(g)&&s(g),P(B)}else s(g);p=a(g)}if(p!==null)I=!0;else{var A=a(f);A!==null&&ae(ee,A.startTime-B),I=!1}}break e}finally{p=null,m=oe,b=!1}I=void 0}}finally{I?ne():Z=!1}}}var ne;if(typeof U=="function")ne=function(){U(ce)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Ee=fe.port2;fe.port1.onmessage=ce,ne=function(){Ee.postMessage(null)}}else ne=function(){R(ce,0)};function ae(B,I){V=R(function(){B(l.unstable_now())},I)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return m},l.unstable_next=function(B){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var oe=m;m=I;try{return B()}finally{m=oe}},l.unstable_requestPaint=function(){O=!0},l.unstable_runWithPriority=function(B,I){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var oe=m;m=B;try{return I()}finally{m=oe}},l.unstable_scheduleCallback=function(B,I,oe){var je=l.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?je+oe:je):oe=je,B){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=oe+Re,B={id:v++,callback:I,priorityLevel:B,startTime:oe,expirationTime:Re,sortIndex:-1},oe>je?(B.sortIndex=oe,r(f,B),a(g)===null&&B===a(f)&&(E?(M(V),V=-1):E=!0,ae(ee,oe-je))):(B.sortIndex=Re,r(g,B),w||b||(w=!0,Z||(Z=!0,ne()))),B},l.unstable_shouldYield=se,l.unstable_wrapCallback=function(B){var I=m;return function(){var oe=m;m=I;try{return B.apply(this,arguments)}finally{m=oe}}}})(rf)),rf}var ag;function J1(){return ag||(ag=1,nf.exports=Z1()),nf.exports}var af={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function W1(){if(ig)return ft;ig=1;var l=qf();function r(g){var f="https://react.dev/errors/"+g;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,f,v){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:p==null?null:""+p,children:g,containerInfo:f,implementation:v}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,f){if(g==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ft.createPortal=function(g,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(r(299));return u(g,f,null,v)},ft.flushSync=function(g){var f=d.T,v=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=f,s.p=v,s.d.f()}},ft.preconnect=function(g,f){typeof g=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(g,f))},ft.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},ft.preinit=function(g,f){if(typeof g=="string"&&f&&typeof f.as=="string"){var v=f.as,p=y(v,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?s.d.S(g,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:b}):v==="script"&&s.d.X(g,{crossOrigin:p,integrity:m,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ft.preinitModule=function(g,f){if(typeof g=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=y(f.as,f.crossOrigin);s.d.M(g,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(g)},ft.preload=function(g,f){if(typeof g=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,p=y(v,f.crossOrigin);s.d.L(g,v,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ft.preloadModule=function(g,f){if(typeof g=="string")if(f){var v=y(f.as,f.crossOrigin);s.d.m(g,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(g)},ft.requestFormReset=function(g){s.d.r(g)},ft.unstable_batchedUpdates=function(g,f){return g(f)},ft.useFormState=function(g,f,v){return d.H.useFormState(g,f,v)},ft.useFormStatus=function(){return d.H.useHostTransitionStatus()},ft.version="19.2.1",ft}var sg;function e_(){if(sg)return af.exports;sg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),af.exports=W1(),af.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lg;function t_(){if(lg)return Bi;lg=1;var l=J1(),r=qf(),a=e_();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function f(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var c=n.return;if(c===null)break;var h=c.alternate;if(h===null){if(i=c.return,i!==null){n=i;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===n)return g(c),e;if(h===i)return g(c),t;h=h.sibling}throw Error(s(188))}if(n.return!==i.return)n=c,i=h;else{for(var _=!1,x=c.child;x;){if(x===n){_=!0,n=c,i=h;break}if(x===i){_=!0,i=c,n=h;break}x=x.sibling}if(!_){for(x=h.child;x;){if(x===n){_=!0,n=h,i=c;break}if(x===i){_=!0,i=h,n=c;break}x=x.sibling}if(!_)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),U=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var fe=Symbol.for("react.client.reference");function Ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case R:return"Profiler";case O:return"StrictMode";case ee:return"Suspense";case Z:return"SuspenseList";case K:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case U:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:Ee(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return Ee(e(t))}catch{}}return null}var ae=Array.isArray,B=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},je=[],Re=-1;function A(e){return{current:e}}function $(e){0>Re||(e.current=je[Re],je[Re]=null,Re--)}function G(e,t){Re++,je[Re]=e.current,e.current=t}var Q=A(null),de=A(null),me=A(null),we=A(null);function rt(e,t){switch(G(me,t),G(de,e),G(Q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sv(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sv(t),e=Ev(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(Q),G(Q,e)}function $e(){$(Q),$(de),$(me)}function or(e){e.memoizedState!==null&&G(we,e);var t=Q.current,n=Ev(t,e.type);t!==n&&(G(de,e),G(Q,n))}function ur(e){de.current===e&&($(Q),$(de)),we.current===e&&($(we),ki._currentValue=oe)}var $a,Pa;function mt(e){if($a===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$a=t&&t[1]||"",Pa=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$a+e+Pa}var X=!1;function xe(e,t){if(!e||X)return"";X=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(L){var D=L}Reflect.construct(e,[],H)}else{try{H.call()}catch(L){D=L}e.call(H.prototype)}}else{try{throw Error()}catch(L){D=L}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(L){if(L&&D&&typeof L.stack=="string")return[L.stack,D.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=i.DetermineComponentFrameRoot(),_=h[0],x=h[1];if(_&&x){var T=_.split(`
`),k=x.split(`
`);for(c=i=0;i<T.length&&!T[i].includes("DetermineComponentFrameRoot");)i++;for(;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;if(i===T.length||c===k.length)for(i=T.length-1,c=k.length-1;1<=i&&0<=c&&T[i]!==k[c];)c--;for(;1<=i&&0<=c;i--,c--)if(T[i]!==k[c]){if(i!==1||c!==1)do if(i--,c--,0>c||T[i]!==k[c]){var z=`
`+T[i].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=i&&0<=c);break}}}finally{X=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?mt(n):""}function Qt(e,t){switch(e.tag){case 26:case 27:case 5:return mt(e.type);case 16:return mt("Lazy");case 13:return e.child!==t&&t!==null?mt("Suspense Fallback"):mt("Suspense");case 19:return mt("SuspenseList");case 0:case 15:return xe(e.type,!1);case 11:return xe(e.type.render,!1);case 1:return xe(e.type,!0);case 31:return mt("Activity");default:return""}}function dn(e){try{var t="",n=null;do t+=Qt(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Ia=Object.prototype.hasOwnProperty,cr=l.unstable_scheduleCallback,qr=l.unstable_cancelCallback,is=l.unstable_shouldYield,ss=l.unstable_requestPaint,ht=l.unstable_now,Ap=l.unstable_getCurrentPriorityLevel,ed=l.unstable_ImmediatePriority,td=l.unstable_UserBlockingPriority,ls=l.unstable_NormalPriority,jp=l.unstable_LowPriority,nd=l.unstable_IdlePriority,Rp=l.log,Np=l.unstable_setDisableYieldValue,Ga=null,Tt=null;function Un(e){if(typeof Rp=="function"&&Np(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Ga,e)}catch{}}var At=Math.clz32?Math.clz32:Dp,Cp=Math.log,kp=Math.LN2;function Dp(e){return e>>>=0,e===0?32:31-(Cp(e)/kp|0)|0}var os=256,us=262144,cs=4194304;function fr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fs(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var c=0,h=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var x=i&134217727;return x!==0?(i=x&~h,i!==0?c=fr(i):(_&=x,_!==0?c=fr(_):n||(n=x&~e,n!==0&&(c=fr(n))))):(x=i&~h,x!==0?c=fr(x):_!==0?c=fr(_):n||(n=i&~e,n!==0&&(c=fr(n)))),c===0?0:t!==0&&t!==c&&(t&h)===0&&(h=c&-c,n=t&-t,h>=n||h===32&&(n&4194048)!==0)?t:c}function Va(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Mp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rd(){var e=cs;return cs<<=1,(cs&62914560)===0&&(cs=4194304),e}function $o(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ka(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Up(e,t,n,i,c,h){var _=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var x=e.entanglements,T=e.expirationTimes,k=e.hiddenUpdates;for(n=_&~n;0<n;){var z=31-At(n),H=1<<z;x[z]=0,T[z]=-1;var D=k[z];if(D!==null)for(k[z]=null,z=0;z<D.length;z++){var L=D[z];L!==null&&(L.lane&=-536870913)}n&=~H}i!==0&&ad(e,i,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(_&~t))}function ad(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-At(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function id(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-At(n),c=1<<i;c&t|e[i]&t&&(e[i]|=t),n&=~c}}function sd(e,t){var n=t&-t;return n=(n&42)!==0?1:Po(n),(n&(e.suspendedLanes|t))!==0?0:n}function Po(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Io(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ld(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Kv(e.type))}function od(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}var Ln=Math.random().toString(36).slice(2),at="__reactFiber$"+Ln,yt="__reactProps$"+Ln,Hr="__reactContainer$"+Ln,Go="__reactEvents$"+Ln,Lp="__reactListeners$"+Ln,Bp="__reactHandles$"+Ln,ud="__reactResources$"+Ln,Xa="__reactMarker$"+Ln;function Vo(e){delete e[at],delete e[yt],delete e[Go],delete e[Lp],delete e[Bp]}function $r(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hr]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nv(e);e!==null;){if(n=e[at])return n;e=Nv(e)}return t}e=n,n=e.parentNode}return null}function Pr(e){if(e=e[at]||e[Hr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ya(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Ir(e){var t=e[ud];return t||(t=e[ud]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function tt(e){e[Xa]=!0}var cd=new Set,fd={};function dr(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for(fd[e]=t,e=0;e<t.length;e++)cd.add(t[e])}var zp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dd={},hd={};function qp(e){return Ia.call(hd,e)?!0:Ia.call(dd,e)?!1:zp.test(e)?hd[e]=!0:(dd[e]=!0,!1)}function ds(e,t,n){if(qp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function hs(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function hn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hp(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(_){n=""+_,h.call(this,_)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(_){n=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ko(e){if(!e._valueTracker){var t=vd(e)?"checked":"value";e._valueTracker=Hp(e,t,""+e[t])}}function gd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=vd(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $p=/[\n"\\]/g;function Ht(e){return e.replace($p,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xo(e,t,n,i,c,h,_,x){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?Yo(e,_,qt(t)):n!=null?Yo(e,_,qt(n)):i!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+qt(x):e.removeAttribute("name")}function md(e,t,n,i,c,h,_,x){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||n!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){Ko(e);return}n=n!=null?""+qt(n):"",t=t!=null?""+qt(t):n,x||t===e.value||(e.value=t),e.defaultValue=t}i=i??c,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=x?e.checked:!!i,e.defaultChecked=!!i,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Ko(e)}function Yo(e,t,n){t==="number"&&vs(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Vr(e,t,n,i){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&i&&(e[n].defaultSelected=!0)}else{for(n=""+qt(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,i&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function yd(e,t,n){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+qt(n):""}function pd(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(s(92));if(ae(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=qt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Ko(e)}function Kr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Pp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bd(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Pp.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _d(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var c in t)i=t[c],t.hasOwnProperty(c)&&n[c]!==i&&bd(e,c,i)}else for(var h in t)t.hasOwnProperty(h)&&bd(e,h,t[h])}function Fo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gs(e){return Gp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function vn(){}var Qo=null;function Zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xr=null,Yr=null;function wd(e){var t=Pr(e);if(t&&(e=t.stateNode)){var n=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var c=i[yt]||null;if(!c)throw Error(s(90));Xo(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&gd(i)}break e;case"textarea":yd(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Vr(e,!!n.multiple,t,!1)}}}var Jo=!1;function Sd(e,t,n){if(Jo)return e(t,n);Jo=!0;try{var i=e(t);return i}finally{if(Jo=!1,(Xr!==null||Yr!==null)&&(nl(),Xr&&(t=Xr,e=Yr,Yr=Xr=null,wd(t),e)))for(t=0;t<e.length;t++)wd(e[t])}}function Fa(e,t){var n=e.stateNode;if(n===null)return null;var i=n[yt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wo=!1;if(gn)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Wo=!1}var Bn=null,eu=null,ms=null;function Ed(){if(ms)return ms;var e,t=eu,n=t.length,i,c="value"in Bn?Bn.value:Bn.textContent,h=c.length;for(e=0;e<n&&t[e]===c[e];e++);var _=n-e;for(i=1;i<=_&&t[n-i]===c[h-i];i++);return ms=c.slice(e,1<i?1-i:void 0)}function ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function xd(){return!1}function pt(e){function t(n,i,c,h,_){this._reactName=n,this._targetInst=c,this.type=i,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(h):h[x]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ps:xd,this.isPropagationStopped=xd,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),t}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bs=pt(hr),Za=p({},hr,{view:0,detail:0}),Vp=pt(Za),tu,nu,Ja,_s=p({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ja&&(Ja&&e.type==="mousemove"?(tu=e.screenX-Ja.screenX,nu=e.screenY-Ja.screenY):nu=tu=0,Ja=e),tu)},movementY:function(e){return"movementY"in e?e.movementY:nu}}),Od=pt(_s),Kp=p({},_s,{dataTransfer:0}),Xp=pt(Kp),Yp=p({},Za,{relatedTarget:0}),ru=pt(Yp),Fp=p({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qp=pt(Fp),Zp=p({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jp=pt(Zp),Wp=p({},hr,{data:0}),Td=pt(Wp),eb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nb[e])?!!t[e]:!1}function au(){return rb}var ab=p({},Za,{key:function(e){if(e.key){var t=eb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:au,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ib=pt(ab),sb=p({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=pt(sb),lb=p({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:au}),ob=pt(lb),ub=p({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cb=pt(ub),fb=p({},_s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),db=pt(fb),hb=p({},hr,{newState:0,oldState:0}),vb=pt(hb),gb=[9,13,27,32],iu=gn&&"CompositionEvent"in window,Wa=null;gn&&"documentMode"in document&&(Wa=document.documentMode);var mb=gn&&"TextEvent"in window&&!Wa,jd=gn&&(!iu||Wa&&8<Wa&&11>=Wa),Rd=" ",Nd=!1;function Cd(e,t){switch(e){case"keyup":return gb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function yb(e,t){switch(e){case"compositionend":return kd(t);case"keypress":return t.which!==32?null:(Nd=!0,Rd);case"textInput":return e=t.data,e===Rd&&Nd?null:e;default:return null}}function pb(e,t){if(Fr)return e==="compositionend"||!iu&&Cd(e,t)?(e=Ed(),ms=eu=Bn=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jd&&t.locale!=="ko"?null:t.data;default:return null}}var bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bb[e.type]:t==="textarea"}function Md(e,t,n,i){Xr?Yr?Yr.push(i):Yr=[i]:Xr=i,t=ul(t,"onChange"),0<t.length&&(n=new bs("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var ei=null,ti=null;function _b(e){mv(e,0)}function ws(e){var t=Ya(e);if(gd(t))return e}function Ud(e,t){if(e==="change")return t}var Ld=!1;if(gn){var su;if(gn){var lu="oninput"in document;if(!lu){var Bd=document.createElement("div");Bd.setAttribute("oninput","return;"),lu=typeof Bd.oninput=="function"}su=lu}else su=!1;Ld=su&&(!document.documentMode||9<document.documentMode)}function zd(){ei&&(ei.detachEvent("onpropertychange",qd),ti=ei=null)}function qd(e){if(e.propertyName==="value"&&ws(ti)){var t=[];Md(t,ti,e,Zo(e)),Sd(_b,t)}}function wb(e,t,n){e==="focusin"?(zd(),ei=t,ti=n,ei.attachEvent("onpropertychange",qd)):e==="focusout"&&zd()}function Sb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ws(ti)}function Eb(e,t){if(e==="click")return ws(t)}function xb(e,t){if(e==="input"||e==="change")return ws(t)}function Ob(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Ob;function ni(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var c=n[i];if(!Ia.call(t,c)||!jt(e[c],t[c]))return!1}return!0}function Hd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $d(e,t){var n=Hd(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hd(n)}}function Pd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Id(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=vs(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vs(e.document)}return t}function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Tb=gn&&"documentMode"in document&&11>=document.documentMode,Qr=null,uu=null,ri=null,cu=!1;function Gd(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cu||Qr==null||Qr!==vs(i)||(i=Qr,"selectionStart"in i&&ou(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ri&&ni(ri,i)||(ri=i,i=ul(uu,"onSelect"),0<i.length&&(t=new bs("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Qr)))}function vr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zr={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},fu={},Vd={};gn&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function gr(e){if(fu[e])return fu[e];if(!Zr[e])return e;var t=Zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vd)return fu[e]=t[n];return e}var Kd=gr("animationend"),Xd=gr("animationiteration"),Yd=gr("animationstart"),Ab=gr("transitionrun"),jb=gr("transitionstart"),Rb=gr("transitioncancel"),Fd=gr("transitionend"),Qd=new Map,du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");du.push("scrollEnd");function Zt(e,t){Qd.set(e,t),dr(t,[e])}var Ss=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$t=[],Jr=0,hu=0;function Es(){for(var e=Jr,t=hu=Jr=0;t<e;){var n=$t[t];$t[t++]=null;var i=$t[t];$t[t++]=null;var c=$t[t];$t[t++]=null;var h=$t[t];if($t[t++]=null,i!==null&&c!==null){var _=i.pending;_===null?c.next=c:(c.next=_.next,_.next=c),i.pending=c}h!==0&&Zd(n,c,h)}}function xs(e,t,n,i){$t[Jr++]=e,$t[Jr++]=t,$t[Jr++]=n,$t[Jr++]=i,hu|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function vu(e,t,n,i){return xs(e,t,n,i),Os(e)}function mr(e,t){return xs(e,null,null,t),Os(e)}function Zd(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var c=!1,h=e.return;h!==null;)h.childLanes|=n,i=h.alternate,i!==null&&(i.childLanes|=n),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&t!==null&&(c=31-At(n),e=h.hiddenUpdates,i=e[c],i===null?e[c]=[t]:i.push(t),t.lane=n|536870912),h):null}function Os(e){if(50<Oi)throw Oi=0,Ec=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Wr={};function Nb(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,n,i){return new Nb(e,t,n,i)}function gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mn(e,t){var n=e.alternate;return n===null?(n=Rt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ts(e,t,n,i,c,h){var _=0;if(i=e,typeof e=="function")gu(e)&&(_=1);else if(typeof e=="string")_=U1(e,n,Q.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case K:return e=Rt(31,n,t,c),e.elementType=K,e.lanes=h,e;case E:return yr(n.children,c,h,t);case O:_=8,c|=24;break;case R:return e=Rt(12,n,t,c|2),e.elementType=R,e.lanes=h,e;case ee:return e=Rt(13,n,t,c),e.elementType=ee,e.lanes=h,e;case Z:return e=Rt(19,n,t,c),e.elementType=Z,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:_=10;break e;case M:_=9;break e;case P:_=11;break e;case V:_=14;break e;case ie:_=16,i=null;break e}_=29,n=Error(s(130,e===null?"null":typeof e,"")),i=null}return t=Rt(_,n,t,c),t.elementType=e,t.type=i,t.lanes=h,t}function yr(e,t,n,i){return e=Rt(7,e,i,t),e.lanes=n,e}function mu(e,t,n){return e=Rt(6,e,null,t),e.lanes=n,e}function Wd(e){var t=Rt(18,null,null,0);return t.stateNode=e,t}function yu(e,t,n){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var eh=new WeakMap;function Pt(e,t){if(typeof e=="object"&&e!==null){var n=eh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:dn(t)},eh.set(e,t),t)}return{value:e,source:t,stack:dn(t)}}var ea=[],ta=0,As=null,ai=0,It=[],Gt=0,zn=null,sn=1,ln="";function yn(e,t){ea[ta++]=ai,ea[ta++]=As,As=e,ai=t}function th(e,t,n){It[Gt++]=sn,It[Gt++]=ln,It[Gt++]=zn,zn=e;var i=sn;e=ln;var c=32-At(i)-1;i&=~(1<<c),n+=1;var h=32-At(t)+c;if(30<h){var _=c-c%5;h=(i&(1<<_)-1).toString(32),i>>=_,c-=_,sn=1<<32-At(t)+c|n<<c|i,ln=h+e}else sn=1<<h|n<<c|i,ln=e}function pu(e){e.return!==null&&(yn(e,1),th(e,1,0))}function bu(e){for(;e===As;)As=ea[--ta],ea[ta]=null,ai=ea[--ta],ea[ta]=null;for(;e===zn;)zn=It[--Gt],It[Gt]=null,ln=It[--Gt],It[Gt]=null,sn=It[--Gt],It[Gt]=null}function nh(e,t){It[Gt++]=sn,It[Gt++]=ln,It[Gt++]=zn,sn=t.id,ln=t.overflow,zn=e}var it=null,Be=null,Se=!1,qn=null,Vt=!1,_u=Error(s(519));function Hn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ii(Pt(t,e)),_u}function rh(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[at]=e,t[yt]=i,n){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(n=0;n<Ai.length;n++)pe(Ai[n],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),md(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),pd(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||_v(t.textContent,n)?(i.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),i.onScroll!=null&&pe("scroll",t),i.onScrollEnd!=null&&pe("scrollend",t),i.onClick!=null&&(t.onclick=vn),t=!0):t=!1,t||Hn(e,!0)}function ah(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:it=it.return}}function na(e){if(e!==it)return!1;if(!Se)return ah(e),Se=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||zc(e.type,e.memoizedProps)),n=!n),n&&Be&&Hn(e),ah(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Be=Rv(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Be=Rv(e)}else t===27?(t=Be,er(e.type)?(e=Ic,Ic=null,Be=e):Be=t):Be=it?Xt(e.stateNode.nextSibling):null;return!0}function pr(){Be=it=null,Se=!1}function wu(){var e=qn;return e!==null&&(St===null?St=e:St.push.apply(St,e),qn=null),e}function ii(e){qn===null?qn=[e]:qn.push(e)}var Su=A(null),br=null,pn=null;function $n(e,t,n){G(Su,t._currentValue),t._currentValue=n}function bn(e){e._currentValue=Su.current,$(Su)}function Eu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function xu(e,t,n,i){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var _=c.child;h=h.firstContext;e:for(;h!==null;){var x=h;h=c;for(var T=0;T<t.length;T++)if(x.context===t[T]){h.lanes|=n,x=h.alternate,x!==null&&(x.lanes|=n),Eu(h.return,n,e),i||(_=null);break e}h=x.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(s(341));_.lanes|=n,h=_.alternate,h!==null&&(h.lanes|=n),Eu(_,n,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function ra(e,t,n,i){e=null;for(var c=t,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var x=c.type;jt(c.pendingProps.value,_.value)||(e!==null?e.push(x):e=[x])}}else if(c===we.current){if(_=c.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ki):e=[ki])}c=c.return}e!==null&&xu(t,e,n,i),t.flags|=262144}function js(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _r(e){br=e,pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return ih(br,e)}function Rs(e,t){return br===null&&_r(e),ih(e,t)}function ih(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},pn===null){if(e===null)throw Error(s(308));pn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pn=pn.next=t;return n}var Cb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},kb=l.unstable_scheduleCallback,Db=l.unstable_NormalPriority,Ye={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ou(){return{controller:new Cb,data:new Map,refCount:0}}function si(e){e.refCount--,e.refCount===0&&kb(Db,function(){e.controller.abort()})}var li=null,Tu=0,aa=0,ia=null;function Mb(e,t){if(li===null){var n=li=[];Tu=0,aa=Rc(),ia={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Tu++,t.then(sh,sh),t}function sh(){if(--Tu===0&&li!==null){ia!==null&&(ia.status="fulfilled");var e=li;li=null,aa=0,ia=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ub(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(c){n.push(c)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var c=0;c<n.length;c++)(0,n[c])(t)},function(c){for(i.status="rejected",i.reason=c,c=0;c<n.length;c++)(0,n[c])(void 0)}),i}var lh=B.S;B.S=function(e,t){G0=ht(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Mb(e,t),lh!==null&&lh(e,t)};var wr=A(null);function Au(){var e=wr.current;return e!==null?e:Ue.pooledCache}function Ns(e,t){t===null?G(wr,wr.current):G(wr,t.pool)}function oh(){var e=Au();return e===null?null:{parent:Ye._currentValue,pool:e}}var sa=Error(s(460)),ju=Error(s(474)),Cs=Error(s(542)),ks={then:function(){}};function uh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ch(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(vn,vn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dh(e),e;default:if(typeof t.status=="string")t.then(vn,vn);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=i}},function(i){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,dh(e),e}throw Er=t,sa}}function Sr(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Er=n,sa):n}}var Er=null;function fh(){if(Er===null)throw Error(s(459));var e=Er;return Er=null,e}function dh(e){if(e===sa||e===Cs)throw Error(s(483))}var la=null,oi=0;function Ds(e){var t=oi;return oi+=1,la===null&&(la=[]),ch(la,e,t)}function ui(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ms(e,t){throw t.$$typeof===m?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function hh(e){function t(N,j){if(e){var C=N.deletions;C===null?(N.deletions=[j],N.flags|=16):C.push(j)}}function n(N,j){if(!e)return null;for(;j!==null;)t(N,j),j=j.sibling;return null}function i(N){for(var j=new Map;N!==null;)N.key!==null?j.set(N.key,N):j.set(N.index,N),N=N.sibling;return j}function c(N,j){return N=mn(N,j),N.index=0,N.sibling=null,N}function h(N,j,C){return N.index=C,e?(C=N.alternate,C!==null?(C=C.index,C<j?(N.flags|=67108866,j):C):(N.flags|=67108866,j)):(N.flags|=1048576,j)}function _(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function x(N,j,C,q){return j===null||j.tag!==6?(j=mu(C,N.mode,q),j.return=N,j):(j=c(j,C),j.return=N,j)}function T(N,j,C,q){var te=C.type;return te===E?z(N,j,C.props.children,q,C.key):j!==null&&(j.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ie&&Sr(te)===j.type)?(j=c(j,C.props),ui(j,C),j.return=N,j):(j=Ts(C.type,C.key,C.props,null,N.mode,q),ui(j,C),j.return=N,j)}function k(N,j,C,q){return j===null||j.tag!==4||j.stateNode.containerInfo!==C.containerInfo||j.stateNode.implementation!==C.implementation?(j=yu(C,N.mode,q),j.return=N,j):(j=c(j,C.children||[]),j.return=N,j)}function z(N,j,C,q,te){return j===null||j.tag!==7?(j=yr(C,N.mode,q,te),j.return=N,j):(j=c(j,C),j.return=N,j)}function H(N,j,C){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=mu(""+j,N.mode,C),j.return=N,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case b:return C=Ts(j.type,j.key,j.props,null,N.mode,C),ui(C,j),C.return=N,C;case w:return j=yu(j,N.mode,C),j.return=N,j;case ie:return j=Sr(j),H(N,j,C)}if(ae(j)||ne(j))return j=yr(j,N.mode,C,null),j.return=N,j;if(typeof j.then=="function")return H(N,Ds(j),C);if(j.$$typeof===U)return H(N,Rs(N,j),C);Ms(N,j)}return null}function D(N,j,C,q){var te=j!==null?j.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return te!==null?null:x(N,j,""+C,q);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case b:return C.key===te?T(N,j,C,q):null;case w:return C.key===te?k(N,j,C,q):null;case ie:return C=Sr(C),D(N,j,C,q)}if(ae(C)||ne(C))return te!==null?null:z(N,j,C,q,null);if(typeof C.then=="function")return D(N,j,Ds(C),q);if(C.$$typeof===U)return D(N,j,Rs(N,C),q);Ms(N,C)}return null}function L(N,j,C,q,te){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return N=N.get(C)||null,x(j,N,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return N=N.get(q.key===null?C:q.key)||null,T(j,N,q,te);case w:return N=N.get(q.key===null?C:q.key)||null,k(j,N,q,te);case ie:return q=Sr(q),L(N,j,C,q,te)}if(ae(q)||ne(q))return N=N.get(C)||null,z(j,N,q,te,null);if(typeof q.then=="function")return L(N,j,C,Ds(q),te);if(q.$$typeof===U)return L(N,j,C,Rs(j,q),te);Ms(j,q)}return null}function F(N,j,C,q){for(var te=null,Oe=null,J=j,ge=j=0,_e=null;J!==null&&ge<C.length;ge++){J.index>ge?(_e=J,J=null):_e=J.sibling;var Te=D(N,J,C[ge],q);if(Te===null){J===null&&(J=_e);break}e&&J&&Te.alternate===null&&t(N,J),j=h(Te,j,ge),Oe===null?te=Te:Oe.sibling=Te,Oe=Te,J=_e}if(ge===C.length)return n(N,J),Se&&yn(N,ge),te;if(J===null){for(;ge<C.length;ge++)J=H(N,C[ge],q),J!==null&&(j=h(J,j,ge),Oe===null?te=J:Oe.sibling=J,Oe=J);return Se&&yn(N,ge),te}for(J=i(J);ge<C.length;ge++)_e=L(J,N,ge,C[ge],q),_e!==null&&(e&&_e.alternate!==null&&J.delete(_e.key===null?ge:_e.key),j=h(_e,j,ge),Oe===null?te=_e:Oe.sibling=_e,Oe=_e);return e&&J.forEach(function(ir){return t(N,ir)}),Se&&yn(N,ge),te}function le(N,j,C,q){if(C==null)throw Error(s(151));for(var te=null,Oe=null,J=j,ge=j=0,_e=null,Te=C.next();J!==null&&!Te.done;ge++,Te=C.next()){J.index>ge?(_e=J,J=null):_e=J.sibling;var ir=D(N,J,Te.value,q);if(ir===null){J===null&&(J=_e);break}e&&J&&ir.alternate===null&&t(N,J),j=h(ir,j,ge),Oe===null?te=ir:Oe.sibling=ir,Oe=ir,J=_e}if(Te.done)return n(N,J),Se&&yn(N,ge),te;if(J===null){for(;!Te.done;ge++,Te=C.next())Te=H(N,Te.value,q),Te!==null&&(j=h(Te,j,ge),Oe===null?te=Te:Oe.sibling=Te,Oe=Te);return Se&&yn(N,ge),te}for(J=i(J);!Te.done;ge++,Te=C.next())Te=L(J,N,ge,Te.value,q),Te!==null&&(e&&Te.alternate!==null&&J.delete(Te.key===null?ge:Te.key),j=h(Te,j,ge),Oe===null?te=Te:Oe.sibling=Te,Oe=Te);return e&&J.forEach(function(K1){return t(N,K1)}),Se&&yn(N,ge),te}function Me(N,j,C,q){if(typeof C=="object"&&C!==null&&C.type===E&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case b:e:{for(var te=C.key;j!==null;){if(j.key===te){if(te=C.type,te===E){if(j.tag===7){n(N,j.sibling),q=c(j,C.props.children),q.return=N,N=q;break e}}else if(j.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ie&&Sr(te)===j.type){n(N,j.sibling),q=c(j,C.props),ui(q,C),q.return=N,N=q;break e}n(N,j);break}else t(N,j);j=j.sibling}C.type===E?(q=yr(C.props.children,N.mode,q,C.key),q.return=N,N=q):(q=Ts(C.type,C.key,C.props,null,N.mode,q),ui(q,C),q.return=N,N=q)}return _(N);case w:e:{for(te=C.key;j!==null;){if(j.key===te)if(j.tag===4&&j.stateNode.containerInfo===C.containerInfo&&j.stateNode.implementation===C.implementation){n(N,j.sibling),q=c(j,C.children||[]),q.return=N,N=q;break e}else{n(N,j);break}else t(N,j);j=j.sibling}q=yu(C,N.mode,q),q.return=N,N=q}return _(N);case ie:return C=Sr(C),Me(N,j,C,q)}if(ae(C))return F(N,j,C,q);if(ne(C)){if(te=ne(C),typeof te!="function")throw Error(s(150));return C=te.call(C),le(N,j,C,q)}if(typeof C.then=="function")return Me(N,j,Ds(C),q);if(C.$$typeof===U)return Me(N,j,Rs(N,C),q);Ms(N,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,j!==null&&j.tag===6?(n(N,j.sibling),q=c(j,C),q.return=N,N=q):(n(N,j),q=mu(C,N.mode,q),q.return=N,N=q),_(N)):n(N,j)}return function(N,j,C,q){try{oi=0;var te=Me(N,j,C,q);return la=null,te}catch(J){if(J===sa||J===Cs)throw J;var Oe=Rt(29,J,null,N.mode);return Oe.lanes=q,Oe.return=N,Oe}finally{}}}var xr=hh(!0),vh=hh(!1),Pn=!1;function Ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function In(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ae&2)!==0){var c=i.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),i.pending=t,t=Os(e),Zd(e,null,n),t}return xs(e,i,t,n),Os(e)}function ci(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,id(e,n)}}function Cu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var c=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var _={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};h===null?c=h=_:h=h.next=_,n=n.next}while(n!==null);h===null?c=h=t:h=h.next=t}else c=h=t;n={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ku=!1;function fi(){if(ku){var e=ia;if(e!==null)throw e}}function di(e,t,n,i){ku=!1;var c=e.updateQueue;Pn=!1;var h=c.firstBaseUpdate,_=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var T=x,k=T.next;T.next=null,_===null?h=k:_.next=k,_=T;var z=e.alternate;z!==null&&(z=z.updateQueue,x=z.lastBaseUpdate,x!==_&&(x===null?z.firstBaseUpdate=k:x.next=k,z.lastBaseUpdate=T))}if(h!==null){var H=c.baseState;_=0,z=k=T=null,x=h;do{var D=x.lane&-536870913,L=D!==x.lane;if(L?(be&D)===D:(i&D)===D){D!==0&&D===aa&&(ku=!0),z!==null&&(z=z.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var F=e,le=x;D=t;var Me=n;switch(le.tag){case 1:if(F=le.payload,typeof F=="function"){H=F.call(Me,H,D);break e}H=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=le.payload,D=typeof F=="function"?F.call(Me,H,D):F,D==null)break e;H=p({},H,D);break e;case 2:Pn=!0}}D=x.callback,D!==null&&(e.flags|=64,L&&(e.flags|=8192),L=c.callbacks,L===null?c.callbacks=[D]:L.push(D))}else L={lane:D,tag:x.tag,payload:x.payload,callback:x.callback,next:null},z===null?(k=z=L,T=H):z=z.next=L,_|=D;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;L=x,x=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);z===null&&(T=H),c.baseState=T,c.firstBaseUpdate=k,c.lastBaseUpdate=z,h===null&&(c.shared.lanes=0),Fn|=_,e.lanes=_,e.memoizedState=H}}function gh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function mh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)gh(n[e],t)}var oa=A(null),Us=A(0);function yh(e,t){e=jn,G(Us,e),G(oa,t),jn=e|t.baseLanes}function Du(){G(Us,jn),G(oa,oa.current)}function Mu(){jn=Us.current,$(oa),$(Us)}var Nt=A(null),Kt=null;function Vn(e){var t=e.alternate;G(Ve,Ve.current&1),G(Nt,e),Kt===null&&(t===null||oa.current!==null||t.memoizedState!==null)&&(Kt=e)}function Uu(e){G(Ve,Ve.current),G(Nt,e),Kt===null&&(Kt=e)}function ph(e){e.tag===22?(G(Ve,Ve.current),G(Nt,e),Kt===null&&(Kt=e)):Kn()}function Kn(){G(Ve,Ve.current),G(Nt,Nt.current)}function Ct(e){$(Nt),Kt===e&&(Kt=null),$(Ve)}var Ve=A(0);function Ls(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||$c(n)||Pc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _n=0,ve=null,ke=null,Fe=null,Bs=!1,ua=!1,Or=!1,zs=0,hi=0,ca=null,Lb=0;function Pe(){throw Error(s(321))}function Lu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function Bu(e,t,n,i,c,h){return _n=h,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?t0:Ju,Or=!1,h=n(i,c),Or=!1,ua&&(h=_h(t,n,i,c)),bh(e),h}function bh(e){B.H=mi;var t=ke!==null&&ke.next!==null;if(_n=0,Fe=ke=ve=null,Bs=!1,hi=0,ca=null,t)throw Error(s(300));e===null||Qe||(e=e.dependencies,e!==null&&js(e)&&(Qe=!0))}function _h(e,t,n,i){ve=e;var c=0;do{if(ua&&(ca=null),hi=0,ua=!1,25<=c)throw Error(s(301));if(c+=1,Fe=ke=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=n0,h=t(n,i)}while(ua);return h}function Bb(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?vi(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(ve.flags|=1024),t}function zu(){var e=zs!==0;return zs=0,e}function qu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Hu(e){if(Bs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Bs=!1}_n=0,Fe=ke=ve=null,ua=!1,hi=zs=0,ca=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ve.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ke(){if(ke===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Fe===null?ve.memoizedState:Fe.next;if(t!==null)Fe=t,ke=e;else{if(e===null)throw ve.alternate===null?Error(s(467)):Error(s(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Fe===null?ve.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function qs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vi(e){var t=hi;return hi+=1,ca===null&&(ca=[]),e=ch(ca,e,t),t=ve,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?t0:Ju),e}function Hs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vi(e);if(e.$$typeof===U)return st(e)}throw Error(s(438,String(e)))}function $u(e){var t=null,n=ve.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=ve.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=qs(),ve.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=se;return t.index++,n}function wn(e,t){return typeof t=="function"?t(e):t}function $s(e){var t=Ke();return Pu(t,ke,e)}function Pu(e,t,n){var i=e.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=n;var c=e.baseQueue,h=i.pending;if(h!==null){if(c!==null){var _=c.next;c.next=h.next,h.next=_}t.baseQueue=c=h,i.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{t=c.next;var x=_=null,T=null,k=t,z=!1;do{var H=k.lane&-536870913;if(H!==k.lane?(be&H)===H:(_n&H)===H){var D=k.revertLane;if(D===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),H===aa&&(z=!0);else if((_n&D)===D){k=k.next,D===aa&&(z=!0);continue}else H={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},T===null?(x=T=H,_=h):T=T.next=H,ve.lanes|=D,Fn|=D;H=k.action,Or&&n(h,H),h=k.hasEagerState?k.eagerState:n(h,H)}else D={lane:H,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},T===null?(x=T=D,_=h):T=T.next=D,ve.lanes|=H,Fn|=H;k=k.next}while(k!==null&&k!==t);if(T===null?_=h:T.next=x,!jt(h,e.memoizedState)&&(Qe=!0,z&&(n=ia,n!==null)))throw n;e.memoizedState=h,e.baseState=_,e.baseQueue=T,i.lastRenderedState=h}return c===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Iu(e){var t=Ke(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,c=n.pending,h=t.memoizedState;if(c!==null){n.pending=null;var _=c=c.next;do h=e(h,_.action),_=_.next;while(_!==c);jt(h,t.memoizedState)||(Qe=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,i]}function wh(e,t,n){var i=ve,c=Ke(),h=Se;if(h){if(n===void 0)throw Error(s(407));n=n()}else n=t();var _=!jt((ke||c).memoizedState,n);if(_&&(c.memoizedState=n,Qe=!0),c=c.queue,Ku(xh.bind(null,i,c,e),[e]),c.getSnapshot!==t||_||Fe!==null&&Fe.memoizedState.tag&1){if(i.flags|=2048,fa(9,{destroy:void 0},Eh.bind(null,i,c,n,t),null),Ue===null)throw Error(s(349));h||(_n&127)!==0||Sh(i,t,n)}return n}function Sh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t=qs(),ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Eh(e,t,n,i){t.value=n,t.getSnapshot=i,Oh(t)&&Th(e)}function xh(e,t,n){return n(function(){Oh(t)&&Th(e)})}function Oh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function Th(e){var t=mr(e,2);t!==null&&Et(t,e,2)}function Gu(e){var t=vt();if(typeof e=="function"){var n=e;if(e=n(),Or){Un(!0);try{n()}finally{Un(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:e},t}function Ah(e,t,n,i){return e.baseState=n,Pu(e,ke,typeof i=="function"?i:wn)}function zb(e,t,n,i,c){if(Gs(e))throw Error(s(485));if(e=t.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};B.T!==null?n(!0):h.isTransition=!1,i(h),n=t.pending,n===null?(h.next=t.pending=h,jh(t,h)):(h.next=n.next,t.pending=n.next=h)}}function jh(e,t){var n=t.action,i=t.payload,c=e.state;if(t.isTransition){var h=B.T,_={};B.T=_;try{var x=n(c,i),T=B.S;T!==null&&T(_,x),Rh(e,t,x)}catch(k){Vu(e,t,k)}finally{h!==null&&_.types!==null&&(h.types=_.types),B.T=h}}else try{h=n(c,i),Rh(e,t,h)}catch(k){Vu(e,t,k)}}function Rh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Nh(e,t,i)},function(i){return Vu(e,t,i)}):Nh(e,t,n)}function Nh(e,t,n){t.status="fulfilled",t.value=n,Ch(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,jh(e,n)))}function Vu(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Ch(t),t=t.next;while(t!==i)}e.action=null}function Ch(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kh(e,t){return t}function Dh(e,t){if(Se){var n=Ue.formState;if(n!==null){e:{var i=ve;if(Se){if(Be){t:{for(var c=Be,h=Vt;c.nodeType!==8;){if(!h){c=null;break t}if(c=Xt(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Be=Xt(c.nextSibling),i=c.data==="F!";break e}}Hn(i)}i=!1}i&&(t=n[0])}}return n=vt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kh,lastRenderedState:t},n.queue=i,n=Jh.bind(null,ve,i),i.dispatch=n,i=Gu(!1),h=Zu.bind(null,ve,!1,i.queue),i=vt(),c={state:t,dispatch:null,action:e,pending:null},i.queue=c,n=zb.bind(null,ve,c,h,n),c.dispatch=n,i.memoizedState=e,[t,n,!1]}function Mh(e){var t=Ke();return Uh(t,ke,e)}function Uh(e,t,n){if(t=Pu(e,t,kh)[0],e=$s(wn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=vi(t)}catch(_){throw _===sa?Cs:_}else i=t;t=Ke();var c=t.queue,h=c.dispatch;return n!==t.memoizedState&&(ve.flags|=2048,fa(9,{destroy:void 0},qb.bind(null,c,n),null)),[i,h,e]}function qb(e,t){e.action=t}function Lh(e){var t=Ke(),n=ke;if(n!==null)return Uh(t,n,e);Ke(),t=t.memoizedState,n=Ke();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function fa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=ve.updateQueue,t===null&&(t=qs(),ve.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Bh(){return Ke().memoizedState}function Ps(e,t,n,i){var c=vt();ve.flags|=e,c.memoizedState=fa(1|t,{destroy:void 0},n,i===void 0?null:i)}function Is(e,t,n,i){var c=Ke();i=i===void 0?null:i;var h=c.memoizedState.inst;ke!==null&&i!==null&&Lu(i,ke.memoizedState.deps)?c.memoizedState=fa(t,h,n,i):(ve.flags|=e,c.memoizedState=fa(1|t,h,n,i))}function zh(e,t){Ps(8390656,8,e,t)}function Ku(e,t){Is(2048,8,e,t)}function Hb(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=qs(),ve.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function qh(e){var t=Ke().memoizedState;return Hb({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Hh(e,t){return Is(4,2,e,t)}function $h(e,t){return Is(4,4,e,t)}function Ph(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ih(e,t,n){n=n!=null?n.concat([e]):null,Is(4,4,Ph.bind(null,t,e),n)}function Xu(){}function Gh(e,t){var n=Ke();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Lu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Vh(e,t){var n=Ke();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Lu(t,i[1]))return i[0];if(i=e(),Or){Un(!0);try{e()}finally{Un(!1)}}return n.memoizedState=[i,t],i}function Yu(e,t,n){return n===void 0||(_n&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=K0(),ve.lanes|=e,Fn|=e,n)}function Kh(e,t,n,i){return jt(n,t)?n:oa.current!==null?(e=Yu(e,n,i),jt(e,t)||(Qe=!0),e):(_n&42)===0||(_n&1073741824)!==0&&(be&261930)===0?(Qe=!0,e.memoizedState=n):(e=K0(),ve.lanes|=e,Fn|=e,t)}function Xh(e,t,n,i,c){var h=I.p;I.p=h!==0&&8>h?h:8;var _=B.T,x={};B.T=x,Zu(e,!1,t,n);try{var T=c(),k=B.S;if(k!==null&&k(x,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var z=Ub(T,i);gi(e,t,z,Mt(e))}else gi(e,t,i,Mt(e))}catch(H){gi(e,t,{then:function(){},status:"rejected",reason:H},Mt())}finally{I.p=h,_!==null&&x.types!==null&&(_.types=x.types),B.T=_}}function $b(){}function Fu(e,t,n,i){if(e.tag!==5)throw Error(s(476));var c=Yh(e).queue;Xh(e,c,t,oe,n===null?$b:function(){return Fh(e),n(i)})}function Yh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:oe},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Fh(e){var t=Yh(e);t.next===null&&(t=e.alternate.memoizedState),gi(e,t.next.queue,{},Mt())}function Qu(){return st(ki)}function Qh(){return Ke().memoizedState}function Zh(){return Ke().memoizedState}function Pb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Mt();e=In(n);var i=Gn(t,e,n);i!==null&&(Et(i,t,n),ci(i,t,n)),t={cache:Ou()},e.payload=t;return}t=t.return}}function Ib(e,t,n){var i=Mt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Gs(e)?Wh(t,n):(n=vu(e,t,n,i),n!==null&&(Et(n,e,i),e0(n,t,i)))}function Jh(e,t,n){var i=Mt();gi(e,t,n,i)}function gi(e,t,n,i){var c={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))Wh(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var _=t.lastRenderedState,x=h(_,n);if(c.hasEagerState=!0,c.eagerState=x,jt(x,_))return xs(e,t,c,0),Ue===null&&Es(),!1}catch{}finally{}if(n=vu(e,t,c,i),n!==null)return Et(n,e,i),e0(n,t,i),!0}return!1}function Zu(e,t,n,i){if(i={lane:2,revertLane:Rc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Gs(e)){if(t)throw Error(s(479))}else t=vu(e,n,i,2),t!==null&&Et(t,e,2)}function Gs(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Wh(e,t){ua=Bs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function e0(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,id(e,n)}}var mi={readContext:st,use:Hs,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};mi.useEffectEvent=Pe;var t0={readContext:st,use:Hs,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:zh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ps(4194308,4,Ph.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){Ps(4,2,e,t)},useMemo:function(e,t){var n=vt();t=t===void 0?null:t;var i=e();if(Or){Un(!0);try{e()}finally{Un(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=vt();if(n!==void 0){var c=n(t);if(Or){Un(!0);try{n(t)}finally{Un(!1)}}}else c=t;return i.memoizedState=i.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},i.queue=e,e=e.dispatch=Ib.bind(null,ve,e),[i.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:function(e){e=Gu(e);var t=e.queue,n=Jh.bind(null,ve,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Xu,useDeferredValue:function(e,t){var n=vt();return Yu(n,e,t)},useTransition:function(){var e=Gu(!1);return e=Xh.bind(null,ve,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ve,c=vt();if(Se){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ue===null)throw Error(s(349));(be&127)!==0||Sh(i,t,n)}c.memoizedState=n;var h={value:n,getSnapshot:t};return c.queue=h,zh(xh.bind(null,i,h,e),[e]),i.flags|=2048,fa(9,{destroy:void 0},Eh.bind(null,i,h,n,t),null),n},useId:function(){var e=vt(),t=Ue.identifierPrefix;if(Se){var n=ln,i=sn;n=(i&~(1<<32-At(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=zs++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Lb++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Qu,useFormState:Dh,useActionState:Dh,useOptimistic:function(e){var t=vt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Zu.bind(null,ve,!0,n),n.dispatch=t,[e,t]},useMemoCache:$u,useCacheRefresh:function(){return vt().memoizedState=Pb.bind(null,ve)},useEffectEvent:function(e){var t=vt(),n={impl:e};return t.memoizedState=n,function(){if((Ae&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},Ju={readContext:st,use:Hs,useCallback:Gh,useContext:st,useEffect:Ku,useImperativeHandle:Ih,useInsertionEffect:Hh,useLayoutEffect:$h,useMemo:Vh,useReducer:$s,useRef:Bh,useState:function(){return $s(wn)},useDebugValue:Xu,useDeferredValue:function(e,t){var n=Ke();return Kh(n,ke.memoizedState,e,t)},useTransition:function(){var e=$s(wn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:vi(e),t]},useSyncExternalStore:wh,useId:Qh,useHostTransitionStatus:Qu,useFormState:Mh,useActionState:Mh,useOptimistic:function(e,t){var n=Ke();return Ah(n,ke,e,t)},useMemoCache:$u,useCacheRefresh:Zh};Ju.useEffectEvent=qh;var n0={readContext:st,use:Hs,useCallback:Gh,useContext:st,useEffect:Ku,useImperativeHandle:Ih,useInsertionEffect:Hh,useLayoutEffect:$h,useMemo:Vh,useReducer:Iu,useRef:Bh,useState:function(){return Iu(wn)},useDebugValue:Xu,useDeferredValue:function(e,t){var n=Ke();return ke===null?Yu(n,e,t):Kh(n,ke.memoizedState,e,t)},useTransition:function(){var e=Iu(wn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:vi(e),t]},useSyncExternalStore:wh,useId:Qh,useHostTransitionStatus:Qu,useFormState:Lh,useActionState:Lh,useOptimistic:function(e,t){var n=Ke();return ke!==null?Ah(n,ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$u,useCacheRefresh:Zh};n0.useEffectEvent=qh;function Wu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:p({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ec={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Mt(),c=In(i);c.payload=t,n!=null&&(c.callback=n),t=Gn(e,c,i),t!==null&&(Et(t,e,i),ci(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Mt(),c=In(i);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=Gn(e,c,i),t!==null&&(Et(t,e,i),ci(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mt(),i=In(n);i.tag=2,t!=null&&(i.callback=t),t=Gn(e,i,n),t!==null&&(Et(t,e,n),ci(t,e,n))}};function r0(e,t,n,i,c,h,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,h,_):t.prototype&&t.prototype.isPureReactComponent?!ni(n,i)||!ni(c,h):!0}function a0(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ec.enqueueReplaceState(t,t.state,null)}function Tr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=p({},n));for(var c in e)n[c]===void 0&&(n[c]=e[c])}return n}function i0(e){Ss(e)}function s0(e){console.error(e)}function l0(e){Ss(e)}function Vs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function o0(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function tc(e,t,n){return n=In(n),n.tag=3,n.payload={element:null},n.callback=function(){Vs(e,t)},n}function u0(e){return e=In(e),e.tag=3,e}function c0(e,t,n,i){var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var h=i.value;e.payload=function(){return c(h)},e.callback=function(){o0(t,n,i)}}var _=n.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){o0(t,n,i),typeof c!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})})}function Gb(e,t,n,i,c){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&ra(t,n,c,!0),n=Nt.current,n!==null){switch(n.tag){case 31:case 13:return Kt===null?rl():n.alternate===null&&Ie===0&&(Ie=3),n.flags&=-257,n.flags|=65536,n.lanes=c,i===ks?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Tc(e,i,c)),!1;case 22:return n.flags|=65536,i===ks?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Tc(e,i,c)),!1}throw Error(s(435,n.tag))}return Tc(e,i,c),rl(),!1}if(Se)return t=Nt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,i!==_u&&(e=Error(s(422),{cause:i}),ii(Pt(e,n)))):(i!==_u&&(t=Error(s(423),{cause:i}),ii(Pt(t,n))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,i=Pt(i,n),c=tc(e.stateNode,i,c),Cu(e,c),Ie!==4&&(Ie=2)),!1;var h=Error(s(520),{cause:i});if(h=Pt(h,n),xi===null?xi=[h]:xi.push(h),Ie!==4&&(Ie=2),t===null)return!0;i=Pt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=c&-c,n.lanes|=e,e=tc(n.stateNode,i,e),Cu(n,e),!1;case 1:if(t=n.type,h=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Qn===null||!Qn.has(h))))return n.flags|=65536,c&=-c,n.lanes|=c,c=u0(c),c0(c,e,n,i),Cu(n,c),!1}n=n.return}while(n!==null);return!1}var nc=Error(s(461)),Qe=!1;function lt(e,t,n,i){t.child=e===null?vh(t,null,n,i):xr(t,e.child,n,i)}function f0(e,t,n,i,c){n=n.render;var h=t.ref;if("ref"in i){var _={};for(var x in i)x!=="ref"&&(_[x]=i[x])}else _=i;return _r(t),i=Bu(e,t,n,_,h,c),x=zu(),e!==null&&!Qe?(qu(e,t,c),Sn(e,t,c)):(Se&&x&&pu(t),t.flags|=1,lt(e,t,i,c),t.child)}function d0(e,t,n,i,c){if(e===null){var h=n.type;return typeof h=="function"&&!gu(h)&&h.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=h,h0(e,t,h,i,c)):(e=Ts(n.type,null,i,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!cc(e,c)){var _=h.memoizedProps;if(n=n.compare,n=n!==null?n:ni,n(_,i)&&e.ref===t.ref)return Sn(e,t,c)}return t.flags|=1,e=mn(h,i),e.ref=t.ref,e.return=t,t.child=e}function h0(e,t,n,i,c){if(e!==null){var h=e.memoizedProps;if(ni(h,i)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=i=h,cc(e,c))(e.flags&131072)!==0&&(Qe=!0);else return t.lanes=e.lanes,Sn(e,t,c)}return rc(e,t,n,i,c)}function v0(e,t,n,i){var c=i.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|n:n,e!==null){for(i=t.child=e.child,c=0;i!==null;)c=c|i.lanes|i.childLanes,i=i.sibling;i=c&~h}else i=0,t.child=null;return g0(e,t,h,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ns(t,h!==null?h.cachePool:null),h!==null?yh(t,h):Du(),ph(t);else return i=t.lanes=536870912,g0(e,t,h!==null?h.baseLanes|n:n,n,i)}else h!==null?(Ns(t,h.cachePool),yh(t,h),Kn(),t.memoizedState=null):(e!==null&&Ns(t,null),Du(),Kn());return lt(e,t,c,n),t.child}function yi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function g0(e,t,n,i,c){var h=Au();return h=h===null?null:{parent:Ye._currentValue,pool:h},t.memoizedState={baseLanes:n,cachePool:h},e!==null&&Ns(t,null),Du(),ph(t),e!==null&&ra(e,t,i,!0),t.childLanes=c,null}function Ks(e,t){return t=Ys({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function m0(e,t,n){return xr(t,e.child,null,n),e=Ks(t,t.pendingProps),e.flags|=2,Ct(t),t.memoizedState=null,e}function Vb(e,t,n){var i=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(i.mode==="hidden")return e=Ks(t,i),t.lanes=536870912,yi(null,e);if(Uu(t),(e=Be)?(e=jv(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zn!==null?{id:sn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},n=Wd(e),n.return=t,t.child=n,it=t,Be=null)):e=null,e===null)throw Hn(t);return t.lanes=536870912,null}return Ks(t,i)}var h=e.memoizedState;if(h!==null){var _=h.dehydrated;if(Uu(t),c)if(t.flags&256)t.flags&=-257,t=m0(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Qe||ra(e,t,n,!1),c=(n&e.childLanes)!==0,Qe||c){if(i=Ue,i!==null&&(_=sd(i,n),_!==0&&_!==h.retryLane))throw h.retryLane=_,mr(e,_),Et(i,e,_),nc;rl(),t=m0(e,t,n)}else e=h.treeContext,Be=Xt(_.nextSibling),it=t,Se=!0,qn=null,Vt=!1,e!==null&&nh(t,e),t=Ks(t,i),t.flags|=4096;return t}return e=mn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Xs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function rc(e,t,n,i,c){return _r(t),n=Bu(e,t,n,i,void 0,c),i=zu(),e!==null&&!Qe?(qu(e,t,c),Sn(e,t,c)):(Se&&i&&pu(t),t.flags|=1,lt(e,t,n,c),t.child)}function y0(e,t,n,i,c,h){return _r(t),t.updateQueue=null,n=_h(t,i,n,c),bh(e),i=zu(),e!==null&&!Qe?(qu(e,t,h),Sn(e,t,h)):(Se&&i&&pu(t),t.flags|=1,lt(e,t,n,h),t.child)}function p0(e,t,n,i,c){if(_r(t),t.stateNode===null){var h=Wr,_=n.contextType;typeof _=="object"&&_!==null&&(h=st(_)),h=new n(i,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ec,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=i,h.state=t.memoizedState,h.refs={},Ru(t),_=n.contextType,h.context=typeof _=="object"&&_!==null?st(_):Wr,h.state=t.memoizedState,_=n.getDerivedStateFromProps,typeof _=="function"&&(Wu(t,n,_,i),h.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&ec.enqueueReplaceState(h,h.state,null),di(t,i,h,c),fi(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){h=t.stateNode;var x=t.memoizedProps,T=Tr(n,x);h.props=T;var k=h.context,z=n.contextType;_=Wr,typeof z=="object"&&z!==null&&(_=st(z));var H=n.getDerivedStateFromProps;z=typeof H=="function"||typeof h.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,z||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x||k!==_)&&a0(t,h,i,_),Pn=!1;var D=t.memoizedState;h.state=D,di(t,i,h,c),fi(),k=t.memoizedState,x||D!==k||Pn?(typeof H=="function"&&(Wu(t,n,H,i),k=t.memoizedState),(T=Pn||r0(t,n,T,i,D,k,_))?(z||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=k),h.props=i,h.state=k,h.context=_,i=T):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{h=t.stateNode,Nu(e,t),_=t.memoizedProps,z=Tr(n,_),h.props=z,H=t.pendingProps,D=h.context,k=n.contextType,T=Wr,typeof k=="object"&&k!==null&&(T=st(k)),x=n.getDerivedStateFromProps,(k=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==H||D!==T)&&a0(t,h,i,T),Pn=!1,D=t.memoizedState,h.state=D,di(t,i,h,c),fi();var L=t.memoizedState;_!==H||D!==L||Pn||e!==null&&e.dependencies!==null&&js(e.dependencies)?(typeof x=="function"&&(Wu(t,n,x,i),L=t.memoizedState),(z=Pn||r0(t,n,z,i,D,L,T)||e!==null&&e.dependencies!==null&&js(e.dependencies))?(k||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,L,T),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,L,T)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=L),h.props=i,h.state=L,h.context=T,i=z):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),i=!1)}return h=i,Xs(e,t),i=(t.flags&128)!==0,h||i?(h=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&i?(t.child=xr(t,e.child,null,c),t.child=xr(t,null,n,c)):lt(e,t,n,c),t.memoizedState=h.state,e=t.child):e=Sn(e,t,c),e}function b0(e,t,n,i){return pr(),t.flags|=256,lt(e,t,n,i),t.child}var ac={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ic(e){return{baseLanes:e,cachePool:oh()}}function sc(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Dt),e}function _0(e,t,n){var i=t.pendingProps,c=!1,h=(t.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),_&&(c=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(c?Vn(t):Kn(),(e=Be)?(e=jv(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zn!==null?{id:sn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},n=Wd(e),n.return=t,t.child=n,it=t,Be=null)):e=null,e===null)throw Hn(t);return Pc(e)?t.lanes=32:t.lanes=536870912,null}var x=i.children;return i=i.fallback,c?(Kn(),c=t.mode,x=Ys({mode:"hidden",children:x},c),i=yr(i,c,n,null),x.return=t,i.return=t,x.sibling=i,t.child=x,i=t.child,i.memoizedState=ic(n),i.childLanes=sc(e,_,n),t.memoizedState=ac,yi(null,i)):(Vn(t),lc(t,x))}var T=e.memoizedState;if(T!==null&&(x=T.dehydrated,x!==null)){if(h)t.flags&256?(Vn(t),t.flags&=-257,t=oc(e,t,n)):t.memoizedState!==null?(Kn(),t.child=e.child,t.flags|=128,t=null):(Kn(),x=i.fallback,c=t.mode,i=Ys({mode:"visible",children:i.children},c),x=yr(x,c,n,null),x.flags|=2,i.return=t,x.return=t,i.sibling=x,t.child=i,xr(t,e.child,null,n),i=t.child,i.memoizedState=ic(n),i.childLanes=sc(e,_,n),t.memoizedState=ac,t=yi(null,i));else if(Vn(t),Pc(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var k=_.dgst;_=k,i=Error(s(419)),i.stack="",i.digest=_,ii({value:i,source:null,stack:null}),t=oc(e,t,n)}else if(Qe||ra(e,t,n,!1),_=(n&e.childLanes)!==0,Qe||_){if(_=Ue,_!==null&&(i=sd(_,n),i!==0&&i!==T.retryLane))throw T.retryLane=i,mr(e,i),Et(_,e,i),nc;$c(x)||rl(),t=oc(e,t,n)}else $c(x)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Be=Xt(x.nextSibling),it=t,Se=!0,qn=null,Vt=!1,e!==null&&nh(t,e),t=lc(t,i.children),t.flags|=4096);return t}return c?(Kn(),x=i.fallback,c=t.mode,T=e.child,k=T.sibling,i=mn(T,{mode:"hidden",children:i.children}),i.subtreeFlags=T.subtreeFlags&65011712,k!==null?x=mn(k,x):(x=yr(x,c,n,null),x.flags|=2),x.return=t,i.return=t,i.sibling=x,t.child=i,yi(null,i),i=t.child,x=e.child.memoizedState,x===null?x=ic(n):(c=x.cachePool,c!==null?(T=Ye._currentValue,c=c.parent!==T?{parent:T,pool:T}:c):c=oh(),x={baseLanes:x.baseLanes|n,cachePool:c}),i.memoizedState=x,i.childLanes=sc(e,_,n),t.memoizedState=ac,yi(e.child,i)):(Vn(t),n=e.child,e=n.sibling,n=mn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=n,t.memoizedState=null,n)}function lc(e,t){return t=Ys({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ys(e,t){return e=Rt(22,e,null,t),e.lanes=0,e}function oc(e,t,n){return xr(t,e.child,null,n),e=lc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w0(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Eu(e.return,t,n)}function uc(e,t,n,i,c,h){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:c,treeForkCount:h}:(_.isBackwards=t,_.rendering=null,_.renderingStartTime=0,_.last=i,_.tail=n,_.tailMode=c,_.treeForkCount=h)}function S0(e,t,n){var i=t.pendingProps,c=i.revealOrder,h=i.tail;i=i.children;var _=Ve.current,x=(_&2)!==0;if(x?(_=_&1|2,t.flags|=128):_&=1,G(Ve,_),lt(e,t,i,n),i=Se?ai:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&w0(e,n,t);else if(e.tag===19)w0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&Ls(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),uc(t,!1,c,n,h,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ls(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}uc(t,!0,n,null,h,i);break;case"together":uc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(ra(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&js(e)))}function Kb(e,t,n){switch(t.tag){case 3:rt(t,t.stateNode.containerInfo),$n(t,Ye,e.memoizedState.cache),pr();break;case 27:case 5:or(t);break;case 4:rt(t,t.stateNode.containerInfo);break;case 10:$n(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uu(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Vn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?_0(e,t,n):(Vn(t),e=Sn(e,t,n),e!==null?e.sibling:null);Vn(t);break;case 19:var c=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(ra(e,t,n,!1),i=(n&t.childLanes)!==0),c){if(i)return S0(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),G(Ve,Ve.current),i)break;return null;case 22:return t.lanes=0,v0(e,t,n,t.pendingProps);case 24:$n(t,Ye,e.memoizedState.cache)}return Sn(e,t,n)}function E0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!cc(e,n)&&(t.flags&128)===0)return Qe=!1,Kb(e,t,n);Qe=(e.flags&131072)!==0}else Qe=!1,Se&&(t.flags&1048576)!==0&&th(t,ai,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Sr(t.elementType),t.type=e,typeof e=="function")gu(e)?(i=Tr(e,i),t.tag=1,t=p0(null,t,e,i,n)):(t.tag=0,t=rc(null,t,e,i,n));else{if(e!=null){var c=e.$$typeof;if(c===P){t.tag=11,t=f0(null,t,e,i,n);break e}else if(c===V){t.tag=14,t=d0(null,t,e,i,n);break e}}throw t=Ee(e)||e,Error(s(306,t,""))}}return t;case 0:return rc(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,c=Tr(i,t.pendingProps),p0(e,t,i,c,n);case 3:e:{if(rt(t,t.stateNode.containerInfo),e===null)throw Error(s(387));i=t.pendingProps;var h=t.memoizedState;c=h.element,Nu(e,t),di(t,i,null,n);var _=t.memoizedState;if(i=_.cache,$n(t,Ye,i),i!==h.cache&&xu(t,[Ye],n,!0),fi(),i=_.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=b0(e,t,i,n);break e}else if(i!==c){c=Pt(Error(s(424)),t),ii(c),t=b0(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=Xt(e.firstChild),it=t,Se=!0,qn=null,Vt=!0,n=vh(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(pr(),i===c){t=Sn(e,t,n);break e}lt(e,t,i,n)}t=t.child}return t;case 26:return Xs(e,t),e===null?(n=Mv(t.type,null,t.pendingProps,null))?t.memoizedState=n:Se||(n=t.type,e=t.pendingProps,i=cl(me.current).createElement(n),i[at]=t,i[yt]=e,ot(i,n,e),tt(i),t.stateNode=i):t.memoizedState=Mv(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return or(t),e===null&&Se&&(i=t.stateNode=Cv(t.type,t.pendingProps,me.current),it=t,Vt=!0,c=Be,er(t.type)?(Ic=c,Be=Xt(i.firstChild)):Be=c),lt(e,t,t.pendingProps.children,n),Xs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((c=i=Be)&&(i=S1(i,t.type,t.pendingProps,Vt),i!==null?(t.stateNode=i,it=t,Be=Xt(i.firstChild),Vt=!1,c=!0):c=!1),c||Hn(t)),or(t),c=t.type,h=t.pendingProps,_=e!==null?e.memoizedProps:null,i=h.children,zc(c,h)?i=null:_!==null&&zc(c,_)&&(t.flags|=32),t.memoizedState!==null&&(c=Bu(e,t,Bb,null,null,n),ki._currentValue=c),Xs(e,t),lt(e,t,i,n),t.child;case 6:return e===null&&Se&&((e=n=Be)&&(n=E1(n,t.pendingProps,Vt),n!==null?(t.stateNode=n,it=t,Be=null,e=!0):e=!1),e||Hn(t)),null;case 13:return _0(e,t,n);case 4:return rt(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=xr(t,null,i,n):lt(e,t,i,n),t.child;case 11:return f0(e,t,t.type,t.pendingProps,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,$n(t,t.type,i.value),lt(e,t,i.children,n),t.child;case 9:return c=t.type._context,i=t.pendingProps.children,_r(t),c=st(c),i=i(c),t.flags|=1,lt(e,t,i,n),t.child;case 14:return d0(e,t,t.type,t.pendingProps,n);case 15:return h0(e,t,t.type,t.pendingProps,n);case 19:return S0(e,t,n);case 31:return Vb(e,t,n);case 22:return v0(e,t,n,t.pendingProps);case 24:return _r(t),i=st(Ye),e===null?(c=Au(),c===null&&(c=Ue,h=Ou(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=n),c=h),t.memoizedState={parent:i,cache:c},Ru(t),$n(t,Ye,c)):((e.lanes&n)!==0&&(Nu(e,t),di(t,null,null,n),fi()),c=e.memoizedState,h=t.memoizedState,c.parent!==i?(c={parent:i,cache:i},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),$n(t,Ye,i)):(i=h.cache,$n(t,Ye,i),i!==c.cache&&xu(t,[Ye],n,!0))),lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function En(e){e.flags|=4}function fc(e,t,n,i,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Q0())e.flags|=8192;else throw Er=ks,ju}else e.flags&=-16777217}function x0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qv(t))if(Q0())e.flags|=8192;else throw Er=ks,ju}function Fs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rd():536870912,e.lanes|=t,ga|=t)}function pi(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,i|=c.subtreeFlags&65011712,i|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Xb(e,t,n){var i=t.pendingProps;switch(bu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return ze(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),bn(Ye),$e(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(na(t)?En(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,wu())),ze(t),null;case 26:var c=t.type,h=t.memoizedState;return e===null?(En(t),h!==null?(ze(t),x0(t,h)):(ze(t),fc(t,c,null,i,n))):h?h!==e.memoizedState?(En(t),ze(t),x0(t,h)):(ze(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&En(t),ze(t),fc(t,c,e,i,n)),null;case 27:if(ur(t),n=me.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&En(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return ze(t),null}e=Q.current,na(t)?rh(t):(e=Cv(c,i,n),t.stateNode=e,En(t))}return ze(t),null;case 5:if(ur(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&En(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return ze(t),null}if(h=Q.current,na(t))rh(t);else{var _=cl(me.current);switch(h){case 1:h=_.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=_.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=_.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=_.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=_.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof i.is=="string"?_.createElement("select",{is:i.is}):_.createElement("select"),i.multiple?h.multiple=!0:i.size&&(h.size=i.size);break;default:h=typeof i.is=="string"?_.createElement(c,{is:i.is}):_.createElement(c)}}h[at]=t,h[yt]=i;e:for(_=t.child;_!==null;){if(_.tag===5||_.tag===6)h.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}t.stateNode=h;e:switch(ot(h,c,i),c){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&En(t)}}return ze(t),fc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&En(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(e=me.current,na(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,c=it,c!==null)switch(c.tag){case 27:case 5:i=c.memoizedProps}e[at]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||_v(e.nodeValue,n)),e||Hn(t,!0)}else e=cl(e).createTextNode(i),e[at]=t,t.stateNode=e}return ze(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=na(t),n!==null){if(e===null){if(!i)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[at]=t}else pr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),e=!1}else n=wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ct(t),t):(Ct(t),null);if((t.flags&128)!==0)throw Error(s(558))}return ze(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=na(t),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[at]=t}else pr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ze(t),c=!1}else c=wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Ct(t),t):(Ct(t),null)}return Ct(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,c=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(c=i.alternate.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==c&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Fs(t,t.updateQueue),ze(t),null);case 4:return $e(),e===null&&Dc(t.stateNode.containerInfo),ze(t),null;case 10:return bn(t.type),ze(t),null;case 19:if($(Ve),i=t.memoizedState,i===null)return ze(t),null;if(c=(t.flags&128)!==0,h=i.rendering,h===null)if(c)pi(i,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Ls(e),h!==null){for(t.flags|=128,pi(i,!1),e=h.updateQueue,t.updateQueue=e,Fs(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jd(n,e),n=n.sibling;return G(Ve,Ve.current&1|2),Se&&yn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ht()>el&&(t.flags|=128,c=!0,pi(i,!1),t.lanes=4194304)}else{if(!c)if(e=Ls(h),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Fs(t,e),pi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!h.alternate&&!Se)return ze(t),null}else 2*ht()-i.renderingStartTime>el&&n!==536870912&&(t.flags|=128,c=!0,pi(i,!1),t.lanes=4194304);i.isBackwards?(h.sibling=t.child,t.child=h):(e=i.last,e!==null?e.sibling=h:t.child=h,i.last=h)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ht(),e.sibling=null,n=Ve.current,G(Ve,c?n&1|2:n&1),Se&&yn(t,i.treeForkCount),e):(ze(t),null);case 22:case 23:return Ct(t),Mu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),n=t.updateQueue,n!==null&&Fs(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&$(wr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bn(Ye),ze(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function Yb(e,t){switch(bu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(Ye),$e(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ur(t),null;case 31:if(t.memoizedState!==null){if(Ct(t),t.alternate===null)throw Error(s(340));pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ct(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $(Ve),null;case 4:return $e(),null;case 10:return bn(t.type),null;case 22:case 23:return Ct(t),Mu(),e!==null&&$(wr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bn(Ye),null;case 25:return null;default:return null}}function O0(e,t){switch(bu(t),t.tag){case 3:bn(Ye),$e();break;case 26:case 27:case 5:ur(t);break;case 4:$e();break;case 31:t.memoizedState!==null&&Ct(t);break;case 13:Ct(t);break;case 19:$(Ve);break;case 10:bn(t.type);break;case 22:case 23:Ct(t),Mu(),e!==null&&$(wr);break;case 24:bn(Ye)}}function bi(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var c=i.next;n=c;do{if((n.tag&e)===e){i=void 0;var h=n.create,_=n.inst;i=h(),_.destroy=i}n=n.next}while(n!==c)}}catch(x){Ce(t,t.return,x)}}function Xn(e,t,n){try{var i=t.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var h=c.next;i=h;do{if((i.tag&e)===e){var _=i.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,c=t;var T=n,k=x;try{k()}catch(z){Ce(c,T,z)}}}i=i.next}while(i!==h)}}catch(z){Ce(t,t.return,z)}}function T0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{mh(t,n)}catch(i){Ce(e,e.return,i)}}}function A0(e,t,n){n.props=Tr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Ce(e,t,i)}}function _i(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(c){Ce(e,t,c)}}function on(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(c){Ce(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(c){Ce(e,t,c)}else n.current=null}function j0(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(c){Ce(e,e.return,c)}}function dc(e,t,n){try{var i=e.stateNode;m1(i,e.type,n,t),i[yt]=t}catch(c){Ce(e,e.return,c)}}function R0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&er(e.type)||e.tag===4}function hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||R0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&er(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vn));else if(i!==4&&(i===27&&er(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(vc(e,t,n),e=e.sibling;e!==null;)vc(e,t,n),e=e.sibling}function Qs(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&er(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Qs(e,t,n),e=e.sibling;e!==null;)Qs(e,t,n),e=e.sibling}function N0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);ot(t,i,n),t[at]=e,t[yt]=n}catch(h){Ce(e,e.return,h)}}var xn=!1,Ze=!1,gc=!1,C0=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Fb(e,t){if(e=e.containerInfo,Lc=yl,e=Id(e),ou(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var c=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var _=0,x=-1,T=-1,k=0,z=0,H=e,D=null;t:for(;;){for(var L;H!==n||c!==0&&H.nodeType!==3||(x=_+c),H!==h||i!==0&&H.nodeType!==3||(T=_+i),H.nodeType===3&&(_+=H.nodeValue.length),(L=H.firstChild)!==null;)D=H,H=L;for(;;){if(H===e)break t;if(D===n&&++k===c&&(x=_),D===h&&++z===i&&(T=_),(L=H.nextSibling)!==null)break;H=D,D=H.parentNode}H=L}n=x===-1||T===-1?null:{start:x,end:T}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bc={focusedElem:e,selectionRange:n},yl=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){switch(t=nt,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)c=e[n],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,n=t,c=h.memoizedProps,h=h.memoizedState,i=n.stateNode;try{var F=Tr(n.type,c);e=i.getSnapshotBeforeUpdate(F,h),i.__reactInternalSnapshotBeforeUpdate=e}catch(le){Ce(n,n.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}}function k0(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Tn(e,n),i&4&&bi(5,n);break;case 1:if(Tn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(_){Ce(n,n.return,_)}else{var c=Tr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Ce(n,n.return,_)}}i&64&&T0(n),i&512&&_i(n,n.return);break;case 3:if(Tn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{mh(e,t)}catch(_){Ce(n,n.return,_)}}break;case 27:t===null&&i&4&&N0(n);case 26:case 5:Tn(e,n),t===null&&i&4&&j0(n),i&512&&_i(n,n.return);break;case 12:Tn(e,n);break;case 31:Tn(e,n),i&4&&U0(e,n);break;case 13:Tn(e,n),i&4&&L0(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=a1.bind(null,n),x1(e,n))));break;case 22:if(i=n.memoizedState!==null||xn,!i){t=t!==null&&t.memoizedState!==null||Ze,c=xn;var h=Ze;xn=i,(Ze=t)&&!h?An(e,n,(n.subtreeFlags&8772)!==0):Tn(e,n),xn=c,Ze=h}break;case 30:break;default:Tn(e,n)}}function D0(e){var t=e.alternate;t!==null&&(e.alternate=null,D0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Vo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,bt=!1;function On(e,t,n){for(n=n.child;n!==null;)M0(e,t,n),n=n.sibling}function M0(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Ga,n)}catch{}switch(n.tag){case 26:Ze||on(n,t),On(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ze||on(n,t);var i=qe,c=bt;er(n.type)&&(qe=n.stateNode,bt=!1),On(e,t,n),Ri(n.stateNode),qe=i,bt=c;break;case 5:Ze||on(n,t);case 6:if(i=qe,c=bt,qe=null,On(e,t,n),qe=i,bt=c,qe!==null)if(bt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(n.stateNode)}catch(h){Ce(n,t,h)}else try{qe.removeChild(n.stateNode)}catch(h){Ce(n,t,h)}break;case 18:qe!==null&&(bt?(e=qe,Tv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ea(e)):Tv(qe,n.stateNode));break;case 4:i=qe,c=bt,qe=n.stateNode.containerInfo,bt=!0,On(e,t,n),qe=i,bt=c;break;case 0:case 11:case 14:case 15:Xn(2,n,t),Ze||Xn(4,n,t),On(e,t,n);break;case 1:Ze||(on(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&A0(n,t,i)),On(e,t,n);break;case 21:On(e,t,n);break;case 22:Ze=(i=Ze)||n.memoizedState!==null,On(e,t,n),Ze=i;break;default:On(e,t,n)}}function U0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ea(e)}catch(n){Ce(t,t.return,n)}}}function L0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ea(e)}catch(n){Ce(t,t.return,n)}}function Qb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new C0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new C0),t;default:throw Error(s(435,e.tag))}}function Zs(e,t){var n=Qb(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var c=i1.bind(null,e,i);i.then(c,c)}})}function _t(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var c=n[i],h=e,_=t,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(er(x.type)){qe=x.stateNode,bt=!1;break e}break;case 5:qe=x.stateNode,bt=!1;break e;case 3:case 4:qe=x.stateNode.containerInfo,bt=!0;break e}x=x.return}if(qe===null)throw Error(s(160));M0(h,_,c),qe=null,bt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)B0(t,e),t=t.sibling}var Jt=null;function B0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),wt(e),i&4&&(Xn(3,e,e.return),bi(3,e),Xn(5,e,e.return));break;case 1:_t(t,e),wt(e),i&512&&(Ze||n===null||on(n,n.return)),i&64&&xn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var c=Jt;if(_t(t,e),wt(e),i&512&&(Ze||n===null||on(n,n.return)),i&4){var h=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,c=c.ownerDocument||c;t:switch(i){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Xa]||h[at]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(i),c.head.insertBefore(h,c.querySelector("head > title"))),ot(h,i,n),h[at]=e,tt(h),i=h;break e;case"link":var _=Bv("link","href",c).get(i+(n.href||""));if(_){for(var x=0;x<_.length;x++)if(h=_[x],h.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&h.getAttribute("rel")===(n.rel==null?null:n.rel)&&h.getAttribute("title")===(n.title==null?null:n.title)&&h.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){_.splice(x,1);break t}}h=c.createElement(i),ot(h,i,n),c.head.appendChild(h);break;case"meta":if(_=Bv("meta","content",c).get(i+(n.content||""))){for(x=0;x<_.length;x++)if(h=_[x],h.getAttribute("content")===(n.content==null?null:""+n.content)&&h.getAttribute("name")===(n.name==null?null:n.name)&&h.getAttribute("property")===(n.property==null?null:n.property)&&h.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&h.getAttribute("charset")===(n.charSet==null?null:n.charSet)){_.splice(x,1);break t}}h=c.createElement(i),ot(h,i,n),c.head.appendChild(h);break;default:throw Error(s(468,i))}h[at]=e,tt(h),i=h}e.stateNode=i}else zv(c,e.type,e.stateNode);else e.stateNode=Lv(c,i,e.memoizedProps);else h!==i?(h===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):h.count--,i===null?zv(c,e.type,e.stateNode):Lv(c,i,e.memoizedProps)):i===null&&e.stateNode!==null&&dc(e,e.memoizedProps,n.memoizedProps)}break;case 27:_t(t,e),wt(e),i&512&&(Ze||n===null||on(n,n.return)),n!==null&&i&4&&dc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(_t(t,e),wt(e),i&512&&(Ze||n===null||on(n,n.return)),e.flags&32){c=e.stateNode;try{Kr(c,"")}catch(F){Ce(e,e.return,F)}}i&4&&e.stateNode!=null&&(c=e.memoizedProps,dc(e,c,n!==null?n.memoizedProps:c)),i&1024&&(gc=!0);break;case 6:if(_t(t,e),wt(e),i&4){if(e.stateNode===null)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(F){Ce(e,e.return,F)}}break;case 3:if(hl=null,c=Jt,Jt=fl(t.containerInfo),_t(t,e),Jt=c,wt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ea(t.containerInfo)}catch(F){Ce(e,e.return,F)}gc&&(gc=!1,z0(e));break;case 4:i=Jt,Jt=fl(e.stateNode.containerInfo),_t(t,e),wt(e),Jt=i;break;case 12:_t(t,e),wt(e);break;case 31:_t(t,e),wt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Zs(e,i)));break;case 13:_t(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ws=ht()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Zs(e,i)));break;case 22:c=e.memoizedState!==null;var T=n!==null&&n.memoizedState!==null,k=xn,z=Ze;if(xn=k||c,Ze=z||T,_t(t,e),Ze=z,xn=k,wt(e),i&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(n===null||T||xn||Ze||Ar(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){T=n=t;try{if(h=T.stateNode,c)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=T.stateNode;var H=T.memoizedProps.style,D=H!=null&&H.hasOwnProperty("display")?H.display:null;x.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(F){Ce(T,T.return,F)}}}else if(t.tag===6){if(n===null){T=t;try{T.stateNode.nodeValue=c?"":T.memoizedProps}catch(F){Ce(T,T.return,F)}}}else if(t.tag===18){if(n===null){T=t;try{var L=T.stateNode;c?Av(L,!0):Av(T.stateNode,!1)}catch(F){Ce(T,T.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Zs(e,n))));break;case 19:_t(t,e),wt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Zs(e,i)));break;case 30:break;case 21:break;default:_t(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(R0(i)){n=i;break}i=i.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var c=n.stateNode,h=hc(e);Qs(e,h,c);break;case 5:var _=n.stateNode;n.flags&32&&(Kr(_,""),n.flags&=-33);var x=hc(e);Qs(e,x,_);break;case 3:case 4:var T=n.stateNode.containerInfo,k=hc(e);vc(e,k,T);break;default:throw Error(s(161))}}catch(z){Ce(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;z0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Tn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)k0(e,t.alternate,t),t=t.sibling}function Ar(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Xn(4,t,t.return),Ar(t);break;case 1:on(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&A0(t,t.return,n),Ar(t);break;case 27:Ri(t.stateNode);case 26:case 5:on(t,t.return),Ar(t);break;case 22:t.memoizedState===null&&Ar(t);break;case 30:Ar(t);break;default:Ar(t)}e=e.sibling}}function An(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,c=e,h=t,_=h.flags;switch(h.tag){case 0:case 11:case 15:An(c,h,n),bi(4,h);break;case 1:if(An(c,h,n),i=h,c=i.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(k){Ce(i,i.return,k)}if(i=h,c=i.updateQueue,c!==null){var x=i.stateNode;try{var T=c.shared.hiddenCallbacks;if(T!==null)for(c.shared.hiddenCallbacks=null,c=0;c<T.length;c++)gh(T[c],x)}catch(k){Ce(i,i.return,k)}}n&&_&64&&T0(h),_i(h,h.return);break;case 27:N0(h);case 26:case 5:An(c,h,n),n&&i===null&&_&4&&j0(h),_i(h,h.return);break;case 12:An(c,h,n);break;case 31:An(c,h,n),n&&_&4&&U0(c,h);break;case 13:An(c,h,n),n&&_&4&&L0(c,h);break;case 22:h.memoizedState===null&&An(c,h,n),_i(h,h.return);break;case 30:break;default:An(c,h,n)}t=t.sibling}}function mc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&si(n))}function yc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&si(e))}function Wt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)q0(e,t,n,i),t=t.sibling}function q0(e,t,n,i){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,n,i),c&2048&&bi(9,t);break;case 1:Wt(e,t,n,i);break;case 3:Wt(e,t,n,i),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&si(e)));break;case 12:if(c&2048){Wt(e,t,n,i),e=t.stateNode;try{var h=t.memoizedProps,_=h.id,x=h.onPostCommit;typeof x=="function"&&x(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Ce(t,t.return,T)}}else Wt(e,t,n,i);break;case 31:Wt(e,t,n,i);break;case 13:Wt(e,t,n,i);break;case 23:break;case 22:h=t.stateNode,_=t.alternate,t.memoizedState!==null?h._visibility&2?Wt(e,t,n,i):wi(e,t):h._visibility&2?Wt(e,t,n,i):(h._visibility|=2,da(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),c&2048&&mc(_,t);break;case 24:Wt(e,t,n,i),c&2048&&yc(t.alternate,t);break;default:Wt(e,t,n,i)}}function da(e,t,n,i,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,_=t,x=n,T=i,k=_.flags;switch(_.tag){case 0:case 11:case 15:da(h,_,x,T,c),bi(8,_);break;case 23:break;case 22:var z=_.stateNode;_.memoizedState!==null?z._visibility&2?da(h,_,x,T,c):wi(h,_):(z._visibility|=2,da(h,_,x,T,c)),c&&k&2048&&mc(_.alternate,_);break;case 24:da(h,_,x,T,c),c&&k&2048&&yc(_.alternate,_);break;default:da(h,_,x,T,c)}t=t.sibling}}function wi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,c=i.flags;switch(i.tag){case 22:wi(n,i),c&2048&&mc(i.alternate,i);break;case 24:wi(n,i),c&2048&&yc(i.alternate,i);break;default:wi(n,i)}t=t.sibling}}var Si=8192;function ha(e,t,n){if(e.subtreeFlags&Si)for(e=e.child;e!==null;)H0(e,t,n),e=e.sibling}function H0(e,t,n){switch(e.tag){case 26:ha(e,t,n),e.flags&Si&&e.memoizedState!==null&&L1(n,Jt,e.memoizedState,e.memoizedProps);break;case 5:ha(e,t,n);break;case 3:case 4:var i=Jt;Jt=fl(e.stateNode.containerInfo),ha(e,t,n),Jt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Si,Si=16777216,ha(e,t,n),Si=i):ha(e,t,n));break;default:ha(e,t,n)}}function $0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ei(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];nt=i,I0(i,e)}$0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)P0(e),e=e.sibling}function P0(e){switch(e.tag){case 0:case 11:case 15:Ei(e),e.flags&2048&&Xn(9,e,e.return);break;case 3:Ei(e);break;case 12:Ei(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Js(e)):Ei(e);break;default:Ei(e)}}function Js(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];nt=i,I0(i,e)}$0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Xn(8,t,t.return),Js(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Js(t));break;default:Js(t)}e=e.sibling}}function I0(e,t){for(;nt!==null;){var n=nt;switch(n.tag){case 0:case 11:case 15:Xn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:si(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,nt=i;else e:for(n=e;nt!==null;){i=nt;var c=i.sibling,h=i.return;if(D0(i),i===n){nt=null;break e}if(c!==null){c.return=h,nt=c;break e}nt=h}}}var Zb={getCacheForType:function(e){var t=st(Ye),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return st(Ye).controller.signal}},Jb=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Ue=null,ye=null,be=0,Ne=0,kt=null,Yn=!1,va=!1,pc=!1,jn=0,Ie=0,Fn=0,jr=0,bc=0,Dt=0,ga=0,xi=null,St=null,_c=!1,Ws=0,G0=0,el=1/0,tl=null,Qn=null,et=0,Zn=null,ma=null,Rn=0,wc=0,Sc=null,V0=null,Oi=0,Ec=null;function Mt(){return(Ae&2)!==0&&be!==0?be&-be:B.T!==null?Rc():ld()}function K0(){if(Dt===0)if((be&536870912)===0||Se){var e=us;us<<=1,(us&3932160)===0&&(us=262144),Dt=e}else Dt=536870912;return e=Nt.current,e!==null&&(e.flags|=32),Dt}function Et(e,t,n){(e===Ue&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(ya(e,0),Jn(e,be,Dt,!1)),Ka(e,n),((Ae&2)===0||e!==Ue)&&(e===Ue&&((Ae&2)===0&&(jr|=n),Ie===4&&Jn(e,be,Dt,!1)),un(e))}function X0(e,t,n){if((Ae&6)!==0)throw Error(s(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Va(e,t),c=i?t1(e,t):Oc(e,t,!0),h=i;do{if(c===0){va&&!i&&Jn(e,t,0,!1);break}else{if(n=e.current.alternate,h&&!Wb(n)){c=Oc(e,t,!1),h=!1;continue}if(c===2){if(h=t,e.errorRecoveryDisabledLanes&h)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var x=e;c=xi;var T=x.current.memoizedState.isDehydrated;if(T&&(ya(x,_).flags|=256),_=Oc(x,_,!1),_!==2){if(pc&&!T){x.errorRecoveryDisabledLanes|=h,jr|=h,c=4;break e}h=St,St=c,h!==null&&(St===null?St=h:St.push.apply(St,h))}c=_}if(h=!1,c!==2)continue}}if(c===1){ya(e,0),Jn(e,t,0,!0);break}e:{switch(i=e,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Jn(i,t,Dt,!Yn);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=Ws+300-ht(),10<c)){if(Jn(i,t,Dt,!Yn),fs(i,0,!0)!==0)break e;Rn=t,i.timeoutHandle=xv(Y0.bind(null,i,n,St,tl,_c,t,Dt,jr,ga,Yn,h,"Throttled",-0,0),c);break e}Y0(i,n,St,tl,_c,t,Dt,jr,ga,Yn,h,null,-0,0)}}break}while(!0);un(e)}function Y0(e,t,n,i,c,h,_,x,T,k,z,H,D,L){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vn},H0(t,h,H);var F=(h&62914560)===h?Ws-ht():(h&4194048)===h?G0-ht():0;if(F=B1(H,F),F!==null){Rn=h,e.cancelPendingCommit=F(nv.bind(null,e,t,h,n,i,c,_,x,T,z,H,null,D,L)),Jn(e,h,_,!k);return}}nv(e,t,h,n,i,c,_,x,T)}function Wb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var c=n[i],h=c.getSnapshot;c=c.value;try{if(!jt(h(),c))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t,n,i){t&=~bc,t&=~jr,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var c=t;0<c;){var h=31-At(c),_=1<<h;i[h]=-1,c&=~_}n!==0&&ad(e,n,t)}function nl(){return(Ae&6)===0?(Ti(0),!1):!0}function xc(){if(ye!==null){if(Ne===0)var e=ye.return;else e=ye,pn=br=null,Hu(e),la=null,oi=0,e=ye;for(;e!==null;)O0(e.alternate,e),e=e.return;ye=null}}function ya(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,b1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Rn=0,xc(),Ue=e,ye=n=mn(e.current,null),be=t,Ne=0,kt=null,Yn=!1,va=Va(e,t),pc=!1,ga=Dt=bc=jr=Fn=Ie=0,St=xi=null,_c=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var c=31-At(i),h=1<<c;t|=e[c],i&=~h}return jn=t,Es(),n}function F0(e,t){ve=null,B.H=mi,t===sa||t===Cs?(t=fh(),Ne=3):t===ju?(t=fh(),Ne=4):Ne=t===nc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,ye===null&&(Ie=1,Vs(e,Pt(t,e.current)))}function Q0(){var e=Nt.current;return e===null?!0:(be&4194048)===be?Kt===null:(be&62914560)===be||(be&536870912)!==0?e===Kt:!1}function Z0(){var e=B.H;return B.H=mi,e===null?mi:e}function J0(){var e=B.A;return B.A=Zb,e}function rl(){Ie=4,Yn||(be&4194048)!==be&&Nt.current!==null||(va=!0),(Fn&134217727)===0&&(jr&134217727)===0||Ue===null||Jn(Ue,be,Dt,!1)}function Oc(e,t,n){var i=Ae;Ae|=2;var c=Z0(),h=J0();(Ue!==e||be!==t)&&(tl=null,ya(e,t)),t=!1;var _=Ie;e:do try{if(Ne!==0&&ye!==null){var x=ye,T=kt;switch(Ne){case 8:xc(),_=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(t=!0);var k=Ne;if(Ne=0,kt=null,pa(e,x,T,k),n&&va){_=0;break e}break;default:k=Ne,Ne=0,kt=null,pa(e,x,T,k)}}e1(),_=Ie;break}catch(z){F0(e,z)}while(!0);return t&&e.shellSuspendCounter++,pn=br=null,Ae=i,B.H=c,B.A=h,ye===null&&(Ue=null,be=0,Es()),_}function e1(){for(;ye!==null;)W0(ye)}function t1(e,t){var n=Ae;Ae|=2;var i=Z0(),c=J0();Ue!==e||be!==t?(tl=null,el=ht()+500,ya(e,t)):va=Va(e,t);e:do try{if(Ne!==0&&ye!==null){t=ye;var h=kt;t:switch(Ne){case 1:Ne=0,kt=null,pa(e,t,h,1);break;case 2:case 9:if(uh(h)){Ne=0,kt=null,ev(t);break}t=function(){Ne!==2&&Ne!==9||Ue!==e||(Ne=7),un(e)},h.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:uh(h)?(Ne=0,kt=null,ev(t)):(Ne=0,kt=null,pa(e,t,h,7));break;case 5:var _=null;switch(ye.tag){case 26:_=ye.memoizedState;case 5:case 27:var x=ye;if(_?qv(_):x.stateNode.complete){Ne=0,kt=null;var T=x.sibling;if(T!==null)ye=T;else{var k=x.return;k!==null?(ye=k,al(k)):ye=null}break t}}Ne=0,kt=null,pa(e,t,h,5);break;case 6:Ne=0,kt=null,pa(e,t,h,6);break;case 8:xc(),Ie=6;break e;default:throw Error(s(462))}}n1();break}catch(z){F0(e,z)}while(!0);return pn=br=null,B.H=i,B.A=c,Ae=n,ye!==null?0:(Ue=null,be=0,Es(),Ie)}function n1(){for(;ye!==null&&!is();)W0(ye)}function W0(e){var t=E0(e.alternate,e,jn);e.memoizedProps=e.pendingProps,t===null?al(e):ye=t}function ev(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=y0(n,t,t.pendingProps,t.type,void 0,be);break;case 11:t=y0(n,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:Hu(t);default:O0(n,t),t=ye=Jd(t,jn),t=E0(n,t,jn)}e.memoizedProps=e.pendingProps,t===null?al(e):ye=t}function pa(e,t,n,i){pn=br=null,Hu(t),la=null,oi=0;var c=t.return;try{if(Gb(e,c,t,n,be)){Ie=1,Vs(e,Pt(n,e.current)),ye=null;return}}catch(h){if(c!==null)throw ye=c,h;Ie=1,Vs(e,Pt(n,e.current)),ye=null;return}t.flags&32768?(Se||i===1?e=!0:va||(be&536870912)!==0?e=!1:(Yn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Nt.current,i!==null&&i.tag===13&&(i.flags|=16384))),tv(t,e)):al(t)}function al(e){var t=e;do{if((t.flags&32768)!==0){tv(t,Yn);return}e=t.return;var n=Xb(t.alternate,t,jn);if(n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Ie===0&&(Ie=5)}function tv(e,t){do{var n=Yb(e.alternate,e);if(n!==null){n.flags&=32767,ye=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=n}while(e!==null);Ie=6,ye=null}function nv(e,t,n,i,c,h,_,x,T){e.cancelPendingCommit=null;do il();while(et!==0);if((Ae&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(h=t.lanes|t.childLanes,h|=hu,Up(e,n,h,_,x,T),e===Ue&&(ye=Ue=null,be=0),ma=t,Zn=e,Rn=n,wc=h,Sc=c,V0=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,s1(ls,function(){return lv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=B.T,B.T=null,c=I.p,I.p=2,_=Ae,Ae|=4;try{Fb(e,t,n)}finally{Ae=_,I.p=c,B.T=i}}et=1,rv(),av(),iv()}}function rv(){if(et===1){et=0;var e=Zn,t=ma,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=B.T,B.T=null;var i=I.p;I.p=2;var c=Ae;Ae|=4;try{B0(t,e);var h=Bc,_=Id(e.containerInfo),x=h.focusedElem,T=h.selectionRange;if(_!==x&&x&&x.ownerDocument&&Pd(x.ownerDocument.documentElement,x)){if(T!==null&&ou(x)){var k=T.start,z=T.end;if(z===void 0&&(z=k),"selectionStart"in x)x.selectionStart=k,x.selectionEnd=Math.min(z,x.value.length);else{var H=x.ownerDocument||document,D=H&&H.defaultView||window;if(D.getSelection){var L=D.getSelection(),F=x.textContent.length,le=Math.min(T.start,F),Me=T.end===void 0?le:Math.min(T.end,F);!L.extend&&le>Me&&(_=Me,Me=le,le=_);var N=$d(x,le),j=$d(x,Me);if(N&&j&&(L.rangeCount!==1||L.anchorNode!==N.node||L.anchorOffset!==N.offset||L.focusNode!==j.node||L.focusOffset!==j.offset)){var C=H.createRange();C.setStart(N.node,N.offset),L.removeAllRanges(),le>Me?(L.addRange(C),L.extend(j.node,j.offset)):(C.setEnd(j.node,j.offset),L.addRange(C))}}}}for(H=[],L=x;L=L.parentNode;)L.nodeType===1&&H.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<H.length;x++){var q=H[x];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}yl=!!Lc,Bc=Lc=null}finally{Ae=c,I.p=i,B.T=n}}e.current=t,et=2}}function av(){if(et===2){et=0;var e=Zn,t=ma,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=B.T,B.T=null;var i=I.p;I.p=2;var c=Ae;Ae|=4;try{k0(e,t.alternate,t)}finally{Ae=c,I.p=i,B.T=n}}et=3}}function iv(){if(et===4||et===3){et=0,ss();var e=Zn,t=ma,n=Rn,i=V0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?et=5:(et=0,ma=Zn=null,sv(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Qn=null),Io(n),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Ga,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=B.T,c=I.p,I.p=2,B.T=null;try{for(var h=e.onRecoverableError,_=0;_<i.length;_++){var x=i[_];h(x.value,{componentStack:x.stack})}}finally{B.T=t,I.p=c}}(Rn&3)!==0&&il(),un(e),c=e.pendingLanes,(n&261930)!==0&&(c&42)!==0?e===Ec?Oi++:(Oi=0,Ec=e):Oi=0,Ti(0)}}function sv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,si(t)))}function il(){return rv(),av(),iv(),lv()}function lv(){if(et!==5)return!1;var e=Zn,t=wc;wc=0;var n=Io(Rn),i=B.T,c=I.p;try{I.p=32>n?32:n,B.T=null,n=Sc,Sc=null;var h=Zn,_=Rn;if(et=0,ma=Zn=null,Rn=0,(Ae&6)!==0)throw Error(s(331));var x=Ae;if(Ae|=4,P0(h.current),q0(h,h.current,_,n),Ae=x,Ti(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Ga,h)}catch{}return!0}finally{I.p=c,B.T=i,sv(e,t)}}function ov(e,t,n){t=Pt(n,t),t=tc(e.stateNode,t,2),e=Gn(e,t,2),e!==null&&(Ka(e,2),un(e))}function Ce(e,t,n){if(e.tag===3)ov(e,e,n);else for(;t!==null;){if(t.tag===3){ov(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Qn===null||!Qn.has(i))){e=Pt(n,e),n=u0(2),i=Gn(t,n,2),i!==null&&(c0(n,i,t,e),Ka(i,2),un(i));break}}t=t.return}}function Tc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Jb;var c=new Set;i.set(t,c)}else c=i.get(t),c===void 0&&(c=new Set,i.set(t,c));c.has(n)||(pc=!0,c.add(n),e=r1.bind(null,e,t,n),t.then(e,e))}function r1(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ue===e&&(be&n)===n&&(Ie===4||Ie===3&&(be&62914560)===be&&300>ht()-Ws?(Ae&2)===0&&ya(e,0):bc|=n,ga===be&&(ga=0)),un(e)}function uv(e,t){t===0&&(t=rd()),e=mr(e,t),e!==null&&(Ka(e,t),un(e))}function a1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),uv(e,n)}function i1(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}i!==null&&i.delete(t),uv(e,n)}function s1(e,t){return cr(e,t)}var sl=null,ba=null,Ac=!1,ll=!1,jc=!1,Wn=0;function un(e){e!==ba&&e.next===null&&(ba===null?sl=ba=e:ba=ba.next=e),ll=!0,Ac||(Ac=!0,o1())}function Ti(e,t){if(!jc&&ll){jc=!0;do for(var n=!1,i=sl;i!==null;){if(e!==0){var c=i.pendingLanes;if(c===0)var h=0;else{var _=i.suspendedLanes,x=i.pingedLanes;h=(1<<31-At(42|e)+1)-1,h&=c&~(_&~x),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(n=!0,hv(i,h))}else h=be,h=fs(i,i===Ue?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(h&3)===0||Va(i,h)||(n=!0,hv(i,h));i=i.next}while(n);jc=!1}}function l1(){cv()}function cv(){ll=Ac=!1;var e=0;Wn!==0&&p1()&&(e=Wn);for(var t=ht(),n=null,i=sl;i!==null;){var c=i.next,h=fv(i,t);h===0?(i.next=null,n===null?sl=c:n.next=c,c===null&&(ba=n)):(n=i,(e!==0||(h&3)!==0)&&(ll=!0)),i=c}et!==0&&et!==5||Ti(e),Wn!==0&&(Wn=0)}function fv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var _=31-At(h),x=1<<_,T=c[_];T===-1?((x&n)===0||(x&i)!==0)&&(c[_]=Mp(x,t)):T<=t&&(e.expiredLanes|=x),h&=~x}if(t=Ue,n=be,n=fs(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&qr(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Va(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&qr(i),Io(n)){case 2:case 8:n=td;break;case 32:n=ls;break;case 268435456:n=nd;break;default:n=ls}return i=dv.bind(null,e),n=cr(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&qr(i),e.callbackPriority=2,e.callbackNode=null,2}function dv(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(il()&&e.callbackNode!==n)return null;var i=be;return i=fs(e,e===Ue?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(X0(e,i,t),fv(e,ht()),e.callbackNode!=null&&e.callbackNode===n?dv.bind(null,e):null)}function hv(e,t){if(il())return null;X0(e,t,!0)}function o1(){_1(function(){(Ae&6)!==0?cr(ed,l1):cv()})}function Rc(){if(Wn===0){var e=aa;e===0&&(e=os,os<<=1,(os&261888)===0&&(os=256)),Wn=e}return Wn}function vv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gs(""+e)}function gv(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function u1(e,t,n,i,c){if(t==="submit"&&n&&n.stateNode===c){var h=vv((c[yt]||null).action),_=i.submitter;_&&(t=(t=_[yt]||null)?vv(t.formAction):_.getAttribute("formAction"),t!==null&&(h=t,_=null));var x=new bs("action","action",null,i,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Wn!==0){var T=_?gv(c,_):new FormData(c);Fu(n,{pending:!0,data:T,method:c.method,action:h},null,T)}}else typeof h=="function"&&(x.preventDefault(),T=_?gv(c,_):new FormData(c),Fu(n,{pending:!0,data:T,method:c.method,action:h},h,T))},currentTarget:c}]})}}for(var Nc=0;Nc<du.length;Nc++){var Cc=du[Nc],c1=Cc.toLowerCase(),f1=Cc[0].toUpperCase()+Cc.slice(1);Zt(c1,"on"+f1)}Zt(Kd,"onAnimationEnd"),Zt(Xd,"onAnimationIteration"),Zt(Yd,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(Ab,"onTransitionRun"),Zt(jb,"onTransitionStart"),Zt(Rb,"onTransitionCancel"),Zt(Fd,"onTransitionEnd"),Gr("onMouseEnter",["mouseout","mouseover"]),Gr("onMouseLeave",["mouseout","mouseover"]),Gr("onPointerEnter",["pointerout","pointerover"]),Gr("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),d1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ai));function mv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],c=i.event;i=i.listeners;e:{var h=void 0;if(t)for(var _=i.length-1;0<=_;_--){var x=i[_],T=x.instance,k=x.currentTarget;if(x=x.listener,T!==h&&c.isPropagationStopped())break e;h=x,c.currentTarget=k;try{h(c)}catch(z){Ss(z)}c.currentTarget=null,h=T}else for(_=0;_<i.length;_++){if(x=i[_],T=x.instance,k=x.currentTarget,x=x.listener,T!==h&&c.isPropagationStopped())break e;h=x,c.currentTarget=k;try{h(c)}catch(z){Ss(z)}c.currentTarget=null,h=T}}}}function pe(e,t){var n=t[Go];n===void 0&&(n=t[Go]=new Set);var i=e+"__bubble";n.has(i)||(yv(t,e,2,!1),n.add(i))}function kc(e,t,n){var i=0;t&&(i|=4),yv(n,e,i,t)}var ol="_reactListening"+Math.random().toString(36).slice(2);function Dc(e){if(!e[ol]){e[ol]=!0,cd.forEach(function(n){n!=="selectionchange"&&(d1.has(n)||kc(n,!1,e),kc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ol]||(t[ol]=!0,kc("selectionchange",!1,t))}}function yv(e,t,n,i){switch(Kv(t)){case 2:var c=H1;break;case 8:c=$1;break;default:c=Yc}n=c.bind(null,t,n,e),c=void 0,!Wo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),i?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Mc(e,t,n,i,c){var h=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var _=i.tag;if(_===3||_===4){var x=i.stateNode.containerInfo;if(x===c)break;if(_===4)for(_=i.return;_!==null;){var T=_.tag;if((T===3||T===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;x!==null;){if(_=$r(x),_===null)return;if(T=_.tag,T===5||T===6||T===26||T===27){i=h=_;continue e}x=x.parentNode}}i=i.return}Sd(function(){var k=h,z=Zo(n),H=[];e:{var D=Qd.get(e);if(D!==void 0){var L=bs,F=e;switch(e){case"keypress":if(ys(n)===0)break e;case"keydown":case"keyup":L=ib;break;case"focusin":F="focus",L=ru;break;case"focusout":F="blur",L=ru;break;case"beforeblur":case"afterblur":L=ru;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=ob;break;case Kd:case Xd:case Yd:L=Qp;break;case Fd:L=cb;break;case"scroll":case"scrollend":L=Vp;break;case"wheel":L=db;break;case"copy":case"cut":case"paste":L=Jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Ad;break;case"toggle":case"beforetoggle":L=vb}var le=(t&4)!==0,Me=!le&&(e==="scroll"||e==="scrollend"),N=le?D!==null?D+"Capture":null:D;le=[];for(var j=k,C;j!==null;){var q=j;if(C=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||C===null||N===null||(q=Fa(j,N),q!=null&&le.push(ji(j,q,C))),Me)break;j=j.return}0<le.length&&(D=new L(D,F,null,n,z),H.push({event:D,listeners:le}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",D&&n!==Qo&&(F=n.relatedTarget||n.fromElement)&&($r(F)||F[Hr]))break e;if((L||D)&&(D=z.window===z?z:(D=z.ownerDocument)?D.defaultView||D.parentWindow:window,L?(F=n.relatedTarget||n.toElement,L=k,F=F?$r(F):null,F!==null&&(Me=u(F),le=F.tag,F!==Me||le!==5&&le!==27&&le!==6)&&(F=null)):(L=null,F=k),L!==F)){if(le=Od,q="onMouseLeave",N="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(le=Ad,q="onPointerLeave",N="onPointerEnter",j="pointer"),Me=L==null?D:Ya(L),C=F==null?D:Ya(F),D=new le(q,j+"leave",L,n,z),D.target=Me,D.relatedTarget=C,q=null,$r(z)===k&&(le=new le(N,j+"enter",F,n,z),le.target=C,le.relatedTarget=Me,q=le),Me=q,L&&F)t:{for(le=h1,N=L,j=F,C=0,q=N;q;q=le(q))C++;q=0;for(var te=j;te;te=le(te))q++;for(;0<C-q;)N=le(N),C--;for(;0<q-C;)j=le(j),q--;for(;C--;){if(N===j||j!==null&&N===j.alternate){le=N;break t}N=le(N),j=le(j)}le=null}else le=null;L!==null&&pv(H,D,L,le,!1),F!==null&&Me!==null&&pv(H,Me,F,le,!0)}}e:{if(D=k?Ya(k):window,L=D.nodeName&&D.nodeName.toLowerCase(),L==="select"||L==="input"&&D.type==="file")var Oe=Ud;else if(Dd(D))if(Ld)Oe=xb;else{Oe=Sb;var J=wb}else L=D.nodeName,!L||L.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?k&&Fo(k.elementType)&&(Oe=Ud):Oe=Eb;if(Oe&&(Oe=Oe(e,k))){Md(H,Oe,n,z);break e}J&&J(e,D,k),e==="focusout"&&k&&D.type==="number"&&k.memoizedProps.value!=null&&Yo(D,"number",D.value)}switch(J=k?Ya(k):window,e){case"focusin":(Dd(J)||J.contentEditable==="true")&&(Qr=J,uu=k,ri=null);break;case"focusout":ri=uu=Qr=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,Gd(H,n,z);break;case"selectionchange":if(Tb)break;case"keydown":case"keyup":Gd(H,n,z)}var ge;if(iu)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Fr?Cd(e,n)&&(_e="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_e="onCompositionStart");_e&&(jd&&n.locale!=="ko"&&(Fr||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Fr&&(ge=Ed()):(Bn=z,eu="value"in Bn?Bn.value:Bn.textContent,Fr=!0)),J=ul(k,_e),0<J.length&&(_e=new Td(_e,e,null,n,z),H.push({event:_e,listeners:J}),ge?_e.data=ge:(ge=kd(n),ge!==null&&(_e.data=ge)))),(ge=mb?yb(e,n):pb(e,n))&&(_e=ul(k,"onBeforeInput"),0<_e.length&&(J=new Td("onBeforeInput","beforeinput",null,n,z),H.push({event:J,listeners:_e}),J.data=ge)),u1(H,e,k,n,z)}mv(H,t)})}function ji(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ul(e,t){for(var n=t+"Capture",i=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Fa(e,n),c!=null&&i.unshift(ji(e,c,h)),c=Fa(e,t),c!=null&&i.push(ji(e,c,h))),e.tag===3)return i;e=e.return}return[]}function h1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pv(e,t,n,i,c){for(var h=t._reactName,_=[];n!==null&&n!==i;){var x=n,T=x.alternate,k=x.stateNode;if(x=x.tag,T!==null&&T===i)break;x!==5&&x!==26&&x!==27||k===null||(T=k,c?(k=Fa(n,h),k!=null&&_.unshift(ji(n,k,T))):c||(k=Fa(n,h),k!=null&&_.push(ji(n,k,T)))),n=n.return}_.length!==0&&e.push({event:t,listeners:_})}var v1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function bv(e){return(typeof e=="string"?e:""+e).replace(v1,`
`).replace(g1,"")}function _v(e,t){return t=bv(t),bv(e)===t}function De(e,t,n,i,c,h){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Kr(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Kr(e,""+i);break;case"className":hs(e,"class",i);break;case"tabIndex":hs(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":hs(e,n,i);break;case"style":_d(e,i,h);break;case"data":if(t!=="object"){hs(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=gs(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(n==="formAction"?(t!=="input"&&De(e,t,"name",c.name,c,null),De(e,t,"formEncType",c.formEncType,c,null),De(e,t,"formMethod",c.formMethod,c,null),De(e,t,"formTarget",c.formTarget,c,null)):(De(e,t,"encType",c.encType,c,null),De(e,t,"method",c.method,c,null),De(e,t,"target",c.target,c,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=gs(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=vn);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=gs(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":pe("beforetoggle",e),pe("toggle",e),ds(e,"popover",i);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ds(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ip.get(n)||n,ds(e,n,i))}}function Uc(e,t,n,i,c,h){switch(n){case"style":_d(e,i,h);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Kr(e,i):(typeof i=="number"||typeof i=="bigint")&&Kr(e,""+i);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(c=n.endsWith("Capture"),t=n.slice(2,c?n.length-7:void 0),h=e[yt]||null,h=h!=null?h[n]:null,typeof h=="function"&&e.removeEventListener(t,h,c),typeof i=="function")){typeof h!="function"&&h!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,c);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):ds(e,n,i)}}}function ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var i=!1,c=!1,h;for(h in n)if(n.hasOwnProperty(h)){var _=n[h];if(_!=null)switch(h){case"src":i=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:De(e,t,h,_,n,null)}}c&&De(e,t,"srcSet",n.srcSet,n,null),i&&De(e,t,"src",n.src,n,null);return;case"input":pe("invalid",e);var x=h=_=c=null,T=null,k=null;for(i in n)if(n.hasOwnProperty(i)){var z=n[i];if(z!=null)switch(i){case"name":c=z;break;case"type":_=z;break;case"checked":T=z;break;case"defaultChecked":k=z;break;case"value":h=z;break;case"defaultValue":x=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,t));break;default:De(e,t,i,z,n,null)}}md(e,h,x,T,k,_,c,!1);return;case"select":pe("invalid",e),i=_=h=null;for(c in n)if(n.hasOwnProperty(c)&&(x=n[c],x!=null))switch(c){case"value":h=x;break;case"defaultValue":_=x;break;case"multiple":i=x;default:De(e,t,c,x,n,null)}t=h,n=_,e.multiple=!!i,t!=null?Vr(e,!!i,t,!1):n!=null&&Vr(e,!!i,n,!0);return;case"textarea":pe("invalid",e),h=c=i=null;for(_ in n)if(n.hasOwnProperty(_)&&(x=n[_],x!=null))switch(_){case"value":i=x;break;case"defaultValue":c=x;break;case"children":h=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:De(e,t,_,x,n,null)}pd(e,i,c,h);return;case"option":for(T in n)if(n.hasOwnProperty(T)&&(i=n[T],i!=null))switch(T){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:De(e,t,T,i,n,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(i=0;i<Ai.length;i++)pe(Ai[i],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in n)if(n.hasOwnProperty(k)&&(i=n[k],i!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:De(e,t,k,i,n,null)}return;default:if(Fo(t)){for(z in n)n.hasOwnProperty(z)&&(i=n[z],i!==void 0&&Uc(e,t,z,i,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(i=n[x],i!=null&&De(e,t,x,i,n,null))}function m1(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,_=null,x=null,T=null,k=null,z=null;for(L in n){var H=n[L];if(n.hasOwnProperty(L)&&H!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":T=H;default:i.hasOwnProperty(L)||De(e,t,L,null,i,H)}}for(var D in i){var L=i[D];if(H=n[D],i.hasOwnProperty(D)&&(L!=null||H!=null))switch(D){case"type":h=L;break;case"name":c=L;break;case"checked":k=L;break;case"defaultChecked":z=L;break;case"value":_=L;break;case"defaultValue":x=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,t));break;default:L!==H&&De(e,t,D,L,i,H)}}Xo(e,_,x,T,k,z,h,c);return;case"select":L=_=x=D=null;for(h in n)if(T=n[h],n.hasOwnProperty(h)&&T!=null)switch(h){case"value":break;case"multiple":L=T;default:i.hasOwnProperty(h)||De(e,t,h,null,i,T)}for(c in i)if(h=i[c],T=n[c],i.hasOwnProperty(c)&&(h!=null||T!=null))switch(c){case"value":D=h;break;case"defaultValue":x=h;break;case"multiple":_=h;default:h!==T&&De(e,t,c,h,i,T)}t=x,n=_,i=L,D!=null?Vr(e,!!n,D,!1):!!i!=!!n&&(t!=null?Vr(e,!!n,t,!0):Vr(e,!!n,n?[]:"",!1));return;case"textarea":L=D=null;for(x in n)if(c=n[x],n.hasOwnProperty(x)&&c!=null&&!i.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:De(e,t,x,null,i,c)}for(_ in i)if(c=i[_],h=n[_],i.hasOwnProperty(_)&&(c!=null||h!=null))switch(_){case"value":D=c;break;case"defaultValue":L=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&De(e,t,_,c,i,h)}yd(e,D,L);return;case"option":for(var F in n)if(D=n[F],n.hasOwnProperty(F)&&D!=null&&!i.hasOwnProperty(F))switch(F){case"selected":e.selected=!1;break;default:De(e,t,F,null,i,D)}for(T in i)if(D=i[T],L=n[T],i.hasOwnProperty(T)&&D!==L&&(D!=null||L!=null))switch(T){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:De(e,t,T,D,i,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in n)D=n[le],n.hasOwnProperty(le)&&D!=null&&!i.hasOwnProperty(le)&&De(e,t,le,null,i,D);for(k in i)if(D=i[k],L=n[k],i.hasOwnProperty(k)&&D!==L&&(D!=null||L!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,t));break;default:De(e,t,k,D,i,L)}return;default:if(Fo(t)){for(var Me in n)D=n[Me],n.hasOwnProperty(Me)&&D!==void 0&&!i.hasOwnProperty(Me)&&Uc(e,t,Me,void 0,i,D);for(z in i)D=i[z],L=n[z],!i.hasOwnProperty(z)||D===L||D===void 0&&L===void 0||Uc(e,t,z,D,i,L);return}}for(var N in n)D=n[N],n.hasOwnProperty(N)&&D!=null&&!i.hasOwnProperty(N)&&De(e,t,N,null,i,D);for(H in i)D=i[H],L=n[H],!i.hasOwnProperty(H)||D===L||D==null&&L==null||De(e,t,H,D,i,L)}function wv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var c=n[i],h=c.transferSize,_=c.initiatorType,x=c.duration;if(h&&x&&wv(_)){for(_=0,x=c.responseEnd,i+=1;i<n.length;i++){var T=n[i],k=T.startTime;if(k>x)break;var z=T.transferSize,H=T.initiatorType;z&&wv(H)&&(T=T.responseEnd,_+=z*(T<x?1:(x-k)/(T-k)))}if(--i,t+=8*(h+_)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Lc=null,Bc=null;function cl(e){return e.nodeType===9?e:e.ownerDocument}function Sv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ev(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function zc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qc=null;function p1(){var e=window.event;return e&&e.type==="popstate"?e===qc?!1:(qc=e,!0):(qc=null,!1)}var xv=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,Ov=typeof Promise=="function"?Promise:void 0,_1=typeof queueMicrotask=="function"?queueMicrotask:typeof Ov<"u"?function(e){return Ov.resolve(null).then(e).catch(w1)}:xv;function w1(e){setTimeout(function(){throw e})}function er(e){return e==="head"}function Tv(e,t){var n=t,i=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(c),Ea(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Ri(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ri(n);for(var h=n.firstChild;h;){var _=h.nextSibling,x=h.nodeName;h[Xa]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&h.rel.toLowerCase()==="stylesheet"||n.removeChild(h),h=_}}else n==="body"&&Ri(e.ownerDocument.body);n=c}while(n);Ea(t)}function Av(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Hc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hc(n),Vo(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function S1(e,t,n,i){for(;e.nodeType===1;){var c=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Xa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function E1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Xt(e.nextSibling),e===null))return null;return e}function jv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xt(e.nextSibling),e===null))return null;return e}function $c(e){return e.data==="$?"||e.data==="$~"}function Pc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function x1(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ic=null;function Rv(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Xt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Nv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Cv(e,t,n){switch(t=cl(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ri(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Vo(e)}var Yt=new Map,kv=new Set;function fl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nn=I.d;I.d={f:O1,r:T1,D:A1,C:j1,L:R1,m:N1,X:k1,S:C1,M:D1};function O1(){var e=Nn.f(),t=nl();return e||t}function T1(e){var t=Pr(e);t!==null&&t.tag===5&&t.type==="form"?Fh(t):Nn.r(e)}var _a=typeof document>"u"?null:document;function Dv(e,t,n){var i=_a;if(i&&typeof t=="string"&&t){var c=Ht(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof n=="string"&&(c+='[crossorigin="'+n+'"]'),kv.has(c)||(kv.add(c),e={rel:e,crossOrigin:n,href:t},i.querySelector(c)===null&&(t=i.createElement("link"),ot(t,"link",e),tt(t),i.head.appendChild(t)))}}function A1(e){Nn.D(e),Dv("dns-prefetch",e,null)}function j1(e,t){Nn.C(e,t),Dv("preconnect",e,t)}function R1(e,t,n){Nn.L(e,t,n);var i=_a;if(i&&e&&t){var c='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&n&&n.imageSrcSet?(c+='[imagesrcset="'+Ht(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(c+='[imagesizes="'+Ht(n.imageSizes)+'"]')):c+='[href="'+Ht(e)+'"]';var h=c;switch(t){case"style":h=wa(e);break;case"script":h=Sa(e)}Yt.has(h)||(e=p({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Yt.set(h,e),i.querySelector(c)!==null||t==="style"&&i.querySelector(Ni(h))||t==="script"&&i.querySelector(Ci(h))||(t=i.createElement("link"),ot(t,"link",e),tt(t),i.head.appendChild(t)))}}function N1(e,t){Nn.m(e,t);var n=_a;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Ht(i)+'"][href="'+Ht(e)+'"]',h=c;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Sa(e)}if(!Yt.has(h)&&(e=p({rel:"modulepreload",href:e},t),Yt.set(h,e),n.querySelector(c)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ci(h)))return}i=n.createElement("link"),ot(i,"link",e),tt(i),n.head.appendChild(i)}}}function C1(e,t,n){Nn.S(e,t,n);var i=_a;if(i&&e){var c=Ir(i).hoistableStyles,h=wa(e);t=t||"default";var _=c.get(h);if(!_){var x={loading:0,preload:null};if(_=i.querySelector(Ni(h)))x.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Yt.get(h))&&Gc(e,n);var T=_=i.createElement("link");tt(T),ot(T,"link",e),T._p=new Promise(function(k,z){T.onload=k,T.onerror=z}),T.addEventListener("load",function(){x.loading|=1}),T.addEventListener("error",function(){x.loading|=2}),x.loading|=4,dl(_,t,i)}_={type:"stylesheet",instance:_,count:1,state:x},c.set(h,_)}}}function k1(e,t){Nn.X(e,t);var n=_a;if(n&&e){var i=Ir(n).hoistableScripts,c=Sa(e),h=i.get(c);h||(h=n.querySelector(Ci(c)),h||(e=p({src:e,async:!0},t),(t=Yt.get(c))&&Vc(e,t),h=n.createElement("script"),tt(h),ot(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},i.set(c,h))}}function D1(e,t){Nn.M(e,t);var n=_a;if(n&&e){var i=Ir(n).hoistableScripts,c=Sa(e),h=i.get(c);h||(h=n.querySelector(Ci(c)),h||(e=p({src:e,async:!0,type:"module"},t),(t=Yt.get(c))&&Vc(e,t),h=n.createElement("script"),tt(h),ot(h,"link",e),n.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},i.set(c,h))}}function Mv(e,t,n,i){var c=(c=me.current)?fl(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=wa(n.href),n=Ir(c).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=wa(n.href);var h=Ir(c).hoistableStyles,_=h.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,_),(h=c.querySelector(Ni(e)))&&!h._p&&(_.instance=h,_.state.loading=5),Yt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yt.set(e,n),h||M1(c,e,n,_.state))),t&&i===null)throw Error(s(528,""));return _}if(t&&i!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Sa(n),n=Ir(c).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function wa(e){return'href="'+Ht(e)+'"'}function Ni(e){return'link[rel="stylesheet"]['+e+"]"}function Uv(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function M1(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ot(t,"link",n),tt(t),e.head.appendChild(t))}function Sa(e){return'[src="'+Ht(e)+'"]'}function Ci(e){return"script[async]"+e}function Lv(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ht(n.href)+'"]');if(i)return t.instance=i,tt(i),i;var c=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),tt(i),ot(i,"style",c),dl(i,n.precedence,e),t.instance=i;case"stylesheet":c=wa(n.href);var h=e.querySelector(Ni(c));if(h)return t.state.loading|=4,t.instance=h,tt(h),h;i=Uv(n),(c=Yt.get(c))&&Gc(i,c),h=(e.ownerDocument||e).createElement("link"),tt(h);var _=h;return _._p=new Promise(function(x,T){_.onload=x,_.onerror=T}),ot(h,"link",i),t.state.loading|=4,dl(h,n.precedence,e),t.instance=h;case"script":return h=Sa(n.src),(c=e.querySelector(Ci(h)))?(t.instance=c,tt(c),c):(i=n,(c=Yt.get(h))&&(i=p({},n),Vc(i,c)),e=e.ownerDocument||e,c=e.createElement("script"),tt(c),ot(c,"link",i),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,dl(i,n.precedence,e));return t.instance}function dl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=i.length?i[i.length-1]:null,h=c,_=0;_<i.length;_++){var x=i[_];if(x.dataset.precedence===t)h=x;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Gc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var hl=null;function Bv(e,t,n){if(hl===null){var i=new Map,c=hl=new Map;c.set(n,i)}else c=hl,i=c.get(n),i||(i=new Map,c.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),c=0;c<n.length;c++){var h=n[c];if(!(h[Xa]||h[at]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(t)||"";_=e+_;var x=i.get(_);x?x.push(h):i.set(_,[h])}}return i}function zv(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function U1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function qv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function L1(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=wa(i.href),h=t.querySelector(Ni(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=vl.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=h,tt(h);return}h=t.ownerDocument||t,i=Uv(i),(c=Yt.get(c))&&Gc(i,c),h=h.createElement("link"),tt(h);var _=h;_._p=new Promise(function(x,T){_.onload=x,_.onerror=T}),ot(h,"link",i),n.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=vl.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Kc=0;function B1(e,t){return e.stylesheets&&e.count===0&&ml(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&ml(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&Kc===0&&(Kc=62500*y1());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ml(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Kc?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(c)}}:null}function vl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ml(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gl=null;function ml(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gl=new Map,t.forEach(z1,e),gl=null,vl.call(e))}function z1(e,t){if(!(t.state.loading&4)){var n=gl.get(e);if(n)var i=n.get(null);else{n=new Map,gl.set(e,n);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var _=c[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(n.set(_.dataset.precedence,_),i=_)}i&&n.set(null,i)}c=t.instance,_=c.getAttribute("data-precedence"),h=n.get(_)||i,h===i&&n.set(null,c),n.set(_,c),this.count++,i=vl.bind(this),c.addEventListener("load",i),c.addEventListener("error",i),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var ki={$$typeof:U,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function q1(e,t,n,i,c,h,_,x,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$o(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.hiddenUpdates=$o(null),this.identifierPrefix=i,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Hv(e,t,n,i,c,h,_,x,T,k,z,H){return e=new q1(e,t,n,_,T,k,z,H,x),t=1,h===!0&&(t|=24),h=Rt(3,null,null,t),e.current=h,h.stateNode=e,t=Ou(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:i,isDehydrated:n,cache:t},Ru(h),e}function $v(e){return e?(e=Wr,e):Wr}function Pv(e,t,n,i,c,h){c=$v(c),i.context===null?i.context=c:i.pendingContext=c,i=In(t),i.payload={element:n},h=h===void 0?null:h,h!==null&&(i.callback=h),n=Gn(e,i,t),n!==null&&(Et(n,e,t),ci(n,e,t))}function Iv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xc(e,t){Iv(e,t),(e=e.alternate)&&Iv(e,t)}function Gv(e){if(e.tag===13||e.tag===31){var t=mr(e,67108864);t!==null&&Et(t,e,67108864),Xc(e,67108864)}}function Vv(e){if(e.tag===13||e.tag===31){var t=Mt();t=Po(t);var n=mr(e,t);n!==null&&Et(n,e,t),Xc(e,t)}}var yl=!0;function H1(e,t,n,i){var c=B.T;B.T=null;var h=I.p;try{I.p=2,Yc(e,t,n,i)}finally{I.p=h,B.T=c}}function $1(e,t,n,i){var c=B.T;B.T=null;var h=I.p;try{I.p=8,Yc(e,t,n,i)}finally{I.p=h,B.T=c}}function Yc(e,t,n,i){if(yl){var c=Fc(i);if(c===null)Mc(e,t,i,pl,n),Xv(e,i);else if(I1(c,e,t,n,i))i.stopPropagation();else if(Xv(e,i),t&4&&-1<P1.indexOf(e)){for(;c!==null;){var h=Pr(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=fr(h.pendingLanes);if(_!==0){var x=h;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var T=1<<31-At(_);x.entanglements[1]|=T,_&=~T}un(h),(Ae&6)===0&&(el=ht()+500,Ti(0))}}break;case 31:case 13:x=mr(h,2),x!==null&&Et(x,h,2),nl(),Xc(h,2)}if(h=Fc(i),h===null&&Mc(e,t,i,pl,n),h===c)break;c=h}c!==null&&i.stopPropagation()}else Mc(e,t,i,null,n)}}function Fc(e){return e=Zo(e),Qc(e)}var pl=null;function Qc(e){if(pl=null,e=$r(e),e!==null){var t=u(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=y(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return pl=e,null}function Kv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ap()){case ed:return 2;case td:return 8;case ls:case jp:return 32;case nd:return 268435456;default:return 32}default:return 32}}var Zc=!1,tr=null,nr=null,rr=null,Di=new Map,Mi=new Map,ar=[],P1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xv(e,t){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":Di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(t.pointerId)}}function Ui(e,t,n,i,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:h,targetContainers:[c]},t!==null&&(t=Pr(t),t!==null&&Gv(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function I1(e,t,n,i,c){switch(t){case"focusin":return tr=Ui(tr,e,t,n,i,c),!0;case"dragenter":return nr=Ui(nr,e,t,n,i,c),!0;case"mouseover":return rr=Ui(rr,e,t,n,i,c),!0;case"pointerover":var h=c.pointerId;return Di.set(h,Ui(Di.get(h)||null,e,t,n,i,c)),!0;case"gotpointercapture":return h=c.pointerId,Mi.set(h,Ui(Mi.get(h)||null,e,t,n,i,c)),!0}return!1}function Yv(e){var t=$r(e.target);if(t!==null){var n=u(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,od(e.priority,function(){Vv(n)});return}}else if(t===31){if(t=y(n),t!==null){e.blockedOn=t,od(e.priority,function(){Vv(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fc(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Qo=i,n.target.dispatchEvent(i),Qo=null}else return t=Pr(n),t!==null&&Gv(t),e.blockedOn=n,!1;t.shift()}return!0}function Fv(e,t,n){bl(e)&&n.delete(t)}function G1(){Zc=!1,tr!==null&&bl(tr)&&(tr=null),nr!==null&&bl(nr)&&(nr=null),rr!==null&&bl(rr)&&(rr=null),Di.forEach(Fv),Mi.forEach(Fv)}function _l(e,t){e.blockedOn===t&&(e.blockedOn=null,Zc||(Zc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,G1)))}var wl=null;function Qv(e){wl!==e&&(wl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){wl===e&&(wl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],c=e[t+2];if(typeof i!="function"){if(Qc(i||n)===null)continue;break}var h=Pr(n);h!==null&&(e.splice(t,3),t-=3,Fu(h,{pending:!0,data:c,method:n.method,action:i},i,c))}}))}function Ea(e){function t(T){return _l(T,e)}tr!==null&&_l(tr,e),nr!==null&&_l(nr,e),rr!==null&&_l(rr,e),Di.forEach(t),Mi.forEach(t);for(var n=0;n<ar.length;n++){var i=ar[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<ar.length&&(n=ar[0],n.blockedOn===null);)Yv(n),n.blockedOn===null&&ar.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var c=n[i],h=n[i+1],_=c[yt]||null;if(typeof h=="function")_||Qv(n);else if(_){var x=null;if(h&&h.hasAttribute("formAction")){if(c=h,_=h[yt]||null)x=_.formAction;else if(Qc(c)!==null)continue}else x=_.action;typeof x=="function"?n[i+1]=x:(n.splice(i,3),i-=3),Qv(n)}}}function Zv(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(_){return c=_})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Jc(e){this._internalRoot=e}Sl.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,i=Mt();Pv(n,i,e,t,null,null)},Sl.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pv(e.current,2,null,e,null,null),nl(),t[Hr]=null}};function Sl(e){this._internalRoot=e}Sl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ld();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ar.length&&t!==0&&t<ar[n].priority;n++);ar.splice(n,0,e),n===0&&Yv(e)}};var Jv=r.version;if(Jv!=="19.2.1")throw Error(s(527,Jv,"19.2.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=f(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var V1={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var El=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!El.isDisabled&&El.supportsFiber)try{Ga=El.inject(V1),Tt=El}catch{}}return Bi.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,i="",c=i0,h=s0,_=l0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError)),t=Hv(e,1,!1,null,null,n,i,null,c,h,_,Zv),e[Hr]=t.current,Dc(e),new Jc(t)},Bi.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var i=!1,c="",h=i0,_=s0,x=l0,T=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(_=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.formState!==void 0&&(T=n.formState)),t=Hv(e,1,!0,t,n??null,i,c,T,h,_,x,Zv),t.context=$v(null),n=t.current,i=Mt(),i=Po(i),c=In(i),c.callback=null,Gn(n,c,i),n=i,t.current.lanes=n,Ka(t,n),un(t),e[Hr]=t.current,Dc(e),new Sl(t)},Bi.version="19.2.1",Bi}var og;function n_(){if(og)return tf.exports;og=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),tf.exports=t_(),tf.exports}var r_=n_();const a_=ko(r_),Hf=[{id:"1",name:" ",sku:"LF",category:"fiber",sorts:["1","2","3","4"]},{id:"2",name:" ",sku:"SF",category:"fiber",sorts:["1","2","3","4"]},{id:"3",name:" ",sku:"HC",category:"shiv",sorts:["+1.5 ","-1.5 +1.0 ","-1.0 "]},{id:"4",name:" ",sku:"HU",category:"shiv",sorts:["1","2","3"]},{id:"5",name:" ",sku:"HF",category:"dust"},{id:"6",name:" ",sku:"SB",category:"dust"},{id:"7",name:" ",sku:"TT",category:"fiber"},{id:"8",name:" ",sku:"US",category:"fiber"}],$f=[{id:"5",name:"",role:"operator",pin:"1111"},{id:"2",name:"",role:"lab",pin:"2222"},{id:"1",name:"",role:"accountant",pin:"3333"},{id:"3",name:"",role:"agro",pin:"4444"},{id:"4",name:"",role:"admin",pin:"7777"}],xa=1,i_=`
^XA
^PW800
^LL800
^CI28
^FO10,10^GB780,780,4^FS

^FO30,30^A0N,30,30^FDDate:^FS
^FO30,70^A0N,40,40^FH^FD{date}^FS

^FO30,150^A0N,30,30^FDProduct:^FS
^FO30,190^A0N,50,50^FH^FD{productName}^FS

^FO580,30{logo}^FS

^FO500,150^A0N,30,30^FH^FD{sortLabel}:^FS
^FO500,190^A0N,40,40^FH^FD{sortValue}^FS

^FO30,280^A0N,30,30^FDSKU:^FS
^FO130,280^A0N,30,30^FH^FD{sku}^FS

^FO30,360^A0N,40,40^FDWeight:^FS
^FO200,340^A0N,100,100^FH^FD{weight} kg^FS

^FO30,500^A0N,30,30^FDSerial No:^FS
^FO30,540^A0N,40,40^FH^FD#{serialNumber}^FS

^FO100,600^BY2
^BCN,100,Y,N,N
^FH^FD{barcode}^FS

^PQ{quantity}
^XZ
`,s_=`
^XA
^PW800
^LL800
^CI28
^FO10,10^GB780,780,4^FS

^FO30,150^A0N,30,30^FDDate:^FS
^FO30,190^A0N,40,40^FH^FD{date}^FS

^FO30,240^A0N,30,30^FDProduct:^FS
^FO30,280^A0N,50,50^FH^FD{productName}^FS

^FO580,150{logo}^FS

^FO500,240^A0N,30,30^FH^FD{sortLabel}:^FS
^FO500,280^A0N,40,40^FH^FD{sortValue}^FS

^FO30,360^A0N,30,30^FDSKU:^FS
^FO130,360^A0N,30,30^FH^FD{sku}^FS

^FO30,440^A0N,40,40^FDWeight:^FS
^FO200,420^A0N,100,100^FH^FD{weight} kg^FS

^FO30,570^A0N,30,30^FDSerial No:^FS
^FO30,610^A0N,40,40^FH^FD#{serialNumber}^FS

^FO100,670^BY2
^BCN,90,Y,N,N
^FH^FD{barcode}^FS

^PQ{quantity}
^XZ
`,l_=`
^XA
^PW464
^LL240
^CI28

^FO10,10^A0N,25,25^FH^FD{productName}^FS

^FO360,10{logo}^FS

^FO100,50^A0N,30,30^FH^FDDate: {date}^FS

^FO10,85^A0N,45,45^FH^FD{weight} kg^FS
^FO220,95^A0N,25,25^FH^FD{sortLabel}:{sortValue}^FS

^FO280,130^A0N,20,20^FH^FD#{serialNumber}^FS

^FO40,155^BY1
^BCN,40,Y,N,N
^FH^FD{barcode}^FS

^PQ{quantity}
^XZ
`,Fm=[{id:"100x100",name:" (100x100 )",widthMm:100,heightMm:100,template:i_,cssAspectRatio:"1/1",previewStyles:{containerPadding:"p-6",titleSize:"text-xs",textSize:"text-lg",productSize:"text-2xl",weightSize:"text-5xl",weightLabelSize:"text-xl",barcodeHeight:60}},{id:"58x30",name:" (58x30 )",widthMm:58,heightMm:30,template:l_,cssAspectRatio:"58/30",previewStyles:{containerPadding:"p-2",titleSize:"text-[10px] hidden",textSize:"text-[10px]",productSize:"text-sm font-bold truncate leading-none",weightSize:"text-3xl",weightLabelSize:"text-xs",barcodeHeight:45}}],o_="modulepreload",u_=function(l){return"/Marijany-Sticker-Print/"+l},ug={},Pf=function(r,a,s){let o=Promise.resolve();if(a&&a.length>0){let d=function(f){return Promise.all(f.map(v=>Promise.resolve(v).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),g=(y==null?void 0:y.nonce)||(y==null?void 0:y.getAttribute("nonce"));o=d(a.map(f=>{if(f=u_(f),f in ug)return;ug[f]=!0;const v=f.endsWith(".css"),p=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const m=document.createElement("link");if(m.rel=v?"stylesheet":o_,v||(m.as="script"),m.crossOrigin="",m.href=f,g&&m.setAttribute("nonce",g),document.head.appendChild(m),v)return new Promise((b,w)=>{m.addEventListener("load",b),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(d){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=d,window.dispatchEvent(y),!y.defaultPrevented)throw d}return o.then(d=>{for(const y of d||[])y.status==="rejected"&&u(y.reason);return r().catch(u)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var La;(function(l){l.Unimplemented="UNIMPLEMENTED",l.Unavailable="UNAVAILABLE"})(La||(La={}));class sf extends Error{constructor(r,a,s){super(r),this.message=r,this.code=a,this.data=s}}const c_=l=>{var r,a;return l!=null&&l.androidBridge?"android":!((a=(r=l==null?void 0:l.webkit)===null||r===void 0?void 0:r.messageHandlers)===null||a===void 0)&&a.bridge?"ios":"web"},f_=l=>{const r=l.CapacitorCustomPlatform||null,a=l.Capacitor||{},s=a.Plugins=a.Plugins||{},o=()=>r!==null?r.name:c_(l),u=()=>o()!=="web",d=p=>{const m=f.get(p);return!!(m!=null&&m.platforms.has(o())||y(p))},y=p=>{var m;return(m=a.PluginHeaders)===null||m===void 0?void 0:m.find(b=>b.name===p)},g=p=>l.console.error(p),f=new Map,v=(p,m={})=>{const b=f.get(p);if(b)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),b.proxy;const w=o(),E=y(p);let O;const R=async()=>(!O&&w in m?O=typeof m[w]=="function"?O=await m[w]():O=m[w]:r!==null&&!O&&"web"in m&&(O=typeof m.web=="function"?O=await m.web():O=m.web),O),M=(ie,K)=>{var se,ce;if(E){const ne=E==null?void 0:E.methods.find(fe=>K===fe.name);if(ne)return ne.rtype==="promise"?fe=>a.nativePromise(p,K.toString(),fe):(fe,Ee)=>a.nativeCallback(p,K.toString(),fe,Ee);if(ie)return(se=ie[K])===null||se===void 0?void 0:se.bind(ie)}else{if(ie)return(ce=ie[K])===null||ce===void 0?void 0:ce.bind(ie);throw new sf(`"${p}" plugin is not implemented on ${w}`,La.Unimplemented)}},U=ie=>{let K;const se=(...ce)=>{const ne=R().then(fe=>{const Ee=M(fe,ie);if(Ee){const ae=Ee(...ce);return K=ae==null?void 0:ae.remove,ae}else throw new sf(`"${p}.${ie}()" is not implemented on ${w}`,La.Unimplemented)});return ie==="addListener"&&(ne.remove=async()=>K()),ne};return se.toString=()=>`${ie.toString()}() { [capacitor code] }`,Object.defineProperty(se,"name",{value:ie,writable:!1,configurable:!1}),se},P=U("addListener"),ee=U("removeListener"),Z=(ie,K)=>{const se=P({eventName:ie},K),ce=async()=>{const fe=await se;ee({eventName:ie,callbackId:fe},K)},ne=new Promise(fe=>se.then(()=>fe({remove:ce})));return ne.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ce()},ne},V=new Proxy({},{get(ie,K){switch(K){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return E?Z:P;case"removeListener":return ee;default:return U(K)}}});return s[p]=V,f.set(p,{name:p,proxy:V,platforms:new Set([...Object.keys(m),...E?[w]:[]])}),V};return a.convertFileSrc||(a.convertFileSrc=p=>p),a.getPlatform=o,a.handleError=g,a.isNativePlatform=u,a.isPluginAvailable=d,a.registerPlugin=v,a.Exception=sf,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a},d_=l=>l.Capacitor=f_(l),fn=d_(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Do=fn.registerPlugin;class If{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(r,a){let s=!1;this.listeners[r]||(this.listeners[r]=[],s=!0),this.listeners[r].push(a);const u=this.windowListeners[r];u&&!u.registered&&this.addWindowListener(u),s&&this.sendRetainedArgumentsForEvent(r);const d=async()=>this.removeListener(r,a);return Promise.resolve({remove:d})}async removeAllListeners(){this.listeners={};for(const r in this.windowListeners)this.removeWindowListener(this.windowListeners[r]);this.windowListeners={}}notifyListeners(r,a,s){const o=this.listeners[r];if(!o){if(s){let u=this.retainedEventArguments[r];u||(u=[]),u.push(a),this.retainedEventArguments[r]=u}return}o.forEach(u=>u(a))}hasListeners(r){var a;return!!(!((a=this.listeners[r])===null||a===void 0)&&a.length)}registerWindowListener(r,a){this.windowListeners[a]={registered:!1,windowEventName:r,pluginEventName:a,handler:s=>{this.notifyListeners(a,s)}}}unimplemented(r="not implemented"){return new fn.Exception(r,La.Unimplemented)}unavailable(r="not available"){return new fn.Exception(r,La.Unavailable)}async removeListener(r,a){const s=this.listeners[r];if(!s)return;const o=s.indexOf(a);this.listeners[r].splice(o,1),this.listeners[r].length||this.removeWindowListener(this.windowListeners[r])}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){r&&(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}sendRetainedArgumentsForEvent(r){const a=this.retainedEventArguments[r];a&&(delete this.retainedEventArguments[r],a.forEach(s=>{this.notifyListeners(r,s)}))}}const cg=l=>encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),fg=l=>l.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class h_ extends If{async getCookies(){const r=document.cookie,a={};return r.split(";").forEach(s=>{if(s.length<=0)return;let[o,u]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=fg(o).trim(),u=fg(u).trim(),a[o]=u}),a}async setCookie(r){try{const a=cg(r.key),s=cg(r.value),o=`; expires=${(r.expires||"").replace("expires=","")}`,u=(r.path||"/").replace("path=",""),d=r.url!=null&&r.url.length>0?`domain=${r.url}`:"";document.cookie=`${a}=${s||""}${o}; path=${u}; ${d};`}catch(a){return Promise.reject(a)}}async deleteCookie(r){try{document.cookie=`${r.key}=; Max-Age=0`}catch(a){return Promise.reject(a)}}async clearCookies(){try{const r=document.cookie.split(";")||[];for(const a of r)document.cookie=a.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(r){return Promise.reject(r)}}async clearAllCookies(){try{await this.clearCookies()}catch(r){return Promise.reject(r)}}}Do("CapacitorCookies",{web:()=>new h_});const v_=async l=>new Promise((r,a)=>{const s=new FileReader;s.onload=()=>{const o=s.result;r(o.indexOf(",")>=0?o.split(",")[1]:o)},s.onerror=o=>a(o),s.readAsDataURL(l)}),g_=(l={})=>{const r=Object.keys(l);return Object.keys(l).map(o=>o.toLocaleLowerCase()).reduce((o,u,d)=>(o[u]=l[r[d]],o),{})},m_=(l,r=!0)=>l?Object.entries(l).reduce((s,o)=>{const[u,d]=o;let y,g;return Array.isArray(d)?(g="",d.forEach(f=>{y=r?encodeURIComponent(f):f,g+=`${u}=${y}&`}),g.slice(0,-1)):(y=r?encodeURIComponent(d):d,g=`${u}=${y}`),`${s}&${g}`},"").substr(1):null,y_=(l,r={})=>{const a=Object.assign({method:l.method||"GET",headers:l.headers},r),o=g_(l.headers)["content-type"]||"";if(typeof l.data=="string")a.body=l.data;else if(o.includes("application/x-www-form-urlencoded")){const u=new URLSearchParams;for(const[d,y]of Object.entries(l.data||{}))u.set(d,y);a.body=u.toString()}else if(o.includes("multipart/form-data")||l.data instanceof FormData){const u=new FormData;if(l.data instanceof FormData)l.data.forEach((y,g)=>{u.append(g,y)});else for(const y of Object.keys(l.data))u.append(y,l.data[y]);a.body=u;const d=new Headers(a.headers);d.delete("content-type"),a.headers=d}else(o.includes("application/json")||typeof l.data=="object")&&(a.body=JSON.stringify(l.data));return a};class p_ extends If{async request(r){const a=y_(r,r.webFetchExtra),s=m_(r.params,r.shouldEncodeUrlParams),o=s?`${r.url}?${s}`:r.url,u=await fetch(o,a),d=u.headers.get("content-type")||"";let{responseType:y="text"}=u.ok?r:{};d.includes("application/json")&&(y="json");let g,f;switch(y){case"arraybuffer":case"blob":f=await u.blob(),g=await v_(f);break;case"json":g=await u.json();break;case"document":case"text":default:g=await u.text()}const v={};return u.headers.forEach((p,m)=>{v[m]=p}),{data:g,headers:v,status:u.status,url:u.url}}async get(r){return this.request(Object.assign(Object.assign({},r),{method:"GET"}))}async post(r){return this.request(Object.assign(Object.assign({},r),{method:"POST"}))}async put(r){return this.request(Object.assign(Object.assign({},r),{method:"PUT"}))}async patch(r){return this.request(Object.assign(Object.assign({},r),{method:"PATCH"}))}async delete(r){return this.request(Object.assign(Object.assign({},r),{method:"DELETE"}))}}Do("CapacitorHttp",{web:()=>new p_});var dg;(function(l){l.Dark="DARK",l.Light="LIGHT",l.Default="DEFAULT"})(dg||(dg={}));var hg;(function(l){l.StatusBar="StatusBar",l.NavigationBar="NavigationBar"})(hg||(hg={}));class b_ extends If{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Do("SystemBars",{web:()=>new b_});class __{constructor(){this.isNative=fn.isNativePlatform(),this.ZEBRA_SERVICE_UUID="000018f0-0000-1000-8000-00805f9b34fb"}async requestBluetoothDevice(){if(!navigator.bluetooth)throw new Error("Web Bluetooth API is not available (Require HTTPS & Chrome).");try{const r=await navigator.bluetooth.requestDevice({filters:[{namePrefix:"Zebra"},{namePrefix:"XX"},{namePrefix:"Printer"}],optionalServices:["generic_access",6384]});if(!r||!r.gatt)throw new Error("Bluetooth Device selected but no GATT server found.");const a=await r.gatt.connect();return{uid:r.id,name:r.name||"Bluetooth Printer",connection:"bluetooth_direct",deviceType:"printer",manufacturer:"Zebra",provider:"WebBluetooth",version:"1.0",gattServer:a}}catch(r){throw console.error("Bluetooth pairing failed",r),new Error(r.message||"Pairing Cancelled")}}async printViaWebBluetooth(r,a){try{if(!r.gattServer||!r.gattServer.connected)if(r.gattServer&&r.gattServer.device&&r.gattServer.device.gatt)r.gattServer=await r.gattServer.device.gatt.connect();else throw new Error("Bluetooth Disconnected. Please pair again.");const o=await r.gattServer.getPrimaryServices();let u=null;for(const f of o){const v=await f.getCharacteristics();for(const p of v)if(p.properties.write||p.properties.writeWithoutResponse){u=p;break}if(u)break}if(!u)throw new Error("No writable characteristic found on this printer.");const y=new TextEncoder().encode(a),g=100;for(let f=0;f<y.length;f+=g){const v=y.slice(f,f+g);await u.writeValue(v)}return!0}catch(s){return console.error("Bluetooth print failed",s),!1}}async waitForSdk(r=3e3){if(this.isNative||typeof window<"u"&&window.BrowserPrint)return!0;console.log("Waiting for Zebra SDK to initialize...");const a=Date.now();return new Promise(s=>{const o=setInterval(()=>{window.BrowserPrint?(console.log("Zebra SDK detected!"),clearInterval(o),s(!0)):Date.now()-a>r&&(console.error("Zebra SDK wait timeout. BrowserPrint is undefined."),clearInterval(o),s(!1))},100)})}async getDefaultPrinter(){if(this.isNative)throw new Error("  .  ,     .");if(!await this.waitForSdk())throw new Error(" Zebra SDK  .  .");return new Promise((a,s)=>{try{window.BrowserPrint.getDefaultDevice("printer",o=>{o&&o.name?(console.log("Default Printer found:",o.name),a(o)):s(new Error("    "))},o=>{console.error("SDK getDefaultDevice Error:",o),s(new Error("Zebra Browser Print  ."))})}catch(o){console.error("SDK Exception:",o),s(new Error(o.message||"Unknown SDK Error"))}})}async getDevicesByType(r){return new Promise(a=>{try{window.BrowserPrint.getLocalDevices(s=>{a(s||[])},s=>{console.warn(`SDK getLocalDevices Error [${r}]:`,s),a([])},r)}catch(s){console.warn(`Exception calling getLocalDevices [${r}]:`,s),a([])}})}async getAllPrinters(){if(this.isNative)return console.log("Native Discovery: Scanning Bluetooth..."),new Promise(u=>{if(!window.bluetoothSerial){console.error("bluetoothSerial plugin missing!"),u([]);return}window.bluetoothSerial.list(d=>{const y=d.map(g=>({uid:g.address,name:g.name,connection:"bluetooth_classic",deviceType:"printer",manufacturer:"Zebra",provider:"NativeBluetooth",version:"1.0"}));u(y)},d=>{console.error("Native Bluetooth List Failed:",d),u([])})});if(!await this.waitForSdk())throw new Error(" Zebra SDK  .");console.log("Scanning for all printer types...");const a=["printer","usb","net","bt"],s=new Set,o=[];for(const u of a){const d=await this.getDevicesByType(u);for(const y of d)s.has(y.uid)||(s.add(y.uid),y.connection||(y.connection=u),o.push(y))}return o}async print(r,a){if(this.isNative)try{console.log("Printing Native to:",r.uid);const{CapacitorZebraPrinter:o}=await Pf(async()=>{const{CapacitorZebraPrinter:d}=await import("./index-r3ZSS53L.js");return{CapacitorZebraPrinter:d}},[]);if(r.connection==="bluetooth_classic")return new Promise(d=>{if(!window.bluetoothSerial){d(!1);return}window.bluetoothSerial.isConnected(()=>{window.bluetoothSerial.write(a,()=>d(!0),()=>d(!1))},()=>{window.bluetoothSerial.connect(r.uid,()=>window.bluetoothSerial.write(a,()=>d(!0),()=>d(!1)),()=>d(!1))})});if(r.connection==="net"||r.provider==="Manual")return console.log("Direct LAN Print to:",r.uid),await o.print({ip:r.uid,port:9100,zpl:a}),!0;const u=await o.print({value:a,zpl:a,address:r.uid,ip:r.uid,port:9100});return console.log("Native Print Result:",u),!0}catch(o){return console.error("Native Print Error:",o),!1}return r.connection==="bluetooth_direct"&&r.gattServer?this.printViaWebBluetooth(r,a):!await this.waitForSdk()||!r?!1:new Promise(o=>{try{let u=r;if((!r.send||typeof r.send!="function")&&window.BrowserPrint&&(u=new window.BrowserPrint.Device(r)),!u.send){console.error("Device object missing send method"),o(!1);return}u.send(a,d=>{console.log("Print sent successfully"),o(!0)},d=>{console.error("Print failed:",d),o(!1)})}catch(u){console.error("Print exception:",u),o(!1)}})}async convertImageToZPL(r,a){return new Promise((s,o)=>{const u=new Image;u.crossOrigin="Anonymous",u.onload=()=>{const d=document.createElement("canvas"),y=d.getContext("2d");if(!y){o(new Error("Canvas 2D context not supported"));return}d.width=a.width,d.height=a.height,y.drawImage(u,0,0,a.width,a.height);const f=y.getImageData(0,0,a.width,a.height).data;let v="";const p=a.threshold||128;for(let O=0;O<f.length;O+=4){const R=f[O],M=f[O+1],U=f[O+2],P=(R+M+U)/3;v+=P<p?"1":"0"}const m=Math.ceil(a.width/8);let b="",w=0;for(let O=0;O<a.height;O++)for(let R=0;R<m;R++){let M=0;for(let U=0;U<8;U++){const P=O*a.width+R*8+U;P<(O+1)*a.width&&v[P]==="1"&&(M|=1<<7-U)}b+=M.toString(16).padStart(2,"0").toUpperCase(),w++}const E=`^GFA,${w},${w},${m},${b}`;s(E)},u.onerror=d=>o(d),u.src=r})}toZplHex(r){if(!r)return"";const s=new TextEncoder().encode(r);let o="";for(let u=0;u<s.length;u++)o+="_"+s[u].toString(16).toUpperCase().padStart(2,"0");return o}generateZPL(r,a){let s=r,u=a.barcodePattern||"{date}-{sku}-{serialNumber}-{weight}";u=u.split("{date}").join(a.date),u=u.split("{sku}").join(a.sku),u=u.split("{serialNumber}").join(a.serialNumber),u=u.split("{weight}").join(a.weight),u=u.split("{productName}").join(a.productName);const d=this.toZplHex(a.date),y=this.toZplHex(a.productName),g=this.toZplHex(a.sku),f=this.toZplHex(a.weight),v=this.toZplHex(a.serialNumber),p=this.toZplHex(a.sortLabel||"Sort"),m=this.toZplHex(a.sortValue||""),b=this.toZplHex(u);return s=s.split("{date}").join(d),s=s.split("{productName}").join(y),s=s.split("{sku}").join(g),s=s.split("{weight}").join(f),s=s.split("{serialNumber}").join(v),s=s.split("{barcode}").join(b),s=s.split("{sortLabel}").join(p),s=s.split("{sortValue}").join(m),s=s.split("{quantity}").join(a.quantity?a.quantity.toString():"1"),s=s.split("{logo}").join(a.logoZpl||""),s}}const Br=new __;function w_(l){l.CapacitorUtils.Synapse=new Proxy({},{get(r,a){return new Proxy({},{get(s,o){return(u,d,y)=>{const g=l.Capacitor.Plugins[a];if(g===void 0){y(new Error(`Capacitor plugin ${a} not found`));return}if(typeof g[o]!="function"){y(new Error(`Method ${o} not found in Capacitor plugin ${a}`));return}(async()=>{try{const f=await g[o](u);d(f)}catch(f){y(f)}})()}}})}})}function S_(l){l.CapacitorUtils.Synapse=new Proxy({},{get(r,a){return l.cordova.plugins[a]}})}function E_(l=!1){typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},window.Capacitor!==void 0&&!l?w_(window):window.cordova!==void 0&&S_(window))}var wo;(function(l){l.Documents="DOCUMENTS",l.Data="DATA",l.Library="LIBRARY",l.Cache="CACHE",l.External="EXTERNAL",l.ExternalStorage="EXTERNAL_STORAGE",l.ExternalCache="EXTERNAL_CACHE",l.LibraryNoCloud="LIBRARY_NO_CLOUD",l.Temporary="TEMPORARY"})(wo||(wo={}));var So;(function(l){l.UTF8="utf8",l.ASCII="ascii",l.UTF16="utf16"})(So||(So={}));const Qm=Do("Filesystem",{web:()=>Pf(()=>import("./web-BZduhzQr.js"),[]).then(l=>new l.FilesystemWeb)});E_();const x_="zebra_db";let lf=null,Xe=null;const Zm={async init(){try{if(fn.getPlatform()==="web"){console.warn("SQLite is not available in web mode. Using fallback data.");return}if(!lf){const{CapacitorSQLite:r,SQLiteConnection:a}=await Pf(async()=>{const{CapacitorSQLite:s,SQLiteConnection:o}=await import("./index-B3ecp1FP.js");return{CapacitorSQLite:s,SQLiteConnection:o}},[]);lf=new a(r)}console.log("--- Initializing SQLite DB ---"),Xe=await lf.createConnection(x_,!1,"no-encryption",1,!1),await Xe.open(),console.log("--- DB Opened ---"),await Xe.execute(`
        CREATE TABLE IF NOT EXISTS users (
            id TEXT PRIMARY KEY,
            name TEXT NOT NULL,
            role TEXT NOT NULL,
            pin TEXT NOT NULL
        );
        
        CREATE TABLE IF NOT EXISTS products (
            id TEXT PRIMARY KEY,
            name TEXT NOT NULL,
            sku TEXT NOT NULL,
            category TEXT,
            sorts TEXT -- JSON stringified array
        );

        CREATE TABLE IF NOT EXISTS history (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            timestamp TEXT NOT NULL,
            product_name TEXT,
            sku TEXT,
            weight TEXT,
            serial_number INTEGER,
            sort_label TEXT,
            sort_value TEXT,
            synced INTEGER DEFAULT 0
        );
      `),console.log("--- Tables Verified ---"),await this.seedData()}catch(l){console.error("Database Initialization Error:",l)}},async seedData(){if(!Xe)return;const l=await Xe.query("SELECT count(*) as count FROM users");if(l.values&&l.values[0].count>0){console.log("--- Data already seeded ---");return}console.log("--- Seeding Initial Data ---");for(const r of $f)await Xe.run("INSERT INTO users (id, name, role, pin) VALUES (?, ?, ?, ?)",[r.id,r.name,r.role,r.pin]);for(const r of Hf)await Xe.run("INSERT INTO products (id, name, sku, category, sorts) VALUES (?, ?, ?, ?, ?)",[r.id,r.name,r.sku,r.category,JSON.stringify(r.sorts||[])]);console.log("--- Seeding Complete ---")},async getConnection(){return Xe||await this.init(),Xe},async getProducts(){var r;return Xe?((r=(await Xe.query("SELECT * FROM products")).values)==null?void 0:r.map(a=>({...a,sorts:JSON.parse(a.sorts||"[]")})))||[]:[]},async getUsers(){return Xe?(await Xe.query("SELECT * FROM users")).values||[]:[]},async addToHistory(l){if(!Xe)return;const r=l.timestamp||new Date().toISOString(),{product:a,weight:s,serialNumber:o,sortLabel:u,sortValue:d}=l;a&&await Xe.run(`INSERT INTO history (timestamp, product_name, sku, weight, serial_number, sort_label, sort_value) 
             VALUES (?, ?, ?, ?, ?, ?, ?)`,[r,a.name,a.sku,s,o,u,d])},async getHistory(){if(!Xe)return[];const l=await Xe.query("SELECT * FROM history ORDER BY id DESC");return l.values?l.values.map(r=>({date:r.timestamp,product:{name:r.product_name,sku:r.sku,id:"0"},weight:r.weight,serialNumber:r.serial_number,sortLabel:r.sort_label,sortValue:r.sort_value})):[]},async backupDatabase(){if(!Xe)throw new Error("Database not initialized");try{const r=`marijany_backup_${new Date().toISOString().replace(/[:.]/g,"-")}.json`,a=await Xe.query("SELECT * FROM users"),s=await Xe.query("SELECT * FROM products"),o=await Xe.query("SELECT * FROM history"),u={meta:{date:new Date().toISOString(),version:"1.0",appName:"Marijany Sticker Print"},tables:{users:a.values||[],products:s.values||[],history:o.values||[]}};return await Qm.writeFile({path:r,data:JSON.stringify(u,null,2),directory:wo.Documents,encoding:So.UTF8}),r}catch(l){throw console.error("Backup failed:",l),l}}};var Cn={},xl={},_f=function(l,r){return _f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])},_f(l,r)};function Jm(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");_f(l,r);function a(){this.constructor=l}l.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}var Eo=function(){return Eo=Object.assign||function(r){for(var a,s=1,o=arguments.length;s<o;s++){a=arguments[s];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(r[u]=a[u])}return r},Eo.apply(this,arguments)};function qa(l,r){var a={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&r.indexOf(s)<0&&(a[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(l);o<s.length;o++)r.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(l,s[o])&&(a[s[o]]=l[s[o]]);return a}function Wm(l,r,a,s){var o=arguments.length,u=o<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,a):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(l,r,a,s);else for(var y=l.length-1;y>=0;y--)(d=l[y])&&(u=(o<3?d(u):o>3?d(r,a,u):d(r,a))||u);return o>3&&u&&Object.defineProperty(r,a,u),u}function ey(l,r){return function(a,s){r(a,s,l)}}function ty(l,r,a,s,o,u){function d(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var y=s.kind,g=y==="getter"?"get":y==="setter"?"set":"value",f=!r&&l?s.static?l:l.prototype:null,v=r||(f?Object.getOwnPropertyDescriptor(f,s.name):{}),p,m=!1,b=a.length-1;b>=0;b--){var w={};for(var E in s)w[E]=E==="access"?{}:s[E];for(var E in s.access)w.access[E]=s.access[E];w.addInitializer=function(R){if(m)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(R||null))};var O=(0,a[b])(y==="accessor"?{get:v.get,set:v.set}:v[g],w);if(y==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(p=d(O.get))&&(v.get=p),(p=d(O.set))&&(v.set=p),(p=d(O.init))&&o.unshift(p)}else(p=d(O))&&(y==="field"?o.unshift(p):v[g]=p)}f&&Object.defineProperty(f,s.name,v),m=!0}function ny(l,r,a){for(var s=arguments.length>2,o=0;o<r.length;o++)a=s?r[o].call(l,a):r[o].call(l);return s?a:void 0}function ry(l){return typeof l=="symbol"?l:"".concat(l)}function ay(l,r,a){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:a?"".concat(a," ",r):r})}function iy(l,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,r)}function Y(l,r,a,s){function o(u){return u instanceof a?u:new a(function(d){d(u)})}return new(a||(a=Promise))(function(u,d){function y(v){try{f(s.next(v))}catch(p){d(p)}}function g(v){try{f(s.throw(v))}catch(p){d(p)}}function f(v){v.done?u(v.value):o(v.value).then(y,g)}f((s=s.apply(l,r||[])).next())})}function sy(l,r){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=y(0),d.throw=y(1),d.return=y(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function y(f){return function(v){return g([f,v])}}function g(f){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,f[0]&&(a=0)),a;)try{if(s=1,o&&(u=f[0]&2?o.return:f[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,f[1])).done)return u;switch(o=0,u&&(f=[f[0]&2,u.value]),f[0]){case 0:case 1:u=f;break;case 4:return a.label++,{value:f[1],done:!1};case 5:a.label++,o=f[1],f=[0];continue;case 7:f=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(f[0]===6||f[0]===2)){a=0;continue}if(f[0]===3&&(!u||f[1]>u[0]&&f[1]<u[3])){a.label=f[1];break}if(f[0]===6&&a.label<u[1]){a.label=u[1],u=f;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(f);break}u[2]&&a.ops.pop(),a.trys.pop();continue}f=r.call(l,a)}catch(v){f=[6,v],o=0}finally{s=u=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var Mo=Object.create?(function(l,r,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(r,a);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(l,s,o)}):(function(l,r,a,s){s===void 0&&(s=a),l[s]=r[a]});function ly(l,r){for(var a in l)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&Mo(r,l,a)}function xo(l){var r=typeof Symbol=="function"&&Symbol.iterator,a=r&&l[r],s=0;if(a)return a.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gf(l,r){var a=typeof Symbol=="function"&&l[Symbol.iterator];if(!a)return l;var s=a.call(l),o,u=[],d;try{for(;(r===void 0||r-- >0)&&!(o=s.next()).done;)u.push(o.value)}catch(y){d={error:y}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(d)throw d.error}}return u}function oy(){for(var l=[],r=0;r<arguments.length;r++)l=l.concat(Gf(arguments[r]));return l}function uy(){for(var l=0,r=0,a=arguments.length;r<a;r++)l+=arguments[r].length;for(var s=Array(l),o=0,r=0;r<a;r++)for(var u=arguments[r],d=0,y=u.length;d<y;d++,o++)s[o]=u[d];return s}function cy(l,r,a){if(a||arguments.length===2)for(var s=0,o=r.length,u;s<o;s++)(u||!(s in r))&&(u||(u=Array.prototype.slice.call(r,0,s)),u[s]=r[s]);return l.concat(u||Array.prototype.slice.call(r))}function Ba(l){return this instanceof Ba?(this.v=l,this):new Ba(l)}function fy(l,r,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(l,r||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",d),o[Symbol.asyncIterator]=function(){return this},o;function d(b){return function(w){return Promise.resolve(w).then(b,p)}}function y(b,w){s[b]&&(o[b]=function(E){return new Promise(function(O,R){u.push([b,E,O,R])>1||g(b,E)})},w&&(o[b]=w(o[b])))}function g(b,w){try{f(s[b](w))}catch(E){m(u[0][3],E)}}function f(b){b.value instanceof Ba?Promise.resolve(b.value.v).then(v,p):m(u[0][2],b)}function v(b){g("next",b)}function p(b){g("throw",b)}function m(b,w){b(w),u.shift(),u.length&&g(u[0][0],u[0][1])}}function dy(l){var r,a;return r={},s("next"),s("throw",function(o){throw o}),s("return"),r[Symbol.iterator]=function(){return this},r;function s(o,u){r[o]=l[o]?function(d){return(a=!a)?{value:Ba(l[o](d)),done:!1}:u?u(d):d}:u}}function hy(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=l[Symbol.asyncIterator],a;return r?r.call(l):(l=typeof xo=="function"?xo(l):l[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(u){a[u]=l[u]&&function(d){return new Promise(function(y,g){d=l[u](d),o(y,g,d.done,d.value)})}}function o(u,d,y,g){Promise.resolve(g).then(function(f){u({value:f,done:y})},d)}}function vy(l,r){return Object.defineProperty?Object.defineProperty(l,"raw",{value:r}):l.raw=r,l}var O_=Object.create?(function(l,r){Object.defineProperty(l,"default",{enumerable:!0,value:r})}):function(l,r){l.default=r},wf=function(l){return wf=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},wf(l)};function gy(l){if(l&&l.__esModule)return l;var r={};if(l!=null)for(var a=wf(l),s=0;s<a.length;s++)a[s]!=="default"&&Mo(r,l,a[s]);return O_(r,l),r}function my(l){return l&&l.__esModule?l:{default:l}}function yy(l,r,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?l!==r||!s:!r.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(l):s?s.value:r.get(l)}function py(l,r,a,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?l!==r||!o:!r.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(l,a):o?o.value=a:r.set(l,a),a}function by(l,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?r===l:l.has(r)}function _y(l,r,a){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var s,o;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=r[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=r[Symbol.dispose],a&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(u){return Promise.reject(u)}}),l.stack.push({value:r,dispose:s,async:a})}else a&&l.stack.push({async:!0});return r}var T_=typeof SuppressedError=="function"?SuppressedError:function(l,r,a){var s=new Error(a);return s.name="SuppressedError",s.error=l,s.suppressed=r,s};function wy(l){function r(u){l.error=l.hasError?new T_(u,l.error,"An error was suppressed during disposal."):u,l.hasError=!0}var a,s=0;function o(){for(;a=l.stack.pop();)try{if(!a.async&&s===1)return s=0,l.stack.push(a),Promise.resolve().then(o);if(a.dispose){var u=a.dispose.call(a.value);if(a.async)return s|=2,Promise.resolve(u).then(o,function(d){return r(d),o()})}else s|=1}catch(d){r(d)}if(s===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return o()}function Sy(l,r){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,s,o,u,d){return s?r?".jsx":".js":o&&(!u||!d)?a:o+u+"."+d.toLowerCase()+"js"}):l}const A_={__extends:Jm,__assign:Eo,__rest:qa,__decorate:Wm,__param:ey,__esDecorate:ty,__runInitializers:ny,__propKey:ry,__setFunctionName:ay,__metadata:iy,__awaiter:Y,__generator:sy,__createBinding:Mo,__exportStar:ly,__values:xo,__read:Gf,__spread:oy,__spreadArrays:uy,__spreadArray:cy,__await:Ba,__asyncGenerator:fy,__asyncDelegator:dy,__asyncValues:hy,__makeTemplateObject:vy,__importStar:gy,__importDefault:my,__classPrivateFieldGet:yy,__classPrivateFieldSet:py,__classPrivateFieldIn:by,__addDisposableResource:_y,__disposeResources:wy,__rewriteRelativeImportExtension:Sy},j_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:_y,get __assign(){return Eo},__asyncDelegator:dy,__asyncGenerator:fy,__asyncValues:hy,__await:Ba,__awaiter:Y,__classPrivateFieldGet:yy,__classPrivateFieldIn:by,__classPrivateFieldSet:py,__createBinding:Mo,__decorate:Wm,__disposeResources:wy,__esDecorate:ty,__exportStar:ly,__extends:Jm,__generator:sy,__importDefault:my,__importStar:gy,__makeTemplateObject:vy,__metadata:iy,__param:ey,__propKey:ry,__read:Gf,__rest:qa,__rewriteRelativeImportExtension:Sy,__runInitializers:ny,__setFunctionName:ay,__spread:oy,__spreadArray:cy,__spreadArrays:uy,__values:xo,default:A_},Symbol.toStringTag,{value:"Module"})),R_=l=>l?(...r)=>l(...r):(...r)=>fetch(...r);let Uo=class extends Error{constructor(r,a="FunctionsError",s){super(r),this.name=a,this.context=s}},Ey=class extends Uo{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}},Sf=class extends Uo{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}},Ef=class extends Uo{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}};var Oo;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Oo||(Oo={}));class N_{constructor(r,{headers:a={},customFetch:s,region:o=Oo.Any}={}){this.url=r,this.headers=a,this.region=o,this.fetch=R_(s)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Y(this,arguments,void 0,function*(a,s={}){var o;let u,d;try{const{headers:y,method:g,body:f,signal:v,timeout:p}=s;let m={},{region:b}=s;b||(b=this.region);const w=new URL(`${this.url}/${a}`);b&&b!=="any"&&(m["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let E;f&&(y&&!Object.prototype.hasOwnProperty.call(y,"Content-Type")||!y)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(m["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(m["Content-Type"]="application/json",E=JSON.stringify(f)):E=f;let O=v;p&&(d=new AbortController,u=setTimeout(()=>d.abort(),p),v?(O=d.signal,v.addEventListener("abort",()=>d.abort())):O=d.signal);const R=yield this.fetch(w.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),y),body:E,signal:O}).catch(ee=>{throw new Ey(ee)}),M=R.headers.get("x-relay-error");if(M&&M==="true")throw new Sf(R);if(!R.ok)throw new Ef(R);let U=((o=R.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),P;return U==="application/json"?P=yield R.json():U==="application/octet-stream"||U==="application/pdf"?P=yield R.blob():U==="text/event-stream"?P=R:U==="multipart/form-data"?P=yield R.formData():P=yield R.text(),{data:P,error:null,response:R}}catch(y){return{data:null,error:y,response:y instanceof Ef||y instanceof Sf?y.context:void 0}}finally{u&&clearTimeout(u)}})}}const C_=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Oo},FunctionsClient:N_,FunctionsError:Uo,FunctionsFetchError:Ey,FunctionsHttpError:Ef,FunctionsRelayError:Sf},Symbol.toStringTag,{value:"Module"})),xy=Ji(C_);var dt={};const Ha=Ji(j_);var Ol={},Tl={},Al={},jl={},Rl={},Nl={},vg;function Oy(){if(vg)return Nl;vg=1,Object.defineProperty(Nl,"__esModule",{value:!0});class l extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return Nl.default=l,Nl}var gg;function Ty(){if(gg)return Rl;gg=1,Object.defineProperty(Rl,"__esModule",{value:!0});const r=Ha.__importDefault(Oy());let a=class{constructor(o){var u,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let y=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var f,v,p,m;let b=null,w=null,E=null,O=g.status,R=g.statusText;if(g.ok){if(this.method!=="HEAD"){const ee=await g.text();ee===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?w=ee:w=JSON.parse(ee))}const U=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),P=(p=g.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");U&&P&&P.length>1&&(E=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(b={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,E=null,O=406,R="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const U=await g.text();try{b=JSON.parse(U),Array.isArray(b)&&g.status===404&&(w=[],b=null,O=200,R="OK")}catch{g.status===404&&U===""?(O=204,R="No Content"):b={message:U}}if(b&&this.isMaybeSingle&&(!((m=b==null?void 0:b.details)===null||m===void 0)&&m.includes("0 rows"))&&(b=null,O=200,R="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:w,count:E,status:O,statusText:R}});return this.shouldThrowOnError||(y=y.catch(g=>{var f,v,p,m,b,w;let E="";const O=g==null?void 0:g.cause;if(O){const R=(f=O==null?void 0:O.message)!==null&&f!==void 0?f:"",M=(v=O==null?void 0:O.code)!==null&&v!==void 0?v:"";E=`${(p=g==null?void 0:g.name)!==null&&p!==void 0?p:"FetchError"}: ${g==null?void 0:g.message}`,E+=`

Caused by: ${(m=O==null?void 0:O.name)!==null&&m!==void 0?m:"Error"}: ${R}`,M&&(E+=` (${M})`),O!=null&&O.stack&&(E+=`
${O.stack}`)}else E=(b=g==null?void 0:g.stack)!==null&&b!==void 0?b:"";return{error:{message:`${(w=g==null?void 0:g.name)!==null&&w!==void 0?w:"FetchError"}: ${g==null?void 0:g.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),y.then(o,u)}returns(){return this}overrideTypes(){return this}};return Rl.default=a,Rl}var mg;function Ay(){if(mg)return jl;mg=1,Object.defineProperty(jl,"__esModule",{value:!0});const r=Ha.__importDefault(Ty());let a=class extends r.default{select(o){let u=!1;const d=(o??"*").split("").map(y=>/\s/.test(y)&&!u?"":(y==='"'&&(u=!u),y)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:d,foreignTable:y,referencedTable:g=y}={}){const f=g?`${g}.order`:"order",v=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${v?`${v},`:""}${o}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:d=u}={}){const y=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(y,`${o}`),this}range(o,u,{foreignTable:d,referencedTable:y=d}={}){const g=typeof y>"u"?"offset":`${y}.offset`,f=typeof y>"u"?"limit":`${y}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(f,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:d=!1,buffers:y=!1,wal:g=!1,format:f="text"}={}){var v;const p=[o?"analyze":null,u?"verbose":null,d?"settings":null,y?"buffers":null,g?"wal":null].filter(Boolean).join("|"),m=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${m}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}};return jl.default=a,jl}var yg;function Vf(){if(yg)return Al;yg=1,Object.defineProperty(Al,"__esModule",{value:!0});const r=Ha.__importDefault(Ay()),a=new RegExp("[,()]");let s=class extends r.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const y=Array.from(new Set(d)).map(g=>typeof g=="string"&&a.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(u,`in.(${y})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:y,type:g}={}){let f="";g==="plain"?f="pl":g==="phrase"?f="ph":g==="websearch"&&(f="w");const v=y===void 0?"":`(${y})`;return this.url.searchParams.append(u,`${f}fts${v}.${d}`),this}match(u){return Object.entries(u).forEach(([d,y])=>{this.url.searchParams.append(d,`eq.${y}`)}),this}not(u,d,y){return this.url.searchParams.append(u,`not.${d}.${y}`),this}or(u,{foreignTable:d,referencedTable:y=d}={}){const g=y?`${y}.or`:"or";return this.url.searchParams.append(g,`(${u})`),this}filter(u,d,y){return this.url.searchParams.append(u,`${d}.${y}`),this}};return Al.default=s,Al}var pg;function jy(){if(pg)return Tl;pg=1,Object.defineProperty(Tl,"__esModule",{value:!0});const r=Ha.__importDefault(Vf());let a=class{constructor(o,{headers:u={},schema:d,fetch:y}){this.url=o,this.headers=new Headers(u),this.schema=d,this.fetch=y}select(o,u){const{head:d=!1,count:y}=u??{},g=d?"HEAD":"GET";let f=!1;const v=(o??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",v),y&&this.headers.append("Prefer",`count=${y}`),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:d=!0}={}){var y;const g="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const f=o.reduce((v,p)=>v.concat(Object.keys(p)),[]);if(f.length>0){const v=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:d=!1,count:y,defaultToNull:g=!0}={}){var f;const v="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),y&&this.headers.append("Prefer",`count=${y}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((m,b)=>m.concat(Object.keys(b)),[]);if(p.length>0){const m=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",m.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(o,{count:u}={}){var d;const y="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:o}={}){var u;const d="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return Tl.default=a,Tl}var bg;function k_(){if(bg)return Ol;bg=1,Object.defineProperty(Ol,"__esModule",{value:!0});const l=Ha,r=l.__importDefault(jy()),a=l.__importDefault(Vf());let s=class Ry{constructor(u,{headers:d={},schema:y,fetch:g}={}){this.url=u,this.headers=new Headers(d),this.schemaName=y,this.fetch=g}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new r.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new Ry(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:y=!1,get:g=!1,count:f}={}){var v;let p;const m=new URL(`${this.url}/rpc/${u}`);let b;y||g?(p=y?"HEAD":"GET",Object.entries(d).filter(([E,O])=>O!==void 0).map(([E,O])=>[E,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([E,O])=>{m.searchParams.append(E,O)})):(p="POST",b=d);const w=new Headers(this.headers);return f&&w.set("Prefer",`count=${f}`),new a.default({method:p,url:m,headers:w,schema:this.schemaName,body:b,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return Ol.default=s,Ol}var _g;function Ny(){if(_g)return dt;_g=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.PostgrestError=dt.PostgrestBuilder=dt.PostgrestTransformBuilder=dt.PostgrestFilterBuilder=dt.PostgrestQueryBuilder=dt.PostgrestClient=void 0;const l=Ha,r=l.__importDefault(k_());dt.PostgrestClient=r.default;const a=l.__importDefault(jy());dt.PostgrestQueryBuilder=a.default;const s=l.__importDefault(Vf());dt.PostgrestFilterBuilder=s.default;const o=l.__importDefault(Ay());dt.PostgrestTransformBuilder=o.default;const u=l.__importDefault(Ty());dt.PostgrestBuilder=u.default;const d=l.__importDefault(Oy());return dt.PostgrestError=d.default,dt.default={PostgrestClient:r.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:d.default},dt}class Cy{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const s=a.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let a=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(a+=`

Suggested solution: ${r.workaround}`),new Error(a)}static createWebSocket(r,a){const s=this.getWebSocketConstructor();return new s(r,a)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const D_="2.87.1",M_=`realtime-js/${D_}`,ky="1.0.0",U_="2.0.0",wg=ky,xf=1e4,L_=1e3,B_=100;var Ur;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Ur||(Ur={}));var Je;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Je||(Je={}));var rn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(rn||(rn={}));var Of;(function(l){l.websocket="websocket"})(Of||(Of={}));var Lr;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Lr||(Lr={}));class z_{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,a){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(r));let s=[r.join_ref,r.ref,r.topic,r.event,r.payload];return a(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(r){var a;return this._isArrayBuffer((a=r.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var a,s;const o=(s=(a=r.payload)===null||a===void 0?void 0:a.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(r){var a,s;const o=(s=(a=r.payload)===null||a===void 0?void 0:a.payload)!==null&&s!==void 0?s:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(r,a,s){var o,u;const d=r.topic,y=(o=r.ref)!==null&&o!==void 0?o:"",g=(u=r.join_ref)!==null&&u!==void 0?u:"",f=r.payload.event,v=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},p=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`ref length ${y.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+y.length+d.length+f.length+p.length,b=new ArrayBuffer(this.HEADER_LENGTH+m);let w=new DataView(b),E=0;w.setUint8(E++,this.KINDS.userBroadcastPush),w.setUint8(E++,g.length),w.setUint8(E++,y.length),w.setUint8(E++,d.length),w.setUint8(E++,f.length),w.setUint8(E++,p.length),w.setUint8(E++,a),Array.from(g,R=>w.setUint8(E++,R.charCodeAt(0))),Array.from(y,R=>w.setUint8(E++,R.charCodeAt(0))),Array.from(d,R=>w.setUint8(E++,R.charCodeAt(0))),Array.from(f,R=>w.setUint8(E++,R.charCodeAt(0))),Array.from(p,R=>w.setUint8(E++,R.charCodeAt(0)));var O=new Uint8Array(b.byteLength+s.byteLength);return O.set(new Uint8Array(b),0),O.set(new Uint8Array(s),b.byteLength),O.buffer}decode(r,a){if(this._isArrayBuffer(r)){let s=this._binaryDecode(r);return a(s)}if(typeof r=="string"){const s=JSON.parse(r),[o,u,d,y,g]=s;return a({join_ref:o,ref:u,topic:d,event:y,payload:g})}return a({})}_binaryDecode(r){const a=new DataView(r),s=a.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,a,o)}}_decodeUserBroadcast(r,a,s){const o=a.getUint8(1),u=a.getUint8(2),d=a.getUint8(3),y=a.getUint8(4);let g=this.HEADER_LENGTH+4;const f=s.decode(r.slice(g,g+o));g=g+o;const v=s.decode(r.slice(g,g+u));g=g+u;const p=s.decode(r.slice(g,g+d));g=g+d;const m=r.slice(g,r.byteLength),b=y===this.JSON_ENCODING?JSON.parse(s.decode(m)):m,w={type:this.BROADCAST_EVENT,event:v,payload:b};return d>0&&(w.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(r){var a;return r instanceof ArrayBuffer||((a=r==null?void 0:r.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(r,a){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([s])=>a.includes(s)))}}class Dy{constructor(r,a){this.callback=r,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Le||(Le={}));const Sg=(l,r,a={})=>{var s;const o=(s=a.skipTypes)!==null&&s!==void 0?s:[];return r?Object.keys(r).reduce((u,d)=>(u[d]=q_(d,l,r,o),u),{}):{}},q_=(l,r,a,s)=>{const o=r.find(y=>y.name===l),u=o==null?void 0:o.type,d=a[l];return u&&!s.includes(u)?My(u,d):Tf(d)},My=(l,r)=>{if(l.charAt(0)==="_"){const a=l.slice(1,l.length);return I_(r,a)}switch(l){case Le.bool:return H_(r);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return $_(r);case Le.json:case Le.jsonb:return P_(r);case Le.timestamp:return G_(r);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Tf(r);default:return Tf(r)}},Tf=l=>l,H_=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},$_=l=>{if(typeof l=="string"){const r=parseFloat(l);if(!Number.isNaN(r))return r}return l},P_=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(r){return console.log(`JSON parse error: ${r}`),l}return l},I_=(l,r)=>{if(typeof l!="string")return l;const a=l.length-1,s=l[a];if(l[0]==="{"&&s==="}"){let u;const d=l.slice(1,a);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(y=>My(r,y))}return l},G_=l=>typeof l=="string"?l.replace(" ","T"):l,Uy=l=>{const r=new URL(l);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class of{constructor(r,a,s={},o=xf){this.channel=r,this.event=a,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,a){var s;return this._hasReceived(r)&&a((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:r,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:a}){this.recHooks.filter(s=>s.status===r).forEach(s=>s.callback(a))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Af;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Af||(Af={}));let Ly=class mo{constructor(r,a){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:u,onLeave:d,onSync:y}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mo.syncState(this.state,o,u,d),this.pendingDiffs.forEach(g=>{this.state=mo.syncDiff(this.state,g,u,d)}),this.pendingDiffs=[],y()}),this.channel._on(s.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:y}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=mo.syncDiff(this.state,o,u,d),y())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,a,s,o){const u=this.cloneDeep(r),d=this.transformState(a),y={},g={};return this.map(u,(f,v)=>{d[f]||(g[f]=v)}),this.map(d,(f,v)=>{const p=u[f];if(p){const m=v.map(O=>O.presence_ref),b=p.map(O=>O.presence_ref),w=v.filter(O=>b.indexOf(O.presence_ref)<0),E=p.filter(O=>m.indexOf(O.presence_ref)<0);w.length>0&&(y[f]=w),E.length>0&&(g[f]=E)}else y[f]=v}),this.syncDiff(u,{joins:y,leaves:g},s,o)}static syncDiff(r,a,s,o){const{joins:u,leaves:d}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(u,(y,g)=>{var f;const v=(f=r[y])!==null&&f!==void 0?f:[];if(r[y]=this.cloneDeep(g),v.length>0){const p=r[y].map(b=>b.presence_ref),m=v.filter(b=>p.indexOf(b.presence_ref)<0);r[y].unshift(...m)}s(y,v,g)}),this.map(d,(y,g)=>{let f=r[y];if(!f)return;const v=g.map(p=>p.presence_ref);f=f.filter(p=>v.indexOf(p.presence_ref)<0),r[y]=f,o(y,f,g),f.length===0&&delete r[y]}),r}static map(r,a){return Object.getOwnPropertyNames(r).map(s=>a(s,r[s]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((a,s)=>{const o=r[s];return"metas"in o?a[s]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[s]=o,a},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var jf;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(jf||(jf={}));var Ma;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Ma||(Ma={}));var cn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(cn||(cn={}));const V_=Je;let By=class Ki{constructor(r,a={config:{}},s){var o,u;if(this.topic=r,this.params=a,this.socket=s,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new of(this,rn.join,this.params,this.timeout),this.rejoinTimer=new Dy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rn.reply,{},(d,y)=>{this._trigger(this._replyEventName(y),d)}),this.presence=new Ly(this),this.broadcastEndpointURL=Uy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,a=this.timeout){var s,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:d,presence:y,private:g}}=this.params,f=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(b=>b.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Ma.PRESENCE]&&this.bindings[Ma.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,p={},m={broadcast:d,presence:Object.assign(Object.assign({},y),{enabled:v}),postgres_changes:f,private:g};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(b=>r==null?void 0:r(cn.CHANNEL_ERROR,b)),this._onClose(()=>r==null?void 0:r(cn.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:b})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){r==null||r(cn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(w=E==null?void 0:E.length)!==null&&w!==void 0?w:0,R=[];for(let M=0;M<O;M++){const U=E[M],{filter:{event:P,schema:ee,table:Z,filter:V}}=U,ie=b&&b[M];if(ie&&ie.event===P&&Ki.isFilterValueEqual(ie.schema,ee)&&Ki.isFilterValueEqual(ie.table,Z)&&Ki.isFilterValueEqual(ie.filter,V))R.push(Object.assign(Object.assign({},U),{id:ie.id}));else{this.unsubscribe(),this.state=Je.errored,r==null||r(cn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,r&&r(cn.SUBSCRIBED);return}}).receive("error",b=>{this.state=Je.errored,r==null||r(cn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(cn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,a={}){return await this.send({type:"presence",event:"track",payload:r},a.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,a,s){return this.state===Je.joined&&r===Ma.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,a,s)}async httpSend(r,a,s={}){var o;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(a==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:a,private:this.private}]})},y=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(y.status===202)return{success:!0};let g=y.statusText;try{const f=await y.json();g=f.error||f.message||g}catch{}return Promise.reject(new Error(g))}async send(r,a={}){var s,o;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,y,g;const f=this._push(r.type,r,a.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(y=(d=this.params)===null||d===void 0?void 0:d.config)===null||y===void 0?void 0:y.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),f.receive("ok",()=>u("ok")),f.receive("error",()=>u("error")),f.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Je.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new of(this,rn.leave,{},r),s.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(r,a,s){const o=new AbortController,u=setTimeout(()=>o.abort(),s),d=await this.socket.fetch(r,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(u),d}_push(r,a,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new of(this,r,a,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>B_){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(r,a,s){return a}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,a,s){var o,u;const d=r.toLocaleLowerCase(),{close:y,error:g,leave:f,join:v}=rn;if(s&&[y,g,f,v].indexOf(d)>=0&&s!==this._joinRef())return;let m=this._onMessage(d,a,s);if(a&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var w,E,O;return((w=b.filter)===null||w===void 0?void 0:w.event)==="*"||((O=(E=b.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===d}).map(b=>b.callback(m,s)):(u=this.bindings[d])===null||u===void 0||u.filter(b=>{var w,E,O,R,M,U;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in b){const P=b.id,ee=(w=b.filter)===null||w===void 0?void 0:w.event;return P&&((E=a.ids)===null||E===void 0?void 0:E.includes(P))&&(ee==="*"||(ee==null?void 0:ee.toLocaleLowerCase())===((O=a.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const P=(M=(R=b==null?void 0:b.filter)===null||R===void 0?void 0:R.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return P==="*"||P===((U=a==null?void 0:a.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===d}).map(b=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:E,table:O,commit_timestamp:R,type:M,errors:U}=w;m=Object.assign(Object.assign({},{schema:E,table:O,commit_timestamp:R,eventType:M,new:{},old:{},errors:U}),this._getPayloadRecords(w))}b.callback(m,s)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,a,s){const o=r.toLocaleLowerCase(),u={type:o,filter:a,callback:s};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(r,a){const s=r.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&Ki.isEqual(o.filter,a))})),this}static isEqual(r,a){if(Object.keys(r).length!==Object.keys(a).length)return!1;for(const s in r)if(r[s]!==a[s])return!1;return!0}static isFilterValueEqual(r,a){return(r??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(rn.close,{},r)}_onError(r){this._on(rn.error,{},a=>r(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const a={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(a.new=Sg(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(a.old=Sg(r.columns,r.old_record)),a}};const uf=()=>{},Cl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},K_=[1e3,2e3,5e3,1e4],X_=1e4,Y_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let F_=class{constructor(r,a){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xf,this.transport=null,this.heartbeatIntervalMs=Cl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uf,this.ref=0,this.reconnectTimer=null,this.vsn=wg,this.logger=uf,this.conn=null,this.sendBuffer=[],this.serializer=new z_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((s=a==null?void 0:a.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${r}/${Of.websocket}`,this.httpEndpoint=Uy(r),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cy.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const a=r.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const a=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const r=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,a,s){this.logger(r,a,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Ur.connecting:return Lr.Connecting;case Ur.open:return Lr.Open;case Ur.closing:return Lr.Closing;default:return Lr.Closed}}isConnected(){return this.connectionState()===Lr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,a={config:{}}){const s=`realtime:${r}`,o=this.getChannels().find(u=>u.topic===s);if(o)return o;{const u=new By(`realtime:${r}`,a,this);return this.channels.push(u),u}}push(r){const{topic:a,event:s,payload:o,ref:u}=r,d=()=>{this.encode(r,y=>{var g;(g=this.conn)===null||g===void 0||g.send(y)})};this.log("push",`${a} ${s} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(L_,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Cl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let a=this.channels.find(s=>s.topic===r&&(s._isJoined()||s._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${r}"`),a.unsubscribe())}_remove(r){this.channels=this.channels.filter(a=>a.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:u,ref:d}=a,y=d?`(${d})`:"",g=u.status||"";this.log("receive",`${g} ${s} ${o} ${y}`.trim(),u),this.channels.filter(f=>f._isMember(s)).forEach(f=>f._trigger(o,u,d)),this._triggerStateCallbacks("message",a)})}_clearTimer(r){var a;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ur.open||this.conn.readyState===Ur.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var a;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(rn.error))}_appendParams(r,a){if(Object.keys(a).length===0)return r;const s=r.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${r}${s}${o}`}_workerObjectUrl(r){let a;if(r)a=r;else{const s=new Blob([Y_],{type:"application/javascript"});a=URL.createObjectURL(s)}return a}_setConnectionState(r,a=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(r=null){let a,s=!1;if(r)a=r,s=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),a=this.accessTokenValue}else a=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(o=>{const u={access_token:a,version:M_};a&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(rn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${r}`,a)})}_triggerStateCallbacks(r,a){try{this.stateChangeCallbacks[r].forEach(s=>{try{s(a)}catch(o){this.log("error",`error in ${r} callback`,o)}})}catch(s){this.log("error",`error triggering ${r} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Dy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var a,s,o,u,d,y,g,f,v,p,m,b;switch(this.transport=(a=r==null?void 0:r.transport)!==null&&a!==void 0?a:null,this.timeout=(s=r==null?void 0:r.timeout)!==null&&s!==void 0?s:xf,this.heartbeatIntervalMs=(o=r==null?void 0:r.heartbeatIntervalMs)!==null&&o!==void 0?o:Cl.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=r==null?void 0:r.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(y=r==null?void 0:r.heartbeatCallback)!==null&&y!==void 0?y:uf,this.vsn=(g=r==null?void 0:r.vsn)!==null&&g!==void 0?g:wg,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=r==null?void 0:r.reconnectAfterMs)!==null&&f!==void 0?f:(w=>K_[w-1]||X_),this.vsn){case ky:this.encode=(v=r==null?void 0:r.encode)!==null&&v!==void 0?v:((w,E)=>E(JSON.stringify(w))),this.decode=(p=r==null?void 0:r.decode)!==null&&p!==void 0?p:((w,E)=>E(JSON.parse(w)));break;case U_:this.encode=(m=r==null?void 0:r.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(b=r==null?void 0:r.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}};const Q_=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:V_,get REALTIME_LISTEN_TYPES(){return Ma},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return jf},get REALTIME_PRESENCE_LISTEN_EVENTS(){return Af},get REALTIME_SUBSCRIBE_STATES(){return cn},RealtimeChannel:By,RealtimeClient:F_,RealtimePresence:Ly,WebSocketFactory:Cy},Symbol.toStringTag,{value:"Module"})),zy=Ji(Q_);class Wi extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function He(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class qy extends Wi{constructor(r,a,s){super(r),this.name="StorageApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class To extends Wi{constructor(r,a){super(r),this.name="StorageUnknownError",this.originalError=a}}const Kf=l=>l?(...r)=>l(...r):(...r)=>fetch(...r),Z_=()=>Response,Rf=l=>{if(Array.isArray(l))return l.map(a=>Rf(a));if(typeof l=="function"||l!==Object(l))return l;const r={};return Object.entries(l).forEach(([a,s])=>{const o=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[o]=Rf(s)}),r},J_=l=>{if(typeof l!="object"||l===null)return!1;const r=Object.getPrototypeOf(l);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},W_=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l),cf=l=>{var r;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(r=l.error)===null||r===void 0?void 0:r.message)||JSON.stringify(l)},ew=(l,r,a)=>Y(void 0,void 0,void 0,function*(){const s=yield Z_();l instanceof s&&!(a!=null&&a.noResolveJson)?l.json().then(o=>{const u=l.status||500,d=(o==null?void 0:o.statusCode)||u+"";r(new qy(cf(o),u,d))}).catch(o=>{r(new To(cf(o),o))}):r(new To(cf(l),l))}),tw=(l,r,a,s)=>{const o={method:l,headers:(r==null?void 0:r.headers)||{}};return l==="GET"||!s?o:(J_(s)?(o.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),o.body=JSON.stringify(s)):o.body=s,r!=null&&r.duplex&&(o.duplex=r.duplex),Object.assign(Object.assign({},o),a))};function es(l,r,a,s,o,u){return Y(this,void 0,void 0,function*(){return new Promise((d,y)=>{l(a,tw(r,s,o,u)).then(g=>{if(!g.ok)throw g;return s!=null&&s.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>ew(g,y,s))})})}function Fi(l,r,a,s){return Y(this,void 0,void 0,function*(){return es(l,"GET",r,a,s)})}function nn(l,r,a,s,o){return Y(this,void 0,void 0,function*(){return es(l,"POST",r,s,o,a)})}function Nf(l,r,a,s,o){return Y(this,void 0,void 0,function*(){return es(l,"PUT",r,s,o,a)})}function nw(l,r,a,s){return Y(this,void 0,void 0,function*(){return es(l,"HEAD",r,Object.assign(Object.assign({},a),{noResolveJson:!0}),s)})}function Xf(l,r,a,s,o){return Y(this,void 0,void 0,function*(){return es(l,"DELETE",r,s,o,a)})}class rw{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a}then(r,a){return this.execute().then(r,a)}execute(){return Y(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}}var Hy;class aw{constructor(r,a){this.downloadFn=r,this.shouldThrowOnError=a,this[Hy]="BlobDownloadBuilder",this.promise=null}asStream(){return new rw(this.downloadFn,this.shouldThrowOnError)}then(r,a){return this.getPromise().then(r,a)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Y(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}}Hy=Symbol.toStringTag;const iw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sw{constructor(r,a={},s,o){this.shouldThrowOnError=!1,this.url=r,this.headers=a,this.bucketId=s,this.fetch=Kf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,a,s,o){return Y(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},Eg),o);let y=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),g&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(g))):(u=s,y["cache-control"]=`max-age=${d.cacheControl}`,y["content-type"]=d.contentType,g&&(y["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),o!=null&&o.headers&&(y=Object.assign(Object.assign({},y),o.headers));const f=this._removeEmptyFolders(a),v=this._getFinalPath(f),p=yield(r=="PUT"?Nf:nn)(this.fetch,`${this.url}/object/${v}`,u,Object.assign({headers:y},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(He(u))return{data:null,error:u};throw u}})}upload(r,a,s){return Y(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,a,s)})}uploadToSignedUrl(r,a,s,o){return Y(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),y=new URL(this.url+`/object/upload/sign/${d}`);y.searchParams.set("token",a);try{let g;const f=Object.assign({upsert:Eg.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",f.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",f.cacheControl)):(g=s,v["cache-control"]=`max-age=${f.cacheControl}`,v["content-type"]=f.contentType);const p=yield Nf(this.fetch,y.toString(),g,{headers:v});return{data:{path:u,fullPath:p.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(He(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,a){return Y(this,void 0,void 0,function*(){try{let s=this._getFinalPath(r);const o=Object.assign({},this.headers);a!=null&&a.upsert&&(o["x-upsert"]="true");const u=yield nn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),d=new URL(this.url+u.url),y=d.searchParams.get("token");if(!y)throw new Wi("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:y},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}update(r,a,s){return Y(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,a,s)})}move(r,a,s){return Y(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}copy(r,a,s){return Y(this,void 0,void 0,function*(){try{return{data:{path:(yield nn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:a,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}createSignedUrl(r,a,s){return Y(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r),u=yield nn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:a},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}createSignedUrls(r,a,s){return Y(this,void 0,void 0,function*(){try{const o=yield nn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:r},{headers:this.headers}),u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}download(r,a){const o=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),d=u?`?${u}`:"",y=this._getFinalPath(r),g=()=>Fi(this.fetch,`${this.url}/${o}/${y}${d}`,{headers:this.headers,noResolveJson:!0});return new aw(g,this.shouldThrowOnError)}info(r){return Y(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{const s=yield Fi(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Rf(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}exists(r){return Y(this,void 0,void 0,function*(){const a=this._getFinalPath(r);try{return yield nw(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s)&&s instanceof To){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}})}getPublicUrl(r,a){const s=this._getFinalPath(r),o=[],u=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";u!==""&&o.push(u);const y=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});g!==""&&o.push(g);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${y}/public/${s}${f}`)}}}remove(r){return Y(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}list(r,a,s){return Y(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},iw),a),{prefix:r||""});return{data:yield nn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}listV2(r,a){return Y(this,void 0,void 0,function*(){try{const s=Object.assign({},r);return{data:yield nn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},a),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const a=[];return r.width&&a.push(`width=${r.width}`),r.height&&a.push(`height=${r.height}`),r.resize&&a.push(`resize=${r.resize}`),r.format&&a.push(`format=${r.format}`),r.quality&&a.push(`quality=${r.quality}`),a.join("&")}}const $y="2.87.1",Py={"X-Client-Info":`storage-js/${$y}`};class lw{constructor(r,a={},s,o){this.shouldThrowOnError=!1;const u=new URL(r);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Py),a),this.fetch=Kf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return Y(this,void 0,void 0,function*(){try{const a=this.listBucketOptionsToQueryString(r);return{data:yield Fi(this.fetch,`${this.url}/bucket${a}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}getBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}createBucket(r){return Y(this,arguments,void 0,function*(a,s={public:!1}){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}updateBucket(r,a){return Y(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}emptyBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}deleteBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}listBucketOptionsToQueryString(r){const a={};return r&&("limit"in r&&(a.limit=String(r.limit)),"offset"in r&&(a.offset=String(r.offset)),r.search&&(a.search=r.search),r.sortColumn&&(a.sortColumn=r.sortColumn),r.sortOrder&&(a.sortOrder=r.sortOrder)),Object.keys(a).length>0?"?"+new URLSearchParams(a).toString():""}}var Qi=class extends Error{constructor(l,r){var a;super(l),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((a=r.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ow(l,r,a){const s=new URL(r,l);if(a)for(const[o,u]of Object.entries(a))u!==void 0&&s.searchParams.set(o,u);return s.toString()}async function uw(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function cw(l){const r=l.fetchImpl??globalThis.fetch;return{async request({method:a,path:s,query:o,body:u,headers:d}){const y=ow(l.baseUrl,s,o),g=await uw(l.auth),f=await r(y,{method:a,headers:{...u?{"Content-Type":"application/json"}:{},...g,...d},body:u?JSON.stringify(u):void 0}),v=await f.text(),p=(f.headers.get("content-type")||"").includes("application/json"),m=p&&v?JSON.parse(v):v;if(!f.ok){const b=p?m:void 0,w=b==null?void 0:b.error;throw new Qi((w==null?void 0:w.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:b})}return{status:f.status,headers:f.headers,data:m}}}}function kl(l){return l.join("")}var fw=class{constructor(l,r=""){this.client=l,this.prefix=r}async listNamespaces(l){const r=l?{parent:kl(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(l,r){const a={namespace:l.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kl(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kl(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kl(l.namespace)}`}),!0}catch(r){if(r instanceof Qi&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(l,r){try{return await this.createNamespace(l,r)}catch(a){if(a instanceof Qi&&a.status===409)return;throw a}}};function Oa(l){return l.join("")}var dw=class{constructor(l,r="",a){this.client=l,this.prefix=r,this.accessDelegation=a}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Oa(l.namespace)}/tables`})).data.identifiers}async createTable(l,r){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Oa(l.namespace)}/tables`,body:r,headers:a})).data.metadata}async updateTable(l,r){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Oa(l.namespace)}/tables/${l.name}`,body:r});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(l,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Oa(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(l){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Oa(l.namespace)}/tables/${l.name}`,headers:r})).data.metadata}async tableExists(l){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Oa(l.namespace)}/tables/${l.name}`,headers:r}),!0}catch(a){if(a instanceof Qi&&a.status===404)return!1;throw a}}async createTableIfNotExists(l,r){try{return await this.createTable(l,r)}catch(a){if(a instanceof Qi&&a.status===409)return await this.loadTable({namespace:l.namespace,name:r.name});throw a}}},hw=class{constructor(l){var s;let r="v1";l.catalogName&&(r+=`/${l.catalogName}`);const a=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=cw({baseUrl:a,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=(s=l.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new fw(this.client,r),this.tableOps=new dw(this.client,r,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,r){return this.namespaceOps.createNamespace(l,r)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,r){return this.tableOps.createTable(l,r)}async updateTable(l,r){return this.tableOps.updateTable(l,r)}async dropTable(l,r){await this.tableOps.dropTable(l,r)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,r){return this.namespaceOps.createNamespaceIfNotExists(l,r)}async createTableIfNotExists(l,r){return this.tableOps.createTableIfNotExists(l,r)}};class Iy{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Py),a),this.fetch=Kf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:yield nn(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}listBuckets(r){return Y(this,void 0,void 0,function*(){try{const a=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&a.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&a.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&a.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&a.set("sortOrder",r.sortOrder),r!=null&&r.search&&a.set("search",r.search);const s=a.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Fi(this.fetch,o,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}deleteBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:yield Xf(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}from(r){if(!W_(r))throw new Wi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new hw({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:()=>Y(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(a,{get(u,d){const y=u[d];return typeof y!="function"?y:(...g)=>Y(this,void 0,void 0,function*(){try{return{data:yield y.apply(u,g),error:null}}catch(f){if(s)throw f;return{data:null,error:f}}})}})}}const Yf={"X-Client-Info":`storage-js/${$y}`,"Content-Type":"application/json"};class Ff extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ot(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class yo extends Ff{constructor(r,a,s){super(r),this.name="StorageVectorsApiError",this.status=a,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Gy extends Ff{constructor(r,a){super(r),this.name="StorageVectorsUnknownError",this.originalError=a}}var Cf;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Cf||(Cf={}));const Lo=l=>l?(...r)=>l(...r):(...r)=>fetch(...r),vw=()=>Response,Vy=l=>{if(typeof l!="object"||l===null)return!1;const r=Object.getPrototypeOf(l);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},gw=l=>Array.from(new Float32Array(l)),mw=(l,r)=>{if(r!==void 0&&l.float32.length!==r)throw new Error(`Vector dimension mismatch: expected ${r}, got ${l.float32.length}`)},xg=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),yw=(l,r,a)=>Y(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!(a!=null&&a.noResolveJson)){const o=l.status||500,u=l;if(typeof u.json=="function")u.json().then(d=>{const y=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||o+"";r(new yo(xg(d),o,y))}).catch(()=>{const d=o+"",y=u.statusText||`HTTP ${o} error`;r(new yo(y,o,d))});else{const d=o+"",y=u.statusText||`HTTP ${o} error`;r(new yo(y,o,d))}}else r(new Gy(xg(l),l))}),pw=(l,r,a,s)=>{const o={method:l,headers:(r==null?void 0:r.headers)||{}};return s?(Vy(s)?(o.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),a)):o};function bw(l,r,a,s,o,u){return Y(this,void 0,void 0,function*(){return new Promise((d,y)=>{l(a,pw(r,s,o,u)).then(g=>{if(!g.ok)throw g;if(s!=null&&s.noResolveJson)return g;const f=g.headers.get("content-type");return!f||!f.includes("application/json")?{}:g.json()}).then(g=>d(g)).catch(g=>yw(g,y,s))})})}function zt(l,r,a,s,o){return Y(this,void 0,void 0,function*(){return bw(l,"POST",r,s,o,a)})}class Ky{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yf),a),this.fetch=Lo(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return Y(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}getIndex(r,a){return Y(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}})}listIndexes(r){return Y(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}deleteIndex(r,a){return Y(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:a},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ot(s))return{data:null,error:s};throw s}})}}class Xy{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yf),a),this.fetch=Lo(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return Y(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield zt(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}getVectors(r){return Y(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}listVectors(r){return Y(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield zt(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}queryVectors(r){return Y(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}deleteVectors(r){return Y(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield zt(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}}class Yy{constructor(r,a={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yf),a),this.fetch=Lo(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}getBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}listBuckets(){return Y(this,arguments,void 0,function*(r={}){try{return{data:yield zt(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}deleteBucket(r){return Y(this,void 0,void 0,function*(){try{return{data:(yield zt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ot(a))return{data:null,error:a};throw a}})}}class Fy extends Yy{constructor(r,a={}){super(r,a.headers||{},a.fetch)}from(r){return new Qy(this.url,this.headers,r,this.fetch)}createBucket(r){const a=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Y(this,void 0,void 0,function*(){return a.createBucket.call(this,r)})}getBucket(r){const a=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Y(this,void 0,void 0,function*(){return a.getBucket.call(this,r)})}listBuckets(){const r=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Y(this,arguments,void 0,function*(a={}){return r.listBuckets.call(this,a)})}deleteBucket(r){const a=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Y(this,void 0,void 0,function*(){return a.deleteBucket.call(this,r)})}}class Qy extends Ky{constructor(r,a,s,o){super(r,a,o),this.vectorBucketName=s}createIndex(r){const a=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Y(this,void 0,void 0,function*(){return a.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Y(this,arguments,void 0,function*(a={}){return r.listIndexes.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const a=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Y(this,void 0,void 0,function*(){return a.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const a=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Y(this,void 0,void 0,function*(){return a.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new Zy(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class Zy extends Xy{constructor(r,a,s,o,u){super(r,a,u),this.vectorBucketName=s,this.indexName=o}putVectors(r){const a=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Y(this,void 0,void 0,function*(){return a.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const a=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Y(this,void 0,void 0,function*(){return a.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Y(this,arguments,void 0,function*(a={}){return r.listVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const a=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Y(this,void 0,void 0,function*(){return a.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const a=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Y(this,void 0,void 0,function*(){return a.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class _w extends lw{constructor(r,a={},s,o){super(r,a,s,o)}from(r){return new sw(this.url,this.headers,r,this.fetch)}get vectors(){return new Fy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Iy(this.url+"/iceberg",this.headers,this.fetch)}}const ww=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Iy,StorageApiError:qy,StorageClient:_w,StorageError:Wi,StorageUnknownError:To,StorageVectorsApiError:yo,StorageVectorsClient:Fy,StorageVectorsError:Ff,get StorageVectorsErrorCode(){return Cf},StorageVectorsUnknownError:Gy,VectorBucketApi:Yy,VectorBucketScope:Qy,VectorDataApi:Xy,VectorIndexApi:Ky,VectorIndexScope:Zy,isPlainObject:Vy,isStorageError:He,isStorageVectorsError:Ot,normalizeToFloat32:gw,resolveFetch:Lo,resolveResponse:vw,validateVectorDimension:mw},Symbol.toStringTag,{value:"Module"})),Sw=Ji(ww);var ff={},zi={},Og;function Ew(){return Og||(Og=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.version=void 0,zi.version="2.87.1"),zi}var Tg;function xw(){return Tg||(Tg=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_REALTIME_OPTIONS=l.DEFAULT_AUTH_OPTIONS=l.DEFAULT_DB_OPTIONS=l.DEFAULT_GLOBAL_OPTIONS=l.DEFAULT_HEADERS=void 0;const r=Ew();let a="";typeof Deno<"u"?a="deno":typeof document<"u"?a="web":typeof navigator<"u"&&navigator.product==="ReactNative"?a="react-native":a="node",l.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${a}/${r.version}`},l.DEFAULT_GLOBAL_OPTIONS={headers:l.DEFAULT_HEADERS},l.DEFAULT_DB_OPTIONS={schema:"public"},l.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l.DEFAULT_REALTIME_OPTIONS={}})(ff)),ff}var df={},Ag;function Ow(){return Ag||(Ag=1,(function(l){Object.defineProperty(l,"__esModule",{value:!0}),l.fetchWithAuth=l.resolveHeadersConstructor=l.resolveFetch=void 0;const r=o=>o?(...u)=>o(...u):(...u)=>fetch(...u);l.resolveFetch=r;const a=()=>Headers;l.resolveHeadersConstructor=a;const s=(o,u,d)=>{const y=(0,l.resolveFetch)(d),g=(0,l.resolveHeadersConstructor)();return async(f,v)=>{var p;const m=(p=await u())!==null&&p!==void 0?p:o;let b=new g(v==null?void 0:v.headers);return b.has("apikey")||b.set("apikey",o),b.has("Authorization")||b.set("Authorization",`Bearer ${m}`),y(f,Object.assign(Object.assign({},v),{headers:b}))}};l.fetchWithAuth=s})(df)),df}var kn={},jg;function Tw(){if(jg)return kn;jg=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.isBrowser=void 0,kn.uuid=l,kn.ensureTrailingSlash=r,kn.applySettingDefaults=s,kn.validateSupabaseUrl=o;function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var d=Math.random()*16|0,y=u=="x"?d:d&3|8;return y.toString(16)})}function r(u){return u.endsWith("/")?u:u+"/"}const a=()=>typeof window<"u";kn.isBrowser=a;function s(u,d){var y,g;const{db:f,auth:v,realtime:p,global:m}=u,{db:b,auth:w,realtime:E,global:O}=d,R={db:Object.assign(Object.assign({},b),f),auth:Object.assign(Object.assign({},w),v),realtime:Object.assign(Object.assign({},E),p),storage:{},global:Object.assign(Object.assign(Object.assign({},O),m),{headers:Object.assign(Object.assign({},(y=O==null?void 0:O.headers)!==null&&y!==void 0?y:{}),(g=m==null?void 0:m.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return u.accessToken?R.accessToken=u.accessToken:delete R.accessToken,R}function o(u){const d=u==null?void 0:u.trim();if(!d)throw new Error("supabaseUrl is required.");if(!d.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r(d))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return kn}var qi={};const Jy="2.87.1",Ca=30*1e3,kf=3,hf=kf*Ca,Aw="http://localhost:9999",jw="supabase.auth.token",Rw={"X-Client-Info":`gotrue-js/${Jy}`},Df="X-Supabase-Api-Version",Wy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cw=600*1e3;let za=class extends Error{constructor(r,a,s){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=s}};function W(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}let ep=class extends za{constructor(r,a,s){super(r,a,s),this.name="AuthApiError",this.status=a,this.code=s}};function tp(l){return W(l)&&l.name==="AuthApiError"}let sr=class extends za{constructor(r,a){super(r),this.name="AuthUnknownError",this.originalError=a}},Mn=class extends za{constructor(r,a,s,o){super(r,s,o),this.name=a,this.status=s}},xt=class extends Mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function np(l){return W(l)&&l.name==="AuthSessionMissingError"}let kr=class extends Mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Xi=class extends Mn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}},Yi=class extends Mn{constructor(r,a=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function rp(l){return W(l)&&l.name==="AuthImplicitGrantRedirectError"}let Mf=class extends Mn{constructor(r,a=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ao=class extends Mn{constructor(r,a){super(r,"AuthRetryableFetchError",a,void 0)}};function po(l){return W(l)&&l.name==="AuthRetryableFetchError"}let Uf=class extends Mn{constructor(r,a,s){super(r,"AuthWeakPasswordError",a,"weak_password"),this.reasons=s}};function kw(l){return W(l)&&l.name==="AuthWeakPasswordError"}let jo=class extends Mn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}};const Ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rg=` 	
\r=`.split(""),Dw=(()=>{const l=new Array(128);for(let r=0;r<l.length;r+=1)l[r]=-1;for(let r=0;r<Rg.length;r+=1)l[Rg[r].charCodeAt(0)]=-2;for(let r=0;r<Ro.length;r+=1)l[Ro[r].charCodeAt(0)]=r;return l})();function Ng(l,r,a){if(l!==null)for(r.queue=r.queue<<8|l,r.queuedBits+=8;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;a(Ro[s]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;a(Ro[s]),r.queuedBits-=6}}function ap(l,r,a){const s=Dw[l];if(s>-1)for(r.queue=r.queue<<6|s,r.queuedBits+=6;r.queuedBits>=8;)a(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Cg(l){const r=[],a=d=>{r.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{Lw(d,s,a)};for(let d=0;d<l.length;d+=1)ap(l.charCodeAt(d),o,u);return r.join("")}function Mw(l,r){if(l<=127){r(l);return}else if(l<=2047){r(192|l>>6),r(128|l&63);return}else if(l<=65535){r(224|l>>12),r(128|l>>6&63),r(128|l&63);return}else if(l<=1114111){r(240|l>>18),r(128|l>>12&63),r(128|l>>6&63),r(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Uw(l,r){for(let a=0;a<l.length;a+=1){let s=l.charCodeAt(a);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(l.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}Mw(s,r)}}function Lw(l,r,a){if(r.utf8seq===0){if(l<=127){a(l);return}for(let s=1;s<6;s+=1)if((l>>7-s&1)===0){r.utf8seq=s;break}if(r.utf8seq===2)r.codepoint=l&31;else if(r.utf8seq===3)r.codepoint=l&15;else if(r.utf8seq===4)r.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|l&63,r.utf8seq-=1,r.utf8seq===0&&a(r.codepoint)}}function Ua(l){const r=[],a={queue:0,queuedBits:0},s=o=>{r.push(o)};for(let o=0;o<l.length;o+=1)ap(l.charCodeAt(o),a,s);return new Uint8Array(r)}function Bw(l){const r=[];return Uw(l,a=>r.push(a)),new Uint8Array(r)}function zr(l){const r=[],a={queue:0,queuedBits:0},s=o=>{r.push(o)};return l.forEach(o=>Ng(o,a,s)),Ng(null,a,s),r.join("")}function zw(l){return Math.round(Date.now()/1e3)+l}function qw(){return Symbol("auth-callback")}const ct=()=>typeof window<"u"&&typeof document<"u",Rr={tested:!1,writable:!1},ip=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rr.tested)return Rr.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Rr.tested=!0,Rr.writable=!0}catch{Rr.tested=!0,Rr.writable=!1}return Rr.writable};function Hw(l){const r={},a=new URL(l);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,u)=>{r[u]=o})}catch{}return a.searchParams.forEach((s,o)=>{r[o]=s}),r}const sp=l=>l?(...r)=>l(...r):(...r)=>fetch(...r),$w=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",ka=async(l,r,a)=>{await l.setItem(r,JSON.stringify(a))},Nr=async(l,r)=>{const a=await l.getItem(r);if(!a)return null;try{return JSON.parse(a)}catch{return a}},ut=async(l,r)=>{await l.removeItem(r)};class Bo{constructor(){this.promise=new Bo.promiseConstructor((r,a)=>{this.resolve=r,this.reject=a})}}Bo.promiseConstructor=Promise;function vf(l){const r=l.split(".");if(r.length!==3)throw new jo("Invalid JWT structure");for(let s=0;s<r.length;s++)if(!Nw.test(r[s]))throw new jo("JWT not in base64url format");return{header:JSON.parse(Cg(r[0])),payload:JSON.parse(Cg(r[1])),signature:Ua(r[2]),raw:{header:r[0],payload:r[1]}}}async function Pw(l){return await new Promise(r=>{setTimeout(()=>r(null),l)})}function Iw(l,r){return new Promise((s,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await l(u);if(!r(u,null,d)){s(d);return}}catch(d){if(!r(u,d)){o(d);return}}})()})}function Gw(l){return("0"+l.toString(16)).substr(-2)}function Vw(){const r=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=a.length;let o="";for(let u=0;u<56;u++)o+=a.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(r),Array.from(r,Gw).join("")}async function Kw(l){const a=new TextEncoder().encode(l),s=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(s);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function Xw(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const a=await Kw(l);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ta(l,r,a=!1){const s=Vw();let o=s;a&&(o+="/PASSWORD_RECOVERY"),await ka(l,`${r}-code-verifier`,o);const u=await Xw(s);return[u,s===u?"plain":"s256"]}const Yw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fw(l){const r=l.headers.get(Df);if(!r||!r.match(Yw))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Qw(l){if(!l)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(l<=r)throw new Error("JWT has expired")}function Zw(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Aa(l){if(!Jw.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function gf(){const l={};return new Proxy(l,{get:(r,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ww(l,r){return new Proxy(l,{get:(a,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const u=s.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,s,o)}return!r.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(a,s,o)}})}function kg(l){return JSON.parse(JSON.stringify(l))}const Dr=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),eS=[502,503,504];async function Dg(l){var r;if(!$w(l))throw new Ao(Dr(l),0);if(eS.includes(l.status))throw new Ao(Dr(l),l.status);let a;try{a=await l.json()}catch(u){throw new sr(Dr(u),u)}let s;const o=Fw(l);if(o&&o.getTime()>=Wy["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?s=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(s=a.error_code),s){if(s==="weak_password")throw new Uf(Dr(a),l.status,((r=a.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(s==="session_not_found")throw new xt}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Uf(Dr(a),l.status,a.weak_password.reasons);throw new ep(Dr(a),l.status||500,s)}const tS=(l,r,a,s)=>{const o={method:l,headers:(r==null?void 0:r.headers)||{}};return l==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),a))};async function ue(l,r,a,s){var o;const u=Object.assign({},s==null?void 0:s.headers);u[Df]||(u[Df]=Wy["2024-01-01"].name),s!=null&&s.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const d=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(d.redirect_to=s.redirectTo);const y=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await nS(l,r,a+y,{headers:u,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(g):{data:Object.assign({},g),error:null}}async function nS(l,r,a,s,o,u){const d=tS(r,s,o,u);let y;try{y=await l(a,Object.assign({},d))}catch(g){throw console.error(g),new Ao(Dr(g),0)}if(y.ok||await Dg(y),s!=null&&s.noResolveJson)return y;try{return await y.json()}catch(g){await Dg(g)}}function tn(l){var r;let a=null;iS(l)&&(a=Object.assign({},l),l.expires_at||(a.expires_at=zw(l.expires_in)));const s=(r=l.user)!==null&&r!==void 0?r:l;return{data:{session:a,user:s},error:null}}function Mg(l){const r=tn(l);return!r.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0)&&(r.data.weak_password=l.weak_password),r}function lr(l){var r;return{data:{user:(r=l.user)!==null&&r!==void 0?r:l},error:null}}function rS(l){return{data:l,error:null}}function aS(l){const{action_link:r,email_otp:a,hashed_token:s,redirect_to:o,verification_type:u}=l,d=qa(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),y={action_link:r,email_otp:a,hashed_token:s,redirect_to:o,verification_type:u},g=Object.assign({},d);return{data:{properties:y,user:g},error:null}}function Ug(l){return l}function iS(l){return l.access_token&&l.refresh_token&&l.expires_in}const bo=["global","local","others"];let Qf=class{constructor({url:r="",headers:a={},fetch:s}){this.url=r,this.headers=a,this.fetch=sp(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,a=bo[0]){if(bo.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bo.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async inviteUserByEmail(r,a={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:lr})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async generateLink(r){try{const{options:a}=r,s=qa(r,["options"]),o=Object.assign(Object.assign({},s),a);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:aS,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(W(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(r){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:lr})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}async listUsers(r){var a,s,o,u,d,y,g;try{const f={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=r==null?void 0:r.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=r==null?void 0:r.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Ug});if(v.error)throw v.error;const p=await v.json(),m=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(g=(y=v.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return b.length>0&&(b.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(w.split(";")[1].split("=")[1]);f[`${O}Page`]=E}),f.total=parseInt(m)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(W(f))return{data:{users:[]},error:f};throw f}}async getUserById(r){Aa(r);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:lr})}catch(a){if(W(a))return{data:{user:null},error:a};throw a}}async updateUserById(r,a){Aa(r);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:a,headers:this.headers,xform:lr})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async deleteUser(r,a=!1){Aa(r);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:a},xform:lr})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async _listFactors(r){Aa(r.userId);try{const{data:a,error:s}=await ue(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:s}}catch(a){if(W(a))return{data:null,error:a};throw a}}async _deleteFactor(r){Aa(r.userId),Aa(r.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(a){if(W(a))return{data:null,error:a};throw a}}async _listOAuthClients(r){var a,s,o,u,d,y,g;try{const f={nextPage:null,lastPage:0,total:0},v=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=r==null?void 0:r.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(u=(o=r==null?void 0:r.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Ug});if(v.error)throw v.error;const p=await v.json(),m=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,b=(g=(y=v.headers.get("link"))===null||y===void 0?void 0:y.split(","))!==null&&g!==void 0?g:[];return b.length>0&&(b.forEach(w=>{const E=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(w.split(";")[1].split("=")[1]);f[`${O}Page`]=E}),f.total=parseInt(m)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(W(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(r){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(W(a))return{data:null,error:a};throw a}}async _getOAuthClient(r){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(W(a))return{data:null,error:a};throw a}}async _updateOAuthClient(r,a){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:a,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(r){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(W(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(r){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(W(a))return{data:null,error:a};throw a}}};function Lg(l={}){return{getItem:r=>l[r]||null,setItem:(r,a)=>{l[r]=a},removeItem:r=>{delete l[r]}}}const Mr={debug:!!(globalThis&&ip()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zf extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}let lp=class extends Zf{};class sS extends Zf{}async function op(l,r,a){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,r);const s=new globalThis.AbortController;return r>0&&setTimeout(()=>{s.abort(),Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,o.name);try{return await a()}finally{Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,o.name)}}else{if(r===0)throw Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new lp(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Mr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}const Bg={};async function lS(l,r,a){var s;const o=(s=Bg[l])!==null&&s!==void 0?s:Promise.resolve(),u=Promise.race([o.catch(()=>null),r>=0?new Promise((d,y)=>{setTimeout(()=>{y(new sS(`Acquring process lock with name "${l}" timed out`))},r)}):null].filter(d=>d)).catch(d=>{if(d&&d.isAcquireTimeout)throw d;return null}).then(async()=>await a());return Bg[l]=u.catch(async d=>{if(d&&d.isAcquireTimeout)return await o,null;throw d}),await u}function oS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function up(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function uS(l){return parseInt(l,16)}function cS(l){const r=new TextEncoder().encode(l);return"0x"+Array.from(r,s=>s.toString(16).padStart(2,"0")).join("")}function fS(l){var r;const{chainId:a,domain:s,expirationTime:o,issuedAt:u=new Date,nonce:d,notBefore:y,requestId:g,resources:f,scheme:v,uri:p,version:m}=l;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((r=l.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const b=up(l.address),w=v?`${v}://${s}`:s,E=l.statement?`${l.statement}
`:"",O=`${w} wants you to sign in with your Ethereum account:
${b}

${E}`;let R=`URI: ${p}
Version: ${m}
Chain ID: ${a}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(o&&(R+=`
Expiration Time: ${o.toISOString()}`),y&&(R+=`
Not Before: ${y.toISOString()}`),g&&(R+=`
Request ID: ${g}`),f){let M=`
Resources:`;for(const U of f){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);M+=`
- ${U}`}R+=M}return`${O}
${R}`}class We extends Error{constructor({message:r,code:a,cause:s,name:o}){var u;super(r,{cause:s}),this.__isWebAuthnError=!0,this.name=(u=o??(s instanceof Error?s.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=a}}class No extends We{constructor(r,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:r}),this.name="WebAuthnUnknownError",this.originalError=a}}function dS({error:l,options:r}){var a,s,o;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(r.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(r.mediation==="conditional"&&((s=u.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new We({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return u.pubKeyCredParams.filter(y=>y.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const d=window.location.hostname;if(cp(d)){if(u.rp.id!==d)return new We({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function hS({error:l,options:r}){const{publicKey:a}=r;if(!a)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(r.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new We({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const s=window.location.hostname;if(cp(s)){if(a.rpId!==s)return new We({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class vS{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const gS=new vS;function mS(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:r,user:a,excludeCredentials:s}=l,o=qa(l,["challenge","user","excludeCredentials"]),u=Ua(r).buffer,d=Object.assign(Object.assign({},a),{id:Ua(a.id).buffer}),y=Object.assign(Object.assign({},o),{challenge:u,user:d});if(s&&s.length>0){y.excludeCredentials=new Array(s.length);for(let g=0;g<s.length;g++){const f=s[g];y.excludeCredentials[g]=Object.assign(Object.assign({},f),{id:Ua(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return y}function yS(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:r,allowCredentials:a}=l,s=qa(l,["challenge","allowCredentials"]),o=Ua(r).buffer,u=Object.assign(Object.assign({},s),{challenge:o});if(a&&a.length>0){u.allowCredentials=new Array(a.length);for(let d=0;d<a.length;d++){const y=a[d];u.allowCredentials[d]=Object.assign(Object.assign({},y),{id:Ua(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return u}function pS(l){var r;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const a=l;return{id:l.id,rawId:l.id,response:{attestationObject:zr(new Uint8Array(l.response.attestationObject)),clientDataJSON:zr(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(r=a.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function bS(l){var r;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const a=l,s=l.getClientExtensionResults(),o=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:zr(new Uint8Array(o.authenticatorData)),clientDataJSON:zr(new Uint8Array(o.clientDataJSON)),signature:zr(new Uint8Array(o.signature)),userHandle:o.userHandle?zr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(r=a.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function cp(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function zg(){var l,r;return!!(ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function _S(l){try{const r=await navigator.credentials.create(l);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new No("Browser returned unexpected credential type",r)}:{data:null,error:new No("Empty credential response",r)}}catch(r){return{data:null,error:dS({error:r,options:l})}}}async function wS(l){try{const r=await navigator.credentials.get(l);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new No("Browser returned unexpected credential type",r)}:{data:null,error:new No("Empty credential response",r)}}catch(r){return{data:null,error:hS({error:r,options:l})}}}const SS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ES={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Co(...l){const r=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),a=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of l)if(o)for(const u in o){const d=o[u];if(d!==void 0)if(Array.isArray(d))s[u]=d;else if(a(d))s[u]=d;else if(r(d)){const y=s[u];r(y)?s[u]=Co(y,d):s[u]=Co(d)}else s[u]=d}return s}function xS(l,r){return Co(SS,l,r||{})}function OS(l,r){return Co(ES,l,r||{})}class TS{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:a,friendlyName:s,signal:o},u){try{const{data:d,error:y}=await this.client.mfa.challenge({factorId:r,webauthn:a});if(!d)return{data:null,error:y};const g=o??gS.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:f}=d.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${s}`),f.displayName||(f.displayName=f.name)}switch(d.webauthn.type){case"create":{const f=xS(d.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:v,error:p}=await _S({publicKey:f,signal:g});return v?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:p}}case"request":{const f=OS(d.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:v,error:p}=await wS(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:f,signal:g}));return v?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:p}}}}catch(d){return W(d)?{data:null,error:d}:{data:null,error:new sr("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:a,webauthn:s}){return this.client.mfa.verify({factorId:a,challengeId:r,webauthn:s})}async _authenticate({factorId:r,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new za("rpId is required for WebAuthn authentication")};try{if(!zg())return{data:null,error:new sr("Browser does not support WebAuthn",null)};const{data:d,error:y}=await this.challenge({factorId:r,webauthn:{rpId:a,rpOrigins:s},signal:o},{request:u});if(!d)return{data:null,error:y};const{webauthn:g}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:g.type,rpId:a,rpOrigins:s,credential_response:g.credential_response}})}catch(d){return W(d)?{data:null,error:d}:{data:null,error:new sr("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new za("rpId is required for WebAuthn registration")};try{if(!zg())return{data:null,error:new sr("Browser does not support WebAuthn",null)};const{data:d,error:y}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(v=>{var p;return(p=v.data)===null||p===void 0?void 0:p.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===r&&m.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:y};const{data:g,error:f}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:a,rpOrigins:s},signal:o},{create:u});return g?this._verify({factorId:d.id,challengeId:g.challengeId,webauthn:{rpId:a,rpOrigins:s,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:f}}catch(d){return W(d)?{data:null,error:d}:{data:null,error:new sr("Unexpected error in register",d)}}}}oS();const AS={url:Aw,storageKey:jw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function qg(l,r,a){return await a()}const ja={};let Jf=class Lf{get jwks(){var r,a;return(a=(r=ja[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(r){ja[this.storageKey]=Object.assign(Object.assign({},ja[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,a;return(a=(r=ja[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){ja[this.storageKey]=Object.assign(Object.assign({},ja[this.storageKey]),{cachedAt:r})}constructor(r){var a,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},AS),r);if(this.storageKey=u.storageKey,this.instanceID=(a=Lf.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Lf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&ct()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Qf({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=sp(u.fetch),this.lock=u.lock||qg,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&ct()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=op:this.lock=qg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new TS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:ip()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lg(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Lg(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jy}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let a={},s="none";if(ct()&&(a=Hw(window.location.href),this._isImplicitGrantCallback(a)?s="implicit":await this._isPKCECallback(a)&&(s="pkce")),ct()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:u}=await this._getSessionFromURL(a,s);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),rp(u)){const g=(r=u.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:y}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",y),await this._saveSession(d),setTimeout(async()=>{y==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return W(a)?this._returnResult({error:a}):this._returnResult({error:new sr("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var a,s,o;try{const u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(a=r==null?void 0:r.options)===null||a===void 0?void 0:a.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=r==null?void 0:r.options)===null||o===void 0?void 0:o.captchaToken}},xform:tn}),{data:d,error:y}=u;if(y||!d)return this._returnResult({data:{user:null,session:null},error:y});const g=d.session,f=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:f,session:g},error:null})}catch(u){if(W(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var a,s,o;try{let u;if("email"in r){const{email:v,password:p,options:m}=r;let b=null,w=null;this.flowType==="pkce"&&([b,w]=await Ta(this.storage,this.storageKey)),u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:v,password:p,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:b,code_challenge_method:w},xform:tn})}else if("phone"in r){const{phone:v,password:p,options:m}=r;u=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:p,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},channel:(o=m==null?void 0:m.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:tn})}else throw new Xi("You must provide either an email or phone number and a password");const{data:d,error:y}=u;if(y||!d)return await ut(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:y});const g=d.session,f=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:f,session:g},error:null})}catch(u){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let a;if("email"in r){const{email:u,password:d,options:y}=r;a=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Mg})}else if("phone"in r){const{phone:u,password:d,options:y}=r;a=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Mg})}else throw new Xi("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const u=new kr;return this._returnResult({data:{user:null,session:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(a){if(W(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(r){var a,s,o,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(a=r.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=r.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=r.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:a}=r;switch(a){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(r){var a,s,o,u,d,y,g,f,v,p,m;let b,w;if("message"in r)b=r.message,w=r.signature;else{const{chain:E,wallet:O,statement:R,options:M}=r;let U;if(ct())if(typeof O=="object")U=O;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")U=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=O}const P=new URL((a=M==null?void 0:M.url)!==null&&a!==void 0?a:window.location.href),ee=await U.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Z=up(ee[0]);let V=(s=M==null?void 0:M.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!V){const K=await U.request({method:"eth_chainId"});V=uS(K)}const ie={domain:P.host,address:Z,statement:R,uri:P.href,version:"1",chainId:V,nonce:(o=M==null?void 0:M.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(u=M==null?void 0:M.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(y=M==null?void 0:M.signInWithEthereum)===null||y===void 0?void 0:y.expirationTime,notBefore:(g=M==null?void 0:M.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(f=M==null?void 0:M.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(v=M==null?void 0:M.signInWithEthereum)===null||v===void 0?void 0:v.resources};b=fS(ie),w=await U.request({method:"personal_sign",params:[cS(b),Z]})}try{const{data:E,error:O}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:w},!((p=r.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=r.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:tn});if(O)throw O;if(!E||!E.session||!E.user){const R=new kr;return this._returnResult({data:{user:null,session:null},error:R})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:O})}catch(E){if(W(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(r){var a,s,o,u,d,y,g,f,v,p,m,b;let w,E;if("message"in r)w=r.message,E=r.signature;else{const{chain:O,wallet:R,statement:M,options:U}=r;let P;if(ct())if(typeof R=="object")P=R;else{const Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))P=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=R}const ee=new URL((a=U==null?void 0:U.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in P&&P.signIn){const Z=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),M?{statement:M}:null));let V;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")V=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)V=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)w=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),E=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${ee.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(o=(s=U==null?void 0:U.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=U==null?void 0:U.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((d=U==null?void 0:U.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((y=U==null?void 0:U.signInWithSolana)===null||y===void 0)&&y.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((g=U==null?void 0:U.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((f=U==null?void 0:U.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((p=(v=U==null?void 0:U.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||p===void 0)&&p.length?["Resources",...U.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const Z=await P.signMessage(new TextEncoder().encode(w),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=Z}}try{const{data:O,error:R}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:zr(E)},!((m=r.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:tn});if(R)throw R;if(!O||!O.session||!O.user){const M=new kr;return this._returnResult({data:{user:null,session:null},error:M})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:R})}catch(O){if(W(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(r){const a=await Nr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(a??"").split("/");try{const{data:u,error:d}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:s},xform:tn});if(await ut(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const y=new kr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:y})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:a,provider:s,token:o,access_token:u,nonce:d}=r,y=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:tn}),{data:g,error:f}=y;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!g||!g.session||!g.user){const v=new kr;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:f})}catch(a){if(W(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(r){var a,s,o,u,d;try{if("email"in r){const{email:y,options:g}=r;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Ta(this.storage,this.storageKey));const{error:p}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:y,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(s=g==null?void 0:g.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:f,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in r){const{phone:y,options:g}=r,{data:f,error:v}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:y,data:(o=g==null?void 0:g.data)!==null&&o!==void 0?o:{},create_user:(u=g==null?void 0:g.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:v})}throw new Xi("You must provide either an email or phone number.")}catch(y){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async verifyOtp(r){var a,s;try{let o,u;"options"in r&&(o=(a=r.options)===null||a===void 0?void 0:a.redirectTo,u=(s=r.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:y}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:tn});if(y)throw y;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,f=d.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:f,session:g},error:null})}catch(o){if(W(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(r){var a,s,o,u,d;try{let y=null,g=null;this.flowType==="pkce"&&([y,g]=await Ta(this.storage,this.storageKey));const f=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(s=(a=r.options)===null||a===void 0?void 0:a.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=r==null?void 0:r.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:y,code_challenge_method:g}),headers:this.headers,xform:rS});return!((u=f.data)===null||u===void 0)&&u.url&&ct()&&!(!((d=r.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(y){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(y))return this._returnResult({data:null,error:y});throw y}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;if(s)throw s;if(!a)throw new xt;const{error:o}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const a=`${this.url}/resend`;if("email"in r){const{email:s,type:o,options:u}=r,{error:d}=await ue(this.fetch,"POST",a,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in r){const{phone:s,type:o,options:u}=r,{data:d,error:y}=await ue(this.fetch,"POST",a,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:y})}throw new Xi("You must provide either an email or phone number and a type")}catch(a){if(W(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(r,a){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=a();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await r(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const a=await Nr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?r=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const s=r.expires_at?r.expires_at*1e3-Date.now()<hf:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s){if(this.userStorage){const d=await Nr(this.userStorage,this.storageKey+"-user");d!=null&&d.user?r.user=d.user:r.user=gf()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};r.user=Ww(r.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:o,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const a=await this._acquireLock(-1,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(r){try{return r?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:lr}):await this._useSession(async a=>{var s,o,u;const{data:d,error:y}=a;if(y)throw y;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xt}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:lr})})}catch(a){if(W(a))return np(a)&&(await this._removeSession(),await ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(r,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,a))}async _updateUser(r,a={}){try{return await this._useSession(async s=>{const{data:o,error:u}=s;if(u)throw u;if(!o.session)throw new xt;const d=o.session;let y=null,g=null;this.flowType==="pkce"&&r.email!=null&&([y,g]=await Ta(this.storage,this.storageKey));const{data:f,error:v}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:y,code_challenge_method:g}),jwt:d.access_token,xform:lr});if(v)throw v;return d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(s){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new xt;const a=Date.now()/1e3;let s=a,o=!0,u=null;const{payload:d}=vf(r.access_token);if(d.exp&&(s=d.exp,o=s<=a),o){const{data:y,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!y)return{data:{user:null,session:null},error:null};u=y}else{const{data:y,error:g}=await this._getUser(r.access_token);if(g)throw g;u={access_token:r.access_token,refresh_token:r.refresh_token,user:y.user,token_type:"bearer",expires_in:s-a,expires_at:s},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(a){if(W(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async a=>{var s;if(!r){const{data:d,error:y}=a;if(y)throw y;r=(s=d.session)!==null&&s!==void 0?s:void 0}if(!(r!=null&&r.refresh_token))throw new xt;const{data:o,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(W(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(r,a){try{if(!ct())throw new Yi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Yi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Mf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yi("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Mf("No code detected.");const{data:M,error:U}=await this._exchangeCodeForSession(r.code);if(U)throw U;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:y,expires_at:g,token_type:f}=r;if(!u||!y||!d||!f)throw new Yi("No session defined in URL");const v=Math.round(Date.now()/1e3),p=parseInt(y);let m=v+p;g&&(m=parseInt(g));const b=m-v;b*1e3<=Ca&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${p}s`);const w=m-p;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,v);const{data:E,error:O}=await this._getUser(u);if(O)throw O;const R={provider_token:s,provider_refresh_token:o,access_token:u,expires_in:p,expires_at:m,refresh_token:d,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:r.type},error:null})}catch(s){if(W(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const a=await Nr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&a)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async a=>{var s;const{data:o,error:u}=a;if(u)return this._returnResult({error:u});const d=(s=o.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:y}=await this.admin.signOut(d,r);if(y&&!(tp(y)&&(y.status===404||y.status===401||y.status===403)))return this._returnResult({error:y})}return r!=="others"&&(await this._removeSession(),await ut(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const a=qw(),s={id:a,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:s}}}async _emitInitialSession(r){return await this._useSession(async a=>{var s,o;try{const{data:{session:u},error:d}=a;if(d)throw d;await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,a={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Ta(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:a,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(r=a.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(a){if(W(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var a;try{const{data:s,error:o}=await this._useSession(async u=>{var d,y,g,f,v;const{data:p,error:m}=u;if(m)throw m;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(y=r.options)===null||y===void 0?void 0:y.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",b,{headers:this.headers,jwt:(v=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return ct()&&!(!((a=r.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:r.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(W(s))return this._returnResult({data:{provider:r.provider,url:null},error:s});throw s}}async linkIdentityIdToken(r){return await this._useSession(async a=>{var s;try{const{error:o,data:{session:u}}=a;if(o)throw o;const{options:d,provider:y,token:g,access_token:f,nonce:v}=r,p=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=u==null?void 0:u.access_token)!==null&&s!==void 0?s:void 0,body:{provider:y,id_token:g,access_token:f,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:tn}),{data:m,error:b}=p;return b?this._returnResult({data:{user:null,session:null},error:b}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new kr}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:b}))}catch(o){if(await ut(this.storage,`${this.storageKey}-code-verifier`),W(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(r){try{return await this._useSession(async a=>{var s,o;const{data:u,error:d}=a;if(d)throw d;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(W(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(r){const a=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{const s=Date.now();return await Iw(async o=>(o>0&&await Pw(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:tn})),(o,u)=>{const d=200*Math.pow(2,o);return u&&po(u)&&Date.now()+d-s<Ca})}catch(s){if(this._debug(a,"error",s),W(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(a,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,a){const s=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",a,"url",s),ct()&&!a.skipBrowserRedirect&&window.location.assign(s),{data:{provider:r,url:s},error:null}}async _recoverAndRefresh(){var r,a;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Nr(this.storage,this.storageKey);if(o&&this.userStorage){let d=await Nr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await ka(this.userStorage,this.storageKey+"-user",d)),o.user=(r=d==null?void 0:d.user)!==null&&r!==void 0?r:gf()}else if(o&&!o.user&&!o.user){const d=await Nr(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(o.user=d.user,await ut(this.storage,this.storageKey+"-user"),await ka(this.storage,this.storageKey,o)):o.user=gf()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const u=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<hf;if(this._debug(s,`session has${u?"":" not"} expired with margin of ${hf}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),po(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:y}=await this._getUser(o.access_token);!y&&(d!=null&&d.user)?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(r){var a,s;if(!r)throw new xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Bo;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new xt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const y={data:u.session,error:null};return this.refreshingDeferred.resolve(y),y}catch(u){if(this._debug(o,"error",u),W(u)){const d={data:null,error:u};return po(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(r,a,s=!0){const o=`#_notifyAllSubscribers(${r})`;this._debug(o,"begin",a,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:r,session:a});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async y=>{try{await y.callback(r,a)}catch(g){u.push(g)}});if(await Promise.all(d),u.length>0){for(let y=0;y<u.length;y+=1)console.error(u[y]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await ut(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},r),s=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&a.user&&await ka(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const u=kg(o);await ka(this.storage,this.storageKey,u)}else{const o=kg(a);await ka(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ut(this.storage,this.storageKey),await ut(this.storage,this.storageKey+"-code-verifier"),await ut(this.storage,this.storageKey+"-user"),this.userStorage&&await ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),Ca);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async a=>{const{data:{session:s}}=a;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-r)/Ca);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ca}ms, refresh threshold is ${kf} ticks`),o<=kf&&await this._callRefreshToken(s.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Zf)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const a=`#_onVisibilityChanged(${r})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,a,s){const o=[`provider=${encodeURIComponent(a)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[u,d]=await Ta(this.storage,this.storageKey),y=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(y.toString())}if(s!=null&&s.queryParams){const u=new URLSearchParams(s.queryParams);o.push(u.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${r}?${o.join("&")}`}async _unenroll(r){try{return await this._useSession(async a=>{var s;const{data:o,error:u}=a;return u?this._returnResult({data:null,error:u}):await ue(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(W(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(r){try{return await this._useSession(async a=>{var s,o;const{data:u,error:d}=a;if(d)return this._returnResult({data:null,error:d});const y=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:f}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:y,headers:this.headers,jwt:(s=u==null?void 0:u.session)===null||s===void 0?void 0:s.access_token});return f?this._returnResult({data:null,error:f}):(r.factorType==="totp"&&g.type==="totp"&&(!((o=g==null?void 0:g.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(a){if(W(a))return this._returnResult({data:null,error:a});throw a}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?pS(r.webauthn.credential_response):bS(r.webauthn.credential_response)})}:{code:r.code}),{data:y,error:g}=await ue(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+y.expires_in},y)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",y),this._returnResult({data:y,error:g}))})}catch(a){if(W(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const d=await ue(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(d.error)return d;const{data:y}=d;if(y.type!=="webauthn")return{data:y,error:null};switch(y.webauthn.type){case"create":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:mS(y.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},y),{webauthn:Object.assign(Object.assign({},y.webauthn),{credential_options:Object.assign(Object.assign({},y.webauthn.credential_options),{publicKey:yS(y.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(W(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(r){const{data:a,error:s}=await this._challenge({factorId:r.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:r.factorId,challengeId:a.id,code:r.code})}async _listFactors(){var r;const{data:{user:a},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=a==null?void 0:a.factors)!==null&&r!==void 0?r:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var r,a;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=vf(s.access_token);let d=null;u.aal&&(d=u.aal);let y=d;((a=(r=s.user.factors)===null||r===void 0?void 0:r.filter(v=>v.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(y="aal2");const f=u.amr||[];return{data:{currentLevel:d,nextLevel:y,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;return o?this._returnResult({data:null,error:o}):s?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:s.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new xt})})}catch(a){if(W(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(r,a){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new xt});const d=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:y=>({data:y,error:null})});return d.data&&d.data.redirect_url&&ct()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(r,a){try{return await this._useSession(async s=>{const{data:{session:o},error:u}=s;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new xt});const d=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:y=>({data:y,error:null})});return d.data&&d.data.redirect_url&&ct()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:a},error:s}=r;return s?this._returnResult({data:null,error:s}):a?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new xt})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async a=>{const{data:{session:s},error:o}=a;return o?this._returnResult({data:null,error:o}):s?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xt})})}catch(a){if(W(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(r,a={keys:[]}){let s=a.keys.find(y=>y.kid===r);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(y=>y.kid===r),s&&this.jwks_cached_at+Cw>o)return s;const{data:u,error:d}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,s=u.keys.find(y=>y.kid===r),!s)?null:s}async getClaims(r,a={}){try{let s=r;if(!s){const{data:b,error:w}=await this.getSession();if(w||!b.session)return this._returnResult({data:null,error:w});s=b.session.access_token}const{header:o,payload:u,signature:d,raw:{header:y,payload:g}}=vf(s);a!=null&&a.allowExpired||Qw(u.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!f){const{error:b}=await this.getUser(s);if(b)throw b;return{data:{claims:u,header:o,signature:d},error:null}}const v=Zw(o.alg),p=await crypto.subtle.importKey("jwk",f,v,!0,["verify"]);if(!await crypto.subtle.verify(v,p,d,Bw(`${y}.${g}`)))throw new jo("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}};Jf.nextInstanceID={};const jS=Qf,RS=Jf,NS=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:jS,AuthApiError:ep,AuthClient:RS,AuthError:za,AuthImplicitGrantRedirectError:Yi,AuthInvalidCredentialsError:Xi,AuthInvalidJwtError:jo,AuthInvalidTokenResponseError:kr,AuthPKCEGrantCodeExchangeError:Mf,AuthRetryableFetchError:Ao,AuthSessionMissingError:xt,AuthUnknownError:sr,AuthWeakPasswordError:Uf,CustomAuthError:Mn,GoTrueAdminApi:Qf,GoTrueClient:Jf,NavigatorLockAcquireTimeoutError:lp,SIGN_OUT_SCOPES:bo,isAuthApiError:tp,isAuthError:W,isAuthImplicitGrantRedirectError:rp,isAuthRetryableFetchError:po,isAuthSessionMissingError:np,isAuthWeakPasswordError:kw,lockInternals:Mr,navigatorLock:op,processLock:lS},Symbol.toStringTag,{value:"Module"})),fp=Ji(NS);var Hg;function CS(){if(Hg)return qi;Hg=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.SupabaseAuthClient=void 0;const l=fp;let r=class extends l.AuthClient{constructor(s){super(s)}};return qi.SupabaseAuthClient=r,qi}var $g;function Pg(){if($g)return xl;$g=1,Object.defineProperty(xl,"__esModule",{value:!0});const l=xy,r=Ny(),a=zy,s=Sw,o=xw(),u=Ow(),d=Tw(),y=CS();class g{constructor(v,p,m){var b,w,E;this.supabaseUrl=v,this.supabaseKey=p;const O=(0,d.validateSupabaseUrl)(v);if(!p)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",O),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",O),this.storageUrl=new URL("storage/v1",O),this.functionsUrl=new URL("functions/v1",O);const R=`sb-${O.hostname.split(".")[0]}-auth-token`,M={db:o.DEFAULT_DB_OPTIONS,realtime:o.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},o.DEFAULT_AUTH_OPTIONS),{storageKey:R}),global:o.DEFAULT_GLOBAL_OPTIONS},U=(0,d.applySettingDefaults)(m??{},M);this.storageKey=(b=U.auth.storageKey)!==null&&b!==void 0?b:"",this.headers=(w=U.global.headers)!==null&&w!==void 0?w:{},U.accessToken?(this.accessToken=U.accessToken,this.auth=new Proxy({},{get:(P,ee)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(ee)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((E=U.auth)!==null&&E!==void 0?E:{},this.headers,U.global.fetch),this.fetch=(0,u.fetchWithAuth)(p,this._getAccessToken.bind(this),U.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},U.realtime)),this.accessToken&&this.accessToken().then(P=>this.realtime.setAuth(P)).catch(P=>console.warn("Failed to set initial Realtime auth token:",P)),this.rest=new r.PostgrestClient(new URL("rest/v1",O).href,{headers:this.headers,schema:U.db.schema,fetch:this.fetch}),this.storage=new s.StorageClient(this.storageUrl.href,this.headers,this.fetch,m==null?void 0:m.storage),U.accessToken||this._listenForAuthEvents()}get functions(){return new l.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,p={},m={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,p,m)}channel(v,p={config:{}}){return this.realtime.channel(v,p)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,p;if(this.accessToken)return await this.accessToken();const{data:m}=await this.auth.getSession();return(p=(v=m.session)===null||v===void 0?void 0:v.access_token)!==null&&p!==void 0?p:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:p,detectSessionInUrl:m,storage:b,userStorage:w,storageKey:E,flowType:O,lock:R,debug:M,throwOnError:U},P,ee){const Z={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new y.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},Z),P),storageKey:E,autoRefreshToken:v,persistSession:p,detectSessionInUrl:m,storage:b,userStorage:w,flowType:O,lock:R,debug:M,throwOnError:U,fetch:ee,hasCustomAuthorizationHeader:Object.keys(this.headers).some(V=>V.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new a.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v==null?void 0:v.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((p,m)=>{this._handleTokenChanged(p,"CLIENT",m==null?void 0:m.access_token)})}_handleTokenChanged(v,p,m){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==m?(this.changedAccessToken=m,this.realtime.setAuth(m)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),p=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return xl.default=g,xl}var Ig;function kS(){return Ig||(Ig=1,(function(l){var r=Cn&&Cn.__createBinding||(Object.create?(function(v,p,m,b){b===void 0&&(b=m);var w=Object.getOwnPropertyDescriptor(p,m);(!w||("get"in w?!p.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(v,b,w)}):(function(v,p,m,b){b===void 0&&(b=m),v[b]=p[m]})),a=Cn&&Cn.__exportStar||function(v,p){for(var m in v)m!=="default"&&!Object.prototype.hasOwnProperty.call(p,m)&&r(p,v,m)},s=Cn&&Cn.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(l,"__esModule",{value:!0}),l.createClient=l.SupabaseClient=l.FunctionRegion=l.FunctionsError=l.FunctionsRelayError=l.FunctionsFetchError=l.FunctionsHttpError=l.PostgrestError=void 0;const o=s(Pg());a(fp,l);var u=Ny();Object.defineProperty(l,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var d=xy;Object.defineProperty(l,"FunctionsHttpError",{enumerable:!0,get:function(){return d.FunctionsHttpError}}),Object.defineProperty(l,"FunctionsFetchError",{enumerable:!0,get:function(){return d.FunctionsFetchError}}),Object.defineProperty(l,"FunctionsRelayError",{enumerable:!0,get:function(){return d.FunctionsRelayError}}),Object.defineProperty(l,"FunctionsError",{enumerable:!0,get:function(){return d.FunctionsError}}),Object.defineProperty(l,"FunctionRegion",{enumerable:!0,get:function(){return d.FunctionRegion}}),a(zy,l);var y=Pg();Object.defineProperty(l,"SupabaseClient",{enumerable:!0,get:function(){return s(y).default}});const g=(v,p,m)=>new o.default(v,p,m);l.createClient=g;function f(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const p=v.match(/^v(\d+)\./);return p?parseInt(p[1],10)<=18:!1}f()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Cn)),Cn}var dp=kS();const hp=ko(dp),DS=X1({__proto__:null,default:hp},[dp]),{PostgrestError:gx,FunctionsHttpError:mx,FunctionsFetchError:yx,FunctionsRelayError:px,FunctionsError:bx,FunctionRegion:_x,SupabaseClient:wx,createClient:Bf,GoTrueAdminApi:Sx,GoTrueClient:Ex,AuthAdminApi:xx,AuthClient:Ox,navigatorLock:Tx,NavigatorLockAcquireTimeoutError:Ax,lockInternals:jx,processLock:Rx,SIGN_OUT_SCOPES:Nx,AuthError:Cx,AuthApiError:kx,AuthUnknownError:Dx,CustomAuthError:Mx,AuthSessionMissingError:Ux,AuthInvalidTokenResponseError:Lx,AuthInvalidCredentialsError:Bx,AuthImplicitGrantRedirectError:zx,AuthPKCEGrantCodeExchangeError:qx,AuthRetryableFetchError:Hx,AuthWeakPasswordError:$x,AuthInvalidJwtError:Px,isAuthError:Ix,isAuthApiError:Gx,isAuthSessionMissingError:Vx,isAuthImplicitGrantRedirectError:Kx,isAuthRetryableFetchError:Xx,isAuthWeakPasswordError:Yx,RealtimePresence:Fx,RealtimeChannel:Qx,RealtimeClient:Zx,REALTIME_LISTEN_TYPES:Jx,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Wx,REALTIME_PRESENCE_LISTEN_EVENTS:eO,REALTIME_SUBSCRIBE_STATES:tO,REALTIME_CHANNEL_STATES:nO}=hp||DS,vp="zebra_supabase_url",gp="zebra_supabase_key";let Bt=null;const mp=()=>{const l=localStorage.getItem(vp),r=localStorage.getItem(gp);return{url:l||""||"",key:r||""||""}},{url:Gg,key:Vg}=mp();Gg&&Vg&&(Bt=Bf(Gg,Vg));const yp={async init(){const{url:l,key:r}=mp();l&&r&&!Bt&&(Bt=Bf(l,r)),Bt?console.log("Supabase Service Initialized"):console.warn("Supabase credentials missing. Service inactive.")},updateCredentials(l,r){localStorage.setItem(vp,l),localStorage.setItem(gp,r),l&&r&&(Bt=Bf(l,r),window.location.reload())},async getUsers(){if(!Bt)return[];const{data:l,error:r}=await Bt.from("users").select("*");return r?(console.error("Supabase Users Error:",r),[]):l},async getProducts(){if(!Bt)return[];const{data:l,error:r}=await Bt.from("products").select("*");return r?(console.error("Supabase Products Error:",r),[]):l.map(a=>({...a,sorts:typeof a.sorts=="string"?JSON.parse(a.sorts):a.sorts}))},async getHistory(){if(!Bt)return[];const{data:l,error:r}=await Bt.from("history").select("*").order("created_at",{ascending:!1}).limit(100);return r?(console.error("Supabase History Error:",r),[]):l.map(a=>({date:a.created_at,product:{name:a.product_name,sku:a.sku,id:"0"},weight:a.weight,serialNumber:a.serial_number,sortLabel:a.sort_label,sortValue:a.sort_value}))},async addToHistory(l){var s,o;if(!Bt)return;const r={product_name:(s=l.product)==null?void 0:s.name,sku:(o=l.product)==null?void 0:o.sku,weight:l.weight,serial_number:l.serialNumber,sort_label:l.sortLabel,sort_value:l.sortValue,created_at:l.timestamp||new Date().toISOString()},{error:a}=await Bt.from("history").insert([r]);a&&console.error("Supabase Insert Error:",a)}},mf="zebra_data_source",Zi={getService(){fn.getPlatform();let l=localStorage.getItem(mf);return l||(l="sqlite"),l==="supabase"?(console.log("--- Using Supabase Data Source ---"),yp):Zm},async init(){await this.getService().init()},setDataSource(l){localStorage.setItem(mf,l),window.location.reload()},getDataSource(){const l=localStorage.getItem(mf);if(l==="sqlite"||l==="supabase")return l;const r="sqlite";return r==="sqlite"||r==="supabase"?r:"sqlite"}},MS=({onKeyPress:l,onClear:r,onBackspace:a})=>{const s=["7","8","9","4","5","6","1","2","3",".","0"];return S.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[s.map(o=>S.jsx("button",{onClick:()=>l(o),className:"bg-[#CB8E00] hover:bg-[#b07b00] border border-[#a67400] text-white font-bold py-3 md:py-4 rounded-lg shadow-sm active:scale-95 transition-all text-lg md:text-xl",children:o},o)),S.jsx("button",{onClick:a,className:"bg-[#d9a21b] hover:bg-[#b07b00] border border-[#a67400] text-white font-bold py-3 md:py-4 rounded-lg shadow-sm active:scale-95 transition-all",children:""}),S.jsx("button",{onClick:r,className:"col-span-3 bg-slate-200 hover:bg-slate-300 text-slate-700 font-bold py-2 md:py-3 rounded-lg border border-slate-300 active:scale-95 transition-all uppercase text-xs md:text-sm tracking-wider",children:""})]})};var Dl={},Hi={},Ml={},Kg;function Ft(){if(Kg)return Ml;Kg=1,Object.defineProperty(Ml,"__esModule",{value:!0});function l(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}var r=function a(s,o){l(this,a),this.data=s,this.text=o.text||s,this.options=o};return Ml.default=r,Ml}var Xg;function US(){if(Xg)return Hi;Xg=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.CODE39=void 0;var l=(function(){function E(O,R){for(var M=0;M<R.length;M++){var U=R[M];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(O,U.key,U)}}return function(O,R,M){return R&&E(O.prototype,R),M&&E(O,M),O}})(),r=Ft(),a=s(r);function s(E){return E&&E.__esModule?E:{default:E}}function o(E,O){if(!(E instanceof O))throw new TypeError("Cannot call a class as a function")}function u(E,O){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:E}function d(E,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);E.prototype=Object.create(O&&O.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(E,O):E.__proto__=O)}var y=(function(E){d(O,E);function O(R,M){return o(this,O),R=R.toUpperCase(),M.mod43&&(R+=m(w(R))),u(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,R,M))}return l(O,[{key:"encode",value:function(){for(var M=v("*"),U=0;U<this.data.length;U++)M+=v(this.data[U])+"0";return M+=v("*"),{data:M,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),O})(a.default),g=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],f=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function v(E){return p(b(E))}function p(E){return f[E].toString(2)}function m(E){return g[E]}function b(E){return g.indexOf(E)}function w(E){for(var O=0,R=0;R<E.length;R++)O+=b(E[R]);return O=O%43,O}return Hi.CODE39=y,Hi}var en={},Ul={},Ll={},Ge={},Yg;function ts(){if(Yg)return Ge;Yg=1,Object.defineProperty(Ge,"__esModule",{value:!0});var l;function r(g,f,v){return f in g?Object.defineProperty(g,f,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[f]=v,g}var a=Ge.SET_A=0,s=Ge.SET_B=1,o=Ge.SET_C=2;Ge.SHIFT=98;var u=Ge.START_A=103,d=Ge.START_B=104,y=Ge.START_C=105;return Ge.MODULO=103,Ge.STOP=106,Ge.FNC1=207,Ge.SET_BY_CODE=(l={},r(l,u,a),r(l,d,s),r(l,y,o),l),Ge.SWAP={101:a,100:s,99:o},Ge.A_START_CHAR="",Ge.B_START_CHAR="",Ge.C_START_CHAR="",Ge.A_CHARS="[\0-_-]",Ge.B_CHARS="[ --]",Ge.C_CHARS="(*[0-9]{2}*)",Ge.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],Ge}var Fg;function zo(){if(Fg)return Ll;Fg=1,Object.defineProperty(Ll,"__esModule",{value:!0});var l=(function(){function f(v,p){for(var m=0;m<p.length;m++){var b=p[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,p,m){return p&&f(v.prototype,p),m&&f(v,m),v}})(),r=Ft(),a=o(r),s=ts();function o(f){return f&&f.__esModule?f:{default:f}}function u(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function d(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function y(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var g=(function(f){y(v,f);function v(p,m){u(this,v);var b=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,p.substring(1),m));return b.bytes=p.split("").map(function(w){return w.charCodeAt(0)}),b}return l(v,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var m=this.bytes,b=m.shift()-105,w=s.SET_BY_CODE[b];if(w===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&m.unshift(s.FNC1);var E=v.next(m,1,w);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:v.getBar(b)+E.result+v.getBar((E.checksum+b)%s.MODULO)+v.getBar(s.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var m=this.options.ean128||!1;return typeof m=="string"&&(m=m.toLowerCase()==="true"),m}}],[{key:"getBar",value:function(m){return s.BARS[m]?s.BARS[m].toString():""}},{key:"correctIndex",value:function(m,b){if(b===s.SET_A){var w=m.shift();return w<32?w+64:w-32}else return b===s.SET_B?m.shift()-32:(m.shift()-48)*10+m.shift()-48}},{key:"next",value:function(m,b,w){if(!m.length)return{result:"",checksum:0};var E=void 0,O=void 0;if(m[0]>=200){O=m.shift()-105;var R=s.SWAP[O];R!==void 0?E=v.next(m,b+1,R):((w===s.SET_A||w===s.SET_B)&&O===s.SHIFT&&(m[0]=w===s.SET_A?m[0]>95?m[0]-96:m[0]:m[0]<32?m[0]+96:m[0]),E=v.next(m,b+1,w))}else O=v.correctIndex(m,w),E=v.next(m,b+1,w);var M=v.getBar(O),U=O*b;return{result:M+E.result,checksum:U+E.checksum}}}]),v})(a.default);return Ll.default=g,Ll}var Bl={},Qg;function LS(){if(Qg)return Bl;Qg=1,Object.defineProperty(Bl,"__esModule",{value:!0});var l=ts(),r=function(y){return y.match(new RegExp("^"+l.A_CHARS+"*"))[0].length},a=function(y){return y.match(new RegExp("^"+l.B_CHARS+"*"))[0].length},s=function(y){return y.match(new RegExp("^"+l.C_CHARS+"*"))[0]};function o(d,y){var g=y?l.A_CHARS:l.B_CHARS,f=d.match(new RegExp("^("+g+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(f)return f[1]+""+u(d.substring(f[1].length));var v=d.match(new RegExp("^"+g+"+"))[0];return v.length===d.length?d:v+String.fromCharCode(y?205:206)+o(d.substring(v.length),!y)}function u(d){var y=s(d),g=y.length;if(g===d.length)return d;d=d.substring(g);var f=r(d)>=a(d);return y+String.fromCharCode(f?206:205)+o(d,f)}return Bl.default=function(d){var y=void 0,g=s(d).length;if(g>=2)y=l.C_START_CHAR+u(d);else{var f=r(d)>a(d);y=(f?l.A_START_CHAR:l.B_START_CHAR)+o(d,f)}return y.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(v,p){return""+p})},Bl}var Zg;function BS(){if(Zg)return Ul;Zg=1,Object.defineProperty(Ul,"__esModule",{value:!0});var l=zo(),r=o(l),a=LS(),s=o(a);function o(f){return f&&f.__esModule?f:{default:f}}function u(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function d(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function y(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var g=(function(f){y(v,f);function v(p,m){if(u(this,v),/^[\x00-\x7F\xC8-\xD3]+$/.test(p))var b=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,(0,s.default)(p),m));else var b=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,p,m));return d(b)}return v})(r.default);return Ul.default=g,Ul}var zl={},Jg;function zS(){if(Jg)return zl;Jg=1,Object.defineProperty(zl,"__esModule",{value:!0});var l=(function(){function f(v,p){for(var m=0;m<p.length;m++){var b=p[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,p,m){return p&&f(v.prototype,p),m&&f(v,m),v}})(),r=zo(),a=o(r),s=ts();function o(f){return f&&f.__esModule?f:{default:f}}function u(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function d(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function y(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var g=(function(f){y(v,f);function v(p,m){return u(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,s.A_START_CHAR+p,m))}return l(v,[{key:"valid",value:function(){return new RegExp("^"+s.A_CHARS+"+$").test(this.data)}}]),v})(a.default);return zl.default=g,zl}var ql={},Wg;function qS(){if(Wg)return ql;Wg=1,Object.defineProperty(ql,"__esModule",{value:!0});var l=(function(){function f(v,p){for(var m=0;m<p.length;m++){var b=p[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,p,m){return p&&f(v.prototype,p),m&&f(v,m),v}})(),r=zo(),a=o(r),s=ts();function o(f){return f&&f.__esModule?f:{default:f}}function u(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function d(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function y(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var g=(function(f){y(v,f);function v(p,m){return u(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,s.B_START_CHAR+p,m))}return l(v,[{key:"valid",value:function(){return new RegExp("^"+s.B_CHARS+"+$").test(this.data)}}]),v})(a.default);return ql.default=g,ql}var Hl={},em;function HS(){if(em)return Hl;em=1,Object.defineProperty(Hl,"__esModule",{value:!0});var l=(function(){function f(v,p){for(var m=0;m<p.length;m++){var b=p[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,p,m){return p&&f(v.prototype,p),m&&f(v,m),v}})(),r=zo(),a=o(r),s=ts();function o(f){return f&&f.__esModule?f:{default:f}}function u(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function d(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function y(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var g=(function(f){y(v,f);function v(p,m){return u(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,s.C_START_CHAR+p,m))}return l(v,[{key:"valid",value:function(){return new RegExp("^"+s.C_CHARS+"+$").test(this.data)}}]),v})(a.default);return Hl.default=g,Hl}var tm;function $S(){if(tm)return en;tm=1,Object.defineProperty(en,"__esModule",{value:!0}),en.CODE128C=en.CODE128B=en.CODE128A=en.CODE128=void 0;var l=BS(),r=g(l),a=zS(),s=g(a),o=qS(),u=g(o),d=HS(),y=g(d);function g(f){return f&&f.__esModule?f:{default:f}}return en.CODE128=r.default,en.CODE128A=s.default,en.CODE128B=u.default,en.CODE128C=y.default,en}var gt={},$l={},Dn={},nm;function ns(){return nm||(nm=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.SIDE_BIN="101",Dn.MIDDLE_BIN="01010",Dn.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},Dn.EAN2_STRUCTURE=["LL","LG","GL","GG"],Dn.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],Dn.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),Dn}var Pl={},Il={},rm;function rs(){if(rm)return Il;rm=1,Object.defineProperty(Il,"__esModule",{value:!0});var l=ns(),r=function(s,o,u){var d=s.split("").map(function(g,f){return l.BINARIES[o[f]]}).map(function(g,f){return g?g[s[f]]:""});if(u){var y=s.length-1;d=d.map(function(g,f){return f<y?g+u:g})}return d.join("")};return Il.default=r,Il}var am;function pp(){if(am)return Pl;am=1,Object.defineProperty(Pl,"__esModule",{value:!0});var l=(function(){function p(m,b){for(var w=0;w<b.length;w++){var E=b[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,E.key,E)}}return function(m,b,w){return b&&p(m.prototype,b),w&&p(m,w),m}})(),r=ns(),a=rs(),s=d(a),o=Ft(),u=d(o);function d(p){return p&&p.__esModule?p:{default:p}}function y(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function g(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var v=(function(p){f(m,p);function m(b,w){y(this,m);var E=g(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,b,w));return E.fontSize=!w.flat&&w.fontSize>w.width*10?w.width*10:w.fontSize,E.guardHeight=w.height+E.fontSize/2+w.textMargin,E}return l(m,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(w,E){return this.text.substr(w,E)}},{key:"leftEncode",value:function(w,E){return(0,s.default)(w,E)}},{key:"rightText",value:function(w,E){return this.text.substr(w,E)}},{key:"rightEncode",value:function(w,E){return(0,s.default)(w,E)}},{key:"encodeGuarded",value:function(){var w={fontSize:this.fontSize},E={height:this.guardHeight};return[{data:r.SIDE_BIN,options:E},{data:this.leftEncode(),text:this.leftText(),options:w},{data:r.MIDDLE_BIN,options:E},{data:this.rightEncode(),text:this.rightText(),options:w},{data:r.SIDE_BIN,options:E}]}},{key:"encodeFlat",value:function(){var w=[r.SIDE_BIN,this.leftEncode(),r.MIDDLE_BIN,this.rightEncode(),r.SIDE_BIN];return{data:w.join(""),text:this.text}}}]),m})(u.default);return Pl.default=v,Pl}var im;function PS(){if(im)return $l;im=1,Object.defineProperty($l,"__esModule",{value:!0});var l=(function(){function p(m,b){for(var w=0;w<b.length;w++){var E=b[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,E.key,E)}}return function(m,b,w){return b&&p(m.prototype,b),w&&p(m,w),m}})(),r=function p(m,b,w){m===null&&(m=Function.prototype);var E=Object.getOwnPropertyDescriptor(m,b);if(E===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:p(O,b,w)}else{if("value"in E)return E.value;var R=E.get;return R===void 0?void 0:R.call(w)}},a=ns(),s=pp(),o=u(s);function u(p){return p&&p.__esModule?p:{default:p}}function d(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function y(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function g(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=function(m){var b=m.substr(0,12).split("").map(function(w){return+w}).reduce(function(w,E,O){return O%2?w+E*3:w+E},0);return(10-b%10)%10},v=(function(p){g(m,p);function m(b,w){d(this,m),b.search(/^[0-9]{12}$/)!==-1&&(b+=f(b));var E=y(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,b,w));return E.lastChar=w.lastChar,E}return l(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===f(this.data)}},{key:"leftText",value:function(){return r(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var w=this.data.substr(1,6),E=a.EAN13_STRUCTURE[this.data[0]];return r(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"leftEncode",this).call(this,w,E)}},{key:"rightText",value:function(){return r(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var w=this.data.substr(7,6);return r(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"rightEncode",this).call(this,w,"RRRRRR")}},{key:"encodeGuarded",value:function(){var w=r(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(w.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(w.push({data:"00"}),w.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),w}}]),m})(o.default);return $l.default=v,$l}var Gl={},sm;function IS(){if(sm)return Gl;sm=1,Object.defineProperty(Gl,"__esModule",{value:!0});var l=(function(){function v(p,m){for(var b=0;b<m.length;b++){var w=m[b];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,m,b){return m&&v(p.prototype,m),b&&v(p,b),p}})(),r=function v(p,m,b){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,m);if(w===void 0){var E=Object.getPrototypeOf(p);return E===null?void 0:v(E,m,b)}else{if("value"in w)return w.value;var O=w.get;return O===void 0?void 0:O.call(b)}},a=pp(),s=o(a);function o(v){return v&&v.__esModule?v:{default:v}}function u(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function d(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:v}function y(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var g=function(p){var m=p.substr(0,7).split("").map(function(b){return+b}).reduce(function(b,w,E){return E%2?b+w:b+w*3},0);return(10-m%10)%10},f=(function(v){y(p,v);function p(m,b){return u(this,p),m.search(/^[0-9]{7}$/)!==-1&&(m+=g(m)),d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,m,b))}return l(p,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===g(this.data)}},{key:"leftText",value:function(){return r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var b=this.data.substr(0,4);return r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"leftEncode",this).call(this,b,"LLLL")}},{key:"rightText",value:function(){return r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var b=this.data.substr(4,4);return r(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"rightEncode",this).call(this,b,"RRRR")}}]),p})(s.default);return Gl.default=f,Gl}var Vl={},lm;function GS(){if(lm)return Vl;lm=1,Object.defineProperty(Vl,"__esModule",{value:!0});var l=(function(){function m(b,w){for(var E=0;E<w.length;E++){var O=w[E];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}return function(b,w,E){return w&&m(b.prototype,w),E&&m(b,E),b}})(),r=ns(),a=rs(),s=d(a),o=Ft(),u=d(o);function d(m){return m&&m.__esModule?m:{default:m}}function y(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}function g(m,b){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:m}function f(m,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);m.prototype=Object.create(b&&b.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(m,b):m.__proto__=b)}var v=function(b){var w=b.split("").map(function(E){return+E}).reduce(function(E,O,R){return R%2?E+O*9:E+O*3},0);return w%10},p=(function(m){f(b,m);function b(w,E){return y(this,b),g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,w,E))}return l(b,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var E=r.EAN5_STRUCTURE[v(this.data)];return{data:"1011"+(0,s.default)(this.data,E,"01"),text:this.text}}}]),b})(u.default);return Vl.default=p,Vl}var Kl={},om;function VS(){if(om)return Kl;om=1,Object.defineProperty(Kl,"__esModule",{value:!0});var l=(function(){function p(m,b){for(var w=0;w<b.length;w++){var E=b[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,E.key,E)}}return function(m,b,w){return b&&p(m.prototype,b),w&&p(m,w),m}})(),r=ns(),a=rs(),s=d(a),o=Ft(),u=d(o);function d(p){return p&&p.__esModule?p:{default:p}}function y(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function g(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var v=(function(p){f(m,p);function m(b,w){return y(this,m),g(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,b,w))}return l(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var w=r.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,s.default)(this.data,w,"01"),text:this.text}}}]),m})(u.default);return Kl.default=v,Kl}var $i={},um;function bp(){if(um)return $i;um=1,Object.defineProperty($i,"__esModule",{value:!0});var l=(function(){function p(m,b){for(var w=0;w<b.length;w++){var E=b[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(m,E.key,E)}}return function(m,b,w){return b&&p(m.prototype,b),w&&p(m,w),m}})();$i.checksum=v;var r=rs(),a=u(r),s=Ft(),o=u(s);function u(p){return p&&p.__esModule?p:{default:p}}function d(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function y(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function g(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var f=(function(p){g(m,p);function m(b,w){d(this,m),b.search(/^[0-9]{11}$/)!==-1&&(b+=v(b));var E=y(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,b,w));return E.displayValue=w.displayValue,w.fontSize>w.width*10?E.fontSize=w.width*10:E.fontSize=w.fontSize,E.guardHeight=w.height+E.fontSize/2+w.textMargin,E}return l(m,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==v(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var w="";return w+="101",w+=(0,a.default)(this.data.substr(0,6),"LLLLLL"),w+="01010",w+=(0,a.default)(this.data.substr(6,6),"RRRRRR"),w+="101",{data:w,text:this.text}}},{key:"guardedEncoding",value:function(){var w=[];return this.displayValue&&w.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),w.push({data:"101"+(0,a.default)(this.data[0],"L"),options:{height:this.guardHeight}}),w.push({data:(0,a.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),w.push({data:"01010",options:{height:this.guardHeight}}),w.push({data:(0,a.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),w.push({data:(0,a.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&w.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),w}}]),m})(o.default);function v(p){var m=0,b;for(b=1;b<11;b+=2)m+=parseInt(p[b]);for(b=0;b<11;b+=2)m+=parseInt(p[b])*3;return(10-m%10)%10}return $i.default=f,$i}var Xl={},cm;function KS(){if(cm)return Xl;cm=1,Object.defineProperty(Xl,"__esModule",{value:!0});var l=(function(){function w(E,O){for(var R=0;R<O.length;R++){var M=O[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(E,M.key,M)}}return function(E,O,R){return O&&w(E.prototype,O),R&&w(E,R),E}})(),r=rs(),a=d(r),s=Ft(),o=d(s),u=bp();function d(w){return w&&w.__esModule?w:{default:w}}function y(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function g(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:w}function f(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}var v=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],p=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],m=(function(w){f(E,w);function E(O,R){y(this,E);var M=g(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,O,R));if(M.isValid=!1,O.search(/^[0-9]{6}$/)!==-1)M.middleDigits=O,M.upcA=b(O,"0"),M.text=R.text||""+M.upcA[0]+O+M.upcA[M.upcA.length-1],M.isValid=!0;else if(O.search(/^[01][0-9]{7}$/)!==-1)if(M.middleDigits=O.substring(1,O.length-1),M.upcA=b(M.middleDigits,O[0]),M.upcA[M.upcA.length-1]===O[O.length-1])M.isValid=!0;else return g(M);else return g(M);return M.displayValue=R.displayValue,R.fontSize>R.width*10?M.fontSize=R.width*10:M.fontSize=R.fontSize,M.guardHeight=R.height+M.fontSize/2+R.textMargin,M}return l(E,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var R="";return R+="101",R+=this.encodeMiddleDigits(),R+="010101",{data:R,text:this.text}}},{key:"guardedEncoding",value:function(){var R=[];return this.displayValue&&R.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),R.push({data:"101",options:{height:this.guardHeight}}),R.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),R.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&R.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),R}},{key:"encodeMiddleDigits",value:function(){var R=this.upcA[0],M=this.upcA[this.upcA.length-1],U=p[parseInt(M)][parseInt(R)];return(0,a.default)(this.middleDigits,U)}}]),E})(o.default);function b(w,E){for(var O=parseInt(w[w.length-1]),R=v[O],M="",U=0,P=0;P<R.length;P++){var ee=R[P];ee==="X"?M+=w[U++]:M+=ee}return M=""+E+M,""+M+(0,u.checksum)(M)}return Xl.default=m,Xl}var fm;function XS(){if(fm)return gt;fm=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.UPCE=gt.UPC=gt.EAN2=gt.EAN5=gt.EAN8=gt.EAN13=void 0;var l=PS(),r=m(l),a=IS(),s=m(a),o=GS(),u=m(o),d=VS(),y=m(d),g=bp(),f=m(g),v=KS(),p=m(v);function m(b){return b&&b.__esModule?b:{default:b}}return gt.EAN13=r.default,gt.EAN8=s.default,gt.EAN5=u.default,gt.EAN2=y.default,gt.UPC=f.default,gt.UPCE=p.default,gt}var Cr={},Yl={},Ra={},dm;function YS(){return dm||(dm=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.START_BIN="1010",Ra.END_BIN="11101",Ra.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),Ra}var hm;function _p(){if(hm)return Yl;hm=1,Object.defineProperty(Yl,"__esModule",{value:!0});var l=(function(){function f(v,p){for(var m=0;m<p.length;m++){var b=p[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,p,m){return p&&f(v.prototype,p),m&&f(v,m),v}})(),r=YS(),a=Ft(),s=o(a);function o(f){return f&&f.__esModule?f:{default:f}}function u(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function d(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function y(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var g=(function(f){y(v,f);function v(){return u(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return l(v,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var m=this,b=this.data.match(/.{2}/g).map(function(w){return m.encodePair(w)}).join("");return{data:r.START_BIN+b+r.END_BIN,text:this.text}}},{key:"encodePair",value:function(m){var b=r.BINARIES[m[1]];return r.BINARIES[m[0]].split("").map(function(w,E){return(w==="1"?"111":"1")+(b[E]==="1"?"000":"0")}).join("")}}]),v})(s.default);return Yl.default=g,Yl}var Fl={},vm;function FS(){if(vm)return Fl;vm=1,Object.defineProperty(Fl,"__esModule",{value:!0});var l=(function(){function f(v,p){for(var m=0;m<p.length;m++){var b=p[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,p,m){return p&&f(v.prototype,p),m&&f(v,m),v}})(),r=_p(),a=s(r);function s(f){return f&&f.__esModule?f:{default:f}}function o(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function u(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function d(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var y=function(v){var p=v.substr(0,13).split("").map(function(m){return parseInt(m,10)}).reduce(function(m,b,w){return m+b*(3-w%2*2)},0);return Math.ceil(p/10)*10-p},g=(function(f){d(v,f);function v(p,m){return o(this,v),p.search(/^[0-9]{13}$/)!==-1&&(p+=y(p)),u(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,p,m))}return l(v,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===y(this.data)}}]),v})(a.default);return Fl.default=g,Fl}var gm;function QS(){if(gm)return Cr;gm=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.ITF14=Cr.ITF=void 0;var l=_p(),r=o(l),a=FS(),s=o(a);function o(u){return u&&u.__esModule?u:{default:u}}return Cr.ITF=r.default,Cr.ITF14=s.default,Cr}var Ut={},Ql={},mm;function as(){if(mm)return Ql;mm=1,Object.defineProperty(Ql,"__esModule",{value:!0});var l=(function(){function f(v,p){for(var m=0;m<p.length;m++){var b=p[m];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,p,m){return p&&f(v.prototype,p),m&&f(v,m),v}})(),r=Ft(),a=s(r);function s(f){return f&&f.__esModule?f:{default:f}}function o(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}function u(f,v){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:f}function d(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(f,v):f.__proto__=v)}var y=(function(f){d(v,f);function v(p,m){return o(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,p,m))}return l(v,[{key:"encode",value:function(){for(var m="110",b=0;b<this.data.length;b++){var w=parseInt(this.data[b]),E=w.toString(2);E=g(E,4-E.length);for(var O=0;O<E.length;O++)m+=E[O]=="0"?"100":"110"}return m+="1001",{data:m,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),v})(a.default);function g(f,v){for(var p=0;p<v;p++)f="0"+f;return f}return Ql.default=y,Ql}var Zl={},Pi={},ym;function qo(){if(ym)return Pi;ym=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.mod10=l,Pi.mod11=r;function l(a){for(var s=0,o=0;o<a.length;o++){var u=parseInt(a[o]);(o+a.length)%2===0?s+=u:s+=u*2%10+Math.floor(u*2/10)}return(10-s%10)%10}function r(a){for(var s=0,o=[2,3,4,5,6,7],u=0;u<a.length;u++){var d=parseInt(a[a.length-1-u]);s+=o[u%o.length]*d}return(11-s%11)%11}return Pi}var pm;function ZS(){if(pm)return Zl;pm=1,Object.defineProperty(Zl,"__esModule",{value:!0});var l=as(),r=s(l),a=qo();function s(g){return g&&g.__esModule?g:{default:g}}function o(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}function u(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:g}function d(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}var y=(function(g){d(f,g);function f(v,p){return o(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v+(0,a.mod10)(v),p))}return f})(r.default);return Zl.default=y,Zl}var Jl={},bm;function JS(){if(bm)return Jl;bm=1,Object.defineProperty(Jl,"__esModule",{value:!0});var l=as(),r=s(l),a=qo();function s(g){return g&&g.__esModule?g:{default:g}}function o(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}function u(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:g}function d(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}var y=(function(g){d(f,g);function f(v,p){return o(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v+(0,a.mod11)(v),p))}return f})(r.default);return Jl.default=y,Jl}var Wl={},_m;function WS(){if(_m)return Wl;_m=1,Object.defineProperty(Wl,"__esModule",{value:!0});var l=as(),r=s(l),a=qo();function s(g){return g&&g.__esModule?g:{default:g}}function o(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}function u(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:g}function d(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}var y=(function(g){d(f,g);function f(v,p){return o(this,f),v+=(0,a.mod10)(v),v+=(0,a.mod10)(v),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v,p))}return f})(r.default);return Wl.default=y,Wl}var eo={},wm;function eE(){if(wm)return eo;wm=1,Object.defineProperty(eo,"__esModule",{value:!0});var l=as(),r=s(l),a=qo();function s(g){return g&&g.__esModule?g:{default:g}}function o(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}function u(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:g}function d(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}var y=(function(g){d(f,g);function f(v,p){return o(this,f),v+=(0,a.mod11)(v),v+=(0,a.mod10)(v),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v,p))}return f})(r.default);return eo.default=y,eo}var Sm;function tE(){if(Sm)return Ut;Sm=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.MSI1110=Ut.MSI1010=Ut.MSI11=Ut.MSI10=Ut.MSI=void 0;var l=as(),r=v(l),a=ZS(),s=v(a),o=JS(),u=v(o),d=WS(),y=v(d),g=eE(),f=v(g);function v(p){return p&&p.__esModule?p:{default:p}}return Ut.MSI=r.default,Ut.MSI10=s.default,Ut.MSI11=u.default,Ut.MSI1010=y.default,Ut.MSI1110=f.default,Ut}var Ii={},Em;function nE(){if(Em)return Ii;Em=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.pharmacode=void 0;var l=(function(){function g(f,v){for(var p=0;p<v.length;p++){var m=v[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,v,p){return v&&g(f.prototype,v),p&&g(f,p),f}})(),r=Ft(),a=s(r);function s(g){return g&&g.__esModule?g:{default:g}}function o(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}function u(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:g}function d(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}var y=(function(g){d(f,g);function f(v,p){o(this,f);var m=u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v,p));return m.number=parseInt(v,10),m}return l(f,[{key:"encode",value:function(){for(var p=this.number,m="";!isNaN(p)&&p!=0;)p%2===0?(m="11100"+m,p=(p-2)/2):(m="100"+m,p=(p-1)/2);return m=m.slice(0,-2),{data:m,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),f})(a.default);return Ii.pharmacode=y,Ii}var Gi={},xm;function rE(){if(xm)return Gi;xm=1,Object.defineProperty(Gi,"__esModule",{value:!0}),Gi.codabar=void 0;var l=(function(){function g(f,v){for(var p=0;p<v.length;p++){var m=v[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,v,p){return v&&g(f.prototype,v),p&&g(f,p),f}})(),r=Ft(),a=s(r);function s(g){return g&&g.__esModule?g:{default:g}}function o(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}function u(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:g}function d(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}var y=(function(g){d(f,g);function f(v,p){o(this,f),v.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(v="A"+v+"A");var m=u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v.toUpperCase(),p));return m.text=m.options.text||m.text.replace(/[A-D]/g,""),m}return l(f,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var p=[],m=this.getEncodings(),b=0;b<this.data.length;b++)p.push(m[this.data.charAt(b)]),b!==this.data.length-1&&p.push("0");return{text:this.text,data:p.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),f})(a.default);return Gi.codabar=y,Gi}var Vi={},Om;function aE(){if(Om)return Vi;Om=1,Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.GenericBarcode=void 0;var l=(function(){function g(f,v){for(var p=0;p<v.length;p++){var m=v[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,v,p){return v&&g(f.prototype,v),p&&g(f,p),f}})(),r=Ft(),a=s(r);function s(g){return g&&g.__esModule?g:{default:g}}function o(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}function u(g,f){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:g}function d(g,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);g.prototype=Object.create(f&&f.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(g,f):g.__proto__=f)}var y=(function(g){d(f,g);function f(v,p){return o(this,f),u(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,v,p))}return l(f,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),f})(a.default);return Vi.GenericBarcode=y,Vi}var Tm;function iE(){if(Tm)return Dl;Tm=1,Object.defineProperty(Dl,"__esModule",{value:!0});var l=US(),r=$S(),a=XS(),s=QS(),o=tE(),u=nE(),d=rE(),y=aE();return Dl.default={CODE39:l.CODE39,CODE128:r.CODE128,CODE128A:r.CODE128A,CODE128B:r.CODE128B,CODE128C:r.CODE128C,EAN13:a.EAN13,EAN8:a.EAN8,EAN5:a.EAN5,EAN2:a.EAN2,UPC:a.UPC,UPCE:a.UPCE,ITF14:s.ITF14,ITF:s.ITF,MSI:o.MSI,MSI10:o.MSI10,MSI11:o.MSI11,MSI1010:o.MSI1010,MSI1110:o.MSI1110,pharmacode:u.pharmacode,codabar:d.codabar,GenericBarcode:y.GenericBarcode},Dl}var to={},Am;function Ho(){if(Am)return to;Am=1,Object.defineProperty(to,"__esModule",{value:!0});var l=Object.assign||function(r){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])}return r};return to.default=function(r,a){return l({},r,a)},to}var no={},jm;function sE(){if(jm)return no;jm=1,Object.defineProperty(no,"__esModule",{value:!0}),no.default=l;function l(r){var a=[];function s(o){if(Array.isArray(o))for(var u=0;u<o.length;u++)s(o[u]);else o.text=o.text||"",o.data=o.data||"",a.push(o)}return s(r),a}return no}var ro={},Rm;function lE(){if(Rm)return ro;Rm=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.default=l;function l(r){return r.marginTop=r.marginTop||r.margin,r.marginBottom=r.marginBottom||r.margin,r.marginRight=r.marginRight||r.margin,r.marginLeft=r.marginLeft||r.margin,r}return ro}var ao={},io={},so={},Nm;function wp(){if(Nm)return so;Nm=1,Object.defineProperty(so,"__esModule",{value:!0}),so.default=l;function l(r){var a=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var s in a)a.hasOwnProperty(s)&&(s=a[s],typeof r[s]=="string"&&(r[s]=parseInt(r[s],10)));return typeof r.displayValue=="string"&&(r.displayValue=r.displayValue!="false"),r}return so}var lo={},Cm;function Sp(){if(Cm)return lo;Cm=1,Object.defineProperty(lo,"__esModule",{value:!0});var l={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return lo.default=l,lo}var km;function oE(){if(km)return io;km=1,Object.defineProperty(io,"__esModule",{value:!0});var l=wp(),r=o(l),a=Sp(),s=o(a);function o(d){return d&&d.__esModule?d:{default:d}}function u(d){var y={};for(var g in s.default)s.default.hasOwnProperty(g)&&(d.hasAttribute("jsbarcode-"+g.toLowerCase())&&(y[g]=d.getAttribute("jsbarcode-"+g.toLowerCase())),d.hasAttribute("data-"+g.toLowerCase())&&(y[g]=d.getAttribute("data-"+g.toLowerCase())));return y.value=d.getAttribute("jsbarcode-value")||d.getAttribute("data-value"),y=(0,r.default)(y),y}return io.default=u,io}var oo={},uo={},Lt={},Dm;function Ep(){if(Dm)return Lt;Dm=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.getTotalWidthOfEncodings=Lt.calculateEncodingAttributes=Lt.getBarcodePadding=Lt.getEncodingHeight=Lt.getMaximumHeightOfEncodings=void 0;var l=Ho(),r=a(l);function a(f){return f&&f.__esModule?f:{default:f}}function s(f,v){return v.height+(v.displayValue&&f.text.length>0?v.fontSize+v.textMargin:0)+v.marginTop+v.marginBottom}function o(f,v,p){if(p.displayValue&&v<f){if(p.textAlign=="center")return Math.floor((f-v)/2);if(p.textAlign=="left")return 0;if(p.textAlign=="right")return Math.floor(f-v)}return 0}function u(f,v,p){for(var m=0;m<f.length;m++){var b=f[m],w=(0,r.default)(v,b.options),E;w.displayValue?E=g(b.text,w,p):E=0;var O=b.data.length*w.width;b.width=Math.ceil(Math.max(E,O)),b.height=s(b,w),b.barcodePadding=o(E,O,w)}}function d(f){for(var v=0,p=0;p<f.length;p++)v+=f[p].width;return v}function y(f){for(var v=0,p=0;p<f.length;p++)f[p].height>v&&(v=f[p].height);return v}function g(f,v,p){var m;if(p)m=p;else if(typeof document<"u")m=document.createElement("canvas").getContext("2d");else return 0;m.font=v.fontOptions+" "+v.fontSize+"px "+v.font;var b=m.measureText(f);if(!b)return 0;var w=b.width;return w}return Lt.getMaximumHeightOfEncodings=y,Lt.getEncodingHeight=s,Lt.getBarcodePadding=o,Lt.calculateEncodingAttributes=u,Lt.getTotalWidthOfEncodings=d,Lt}var Mm;function uE(){if(Mm)return uo;Mm=1,Object.defineProperty(uo,"__esModule",{value:!0});var l=(function(){function y(g,f){for(var v=0;v<f.length;v++){var p=f[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,p.key,p)}}return function(g,f,v){return f&&y(g.prototype,f),v&&y(g,v),g}})(),r=Ho(),a=o(r),s=Ep();function o(y){return y&&y.__esModule?y:{default:y}}function u(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}var d=(function(){function y(g,f,v){u(this,y),this.canvas=g,this.encodings=f,this.options=v}return l(y,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var f=0;f<this.encodings.length;f++){var v=(0,a.default)(this.options,this.encodings[f].options);this.drawCanvasBarcode(v,this.encodings[f]),this.drawCanvasText(v,this.encodings[f]),this.moveCanvasDrawing(this.encodings[f])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var f=this.canvas.getContext("2d");f.save(),(0,s.calculateEncodingAttributes)(this.encodings,this.options,f);var v=(0,s.getTotalWidthOfEncodings)(this.encodings),p=(0,s.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=v+this.options.marginLeft+this.options.marginRight,this.canvas.height=p,f.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(f.fillStyle=this.options.background,f.fillRect(0,0,this.canvas.width,this.canvas.height)),f.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(f,v){var p=this.canvas.getContext("2d"),m=v.data,b;f.textPosition=="top"?b=f.marginTop+f.fontSize+f.textMargin:b=f.marginTop,p.fillStyle=f.lineColor;for(var w=0;w<m.length;w++){var E=w*f.width+v.barcodePadding;m[w]==="1"?p.fillRect(E,b,f.width,f.height):m[w]&&p.fillRect(E,b,f.width,f.height*m[w])}}},{key:"drawCanvasText",value:function(f,v){var p=this.canvas.getContext("2d"),m=f.fontOptions+" "+f.fontSize+"px "+f.font;if(f.displayValue){var b,w;f.textPosition=="top"?w=f.marginTop+f.fontSize-f.textMargin:w=f.height+f.textMargin+f.marginTop+f.fontSize,p.font=m,f.textAlign=="left"||v.barcodePadding>0?(b=0,p.textAlign="left"):f.textAlign=="right"?(b=v.width-1,p.textAlign="right"):(b=v.width/2,p.textAlign="center"),p.fillText(v.text,b,w)}}},{key:"moveCanvasDrawing",value:function(f){var v=this.canvas.getContext("2d");v.translate(f.width,0)}},{key:"restoreCanvas",value:function(){var f=this.canvas.getContext("2d");f.restore()}}]),y})();return uo.default=d,uo}var co={},Um;function cE(){if(Um)return co;Um=1,Object.defineProperty(co,"__esModule",{value:!0});var l=(function(){function g(f,v){for(var p=0;p<v.length;p++){var m=v[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,v,p){return v&&g(f.prototype,v),p&&g(f,p),f}})(),r=Ho(),a=o(r),s=Ep();function o(g){return g&&g.__esModule?g:{default:g}}function u(g,f){if(!(g instanceof f))throw new TypeError("Cannot call a class as a function")}var d="http://www.w3.org/2000/svg",y=(function(){function g(f,v,p){u(this,g),this.svg=f,this.encodings=v,this.options=p,this.document=p.xmlDocument||document}return l(g,[{key:"render",value:function(){var v=this.options.marginLeft;this.prepareSVG();for(var p=0;p<this.encodings.length;p++){var m=this.encodings[p],b=(0,a.default)(this.options,m.options),w=this.createGroup(v,b.marginTop,this.svg);this.setGroupOptions(w,b),this.drawSvgBarcode(w,b,m),this.drawSVGText(w,b,m),v+=m.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,s.calculateEncodingAttributes)(this.encodings,this.options);var v=(0,s.getTotalWidthOfEncodings)(this.encodings),p=(0,s.getMaximumHeightOfEncodings)(this.encodings),m=v+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(m,p),this.options.background&&this.drawRect(0,0,m,p,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(v,p,m){var b=m.data,w;p.textPosition=="top"?w=p.fontSize+p.textMargin:w=0;for(var E=0,O=0,R=0;R<b.length;R++)O=R*p.width+m.barcodePadding,b[R]==="1"?E++:E>0&&(this.drawRect(O-p.width*E,w,p.width*E,p.height,v),E=0);E>0&&this.drawRect(O-p.width*(E-1),w,p.width*E,p.height,v)}},{key:"drawSVGText",value:function(v,p,m){var b=this.document.createElementNS(d,"text");if(p.displayValue){var w,E;b.setAttribute("style","font:"+p.fontOptions+" "+p.fontSize+"px "+p.font),p.textPosition=="top"?E=p.fontSize-p.textMargin:E=p.height+p.textMargin+p.fontSize,p.textAlign=="left"||m.barcodePadding>0?(w=0,b.setAttribute("text-anchor","start")):p.textAlign=="right"?(w=m.width-1,b.setAttribute("text-anchor","end")):(w=m.width/2,b.setAttribute("text-anchor","middle")),b.setAttribute("x",w),b.setAttribute("y",E),b.appendChild(this.document.createTextNode(m.text)),v.appendChild(b)}}},{key:"setSvgAttributes",value:function(v,p){var m=this.svg;m.setAttribute("width",v+"px"),m.setAttribute("height",p+"px"),m.setAttribute("x","0px"),m.setAttribute("y","0px"),m.setAttribute("viewBox","0 0 "+v+" "+p),m.setAttribute("xmlns",d),m.setAttribute("version","1.1"),m.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(v,p,m){var b=this.document.createElementNS(d,"g");return b.setAttribute("transform","translate("+v+", "+p+")"),m.appendChild(b),b}},{key:"setGroupOptions",value:function(v,p){v.setAttribute("style","fill:"+p.lineColor+";")}},{key:"drawRect",value:function(v,p,m,b,w){var E=this.document.createElementNS(d,"rect");return E.setAttribute("x",v),E.setAttribute("y",p),E.setAttribute("width",m),E.setAttribute("height",b),w.appendChild(E),E}}]),g})();return co.default=y,co}var fo={},Lm;function fE(){if(Lm)return fo;Lm=1,Object.defineProperty(fo,"__esModule",{value:!0});var l=(function(){function s(o,u){for(var d=0;d<u.length;d++){var y=u[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(o,y.key,y)}}return function(o,u,d){return u&&s(o.prototype,u),d&&s(o,d),o}})();function r(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}var a=(function(){function s(o,u,d){r(this,s),this.object=o,this.encodings=u,this.options=d}return l(s,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),s})();return fo.default=a,fo}var Bm;function dE(){if(Bm)return oo;Bm=1,Object.defineProperty(oo,"__esModule",{value:!0});var l=uE(),r=d(l),a=cE(),s=d(a),o=fE(),u=d(o);function d(y){return y&&y.__esModule?y:{default:y}}return oo.default={CanvasRenderer:r.default,SVGRenderer:s.default,ObjectRenderer:u.default},oo}var Na={},zm;function xp(){if(zm)return Na;zm=1,Object.defineProperty(Na,"__esModule",{value:!0});function l(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function r(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function a(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var s=(function(d){a(y,d);function y(g,f){l(this,y);var v=r(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return v.name="InvalidInputException",v.symbology=g,v.input=f,v.message='"'+v.input+'" is not a valid input for '+v.symbology,v}return y})(Error),o=(function(d){a(y,d);function y(){l(this,y);var g=r(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return g.name="InvalidElementException",g.message="Not supported type to render on",g}return y})(Error),u=(function(d){a(y,d);function y(){l(this,y);var g=r(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return g.name="NoElementException",g.message="No element to render on.",g}return y})(Error);return Na.InvalidInputException=s,Na.InvalidElementException=o,Na.NoElementException=u,Na}var qm;function hE(){if(qm)return ao;qm=1,Object.defineProperty(ao,"__esModule",{value:!0});var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},r=oE(),a=d(r),s=dE(),o=d(s),u=xp();function d(v){return v&&v.__esModule?v:{default:v}}function y(v){if(typeof v=="string")return g(v);if(Array.isArray(v)){for(var p=[],m=0;m<v.length;m++)p.push(y(v[m]));return p}else{if(typeof HTMLCanvasElement<"u"&&v instanceof HTMLImageElement)return f(v);if(v&&v.nodeName&&v.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&v instanceof SVGElement)return{element:v,options:(0,a.default)(v),renderer:o.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&v instanceof HTMLCanvasElement)return{element:v,options:(0,a.default)(v),renderer:o.default.CanvasRenderer};if(v&&v.getContext)return{element:v,renderer:o.default.CanvasRenderer};if(v&&(typeof v>"u"?"undefined":l(v))==="object"&&!v.nodeName)return{element:v,renderer:o.default.ObjectRenderer};throw new u.InvalidElementException}}function g(v){var p=document.querySelectorAll(v);if(p.length!==0){for(var m=[],b=0;b<p.length;b++)m.push(y(p[b]));return m}}function f(v){var p=document.createElement("canvas");return{element:p,options:(0,a.default)(v),renderer:o.default.CanvasRenderer,afterRender:function(){v.setAttribute("src",p.toDataURL())}}}return ao.default=y,ao}var ho={},Hm;function vE(){if(Hm)return ho;Hm=1,Object.defineProperty(ho,"__esModule",{value:!0});var l=(function(){function s(o,u){for(var d=0;d<u.length;d++){var y=u[d];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(o,y.key,y)}}return function(o,u,d){return u&&s(o.prototype,u),d&&s(o,d),o}})();function r(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}var a=(function(){function s(o){r(this,s),this.api=o}return l(s,[{key:"handleCatch",value:function(u){if(u.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw u.message;else throw u;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(u){try{var d=u.apply(void 0,arguments);return this.api._options.valid(!0),d}catch(y){return this.handleCatch(y),this.api}}}]),s})();return ho.default=a,ho}var yf,$m;function gE(){if($m)return yf;$m=1;var l=iE(),r=R(l),a=Ho(),s=R(a),o=sE(),u=R(o),d=lE(),y=R(d),g=hE(),f=R(g),v=wp(),p=R(v),m=vE(),b=R(m),w=xp(),E=Sp(),O=R(E);function R(K){return K&&K.__esModule?K:{default:K}}var M=function(){},U=function(se,ce,ne){var fe=new M;if(typeof se>"u")throw Error("No element to render on was provided.");return fe._renderProperties=(0,f.default)(se),fe._encodings=[],fe._options=O.default,fe._errorHandler=new b.default(fe),typeof ce<"u"&&(ne=ne||{},ne.format||(ne.format=V()),fe.options(ne)[ne.format](ce,ne).render()),fe};U.getModule=function(K){return r.default[K]};for(var P in r.default)r.default.hasOwnProperty(P)&&ee(r.default,P);function ee(K,se){M.prototype[se]=M.prototype[se.toUpperCase()]=M.prototype[se.toLowerCase()]=function(ce,ne){var fe=this;return fe._errorHandler.wrapBarcodeCall(function(){ne.text=typeof ne.text>"u"?void 0:""+ne.text;var Ee=(0,s.default)(fe._options,ne);Ee=(0,p.default)(Ee);var ae=K[se],B=Z(ce,ae,Ee);return fe._encodings.push(B),fe})}}function Z(K,se,ce){K=""+K;var ne=new se(K,ce);if(!ne.valid())throw new w.InvalidInputException(ne.constructor.name,K);var fe=ne.encode();fe=(0,u.default)(fe);for(var Ee=0;Ee<fe.length;Ee++)fe[Ee].options=(0,s.default)(ce,fe[Ee].options);return fe}function V(){return r.default.CODE128?"CODE128":Object.keys(r.default)[0]}M.prototype.options=function(K){return this._options=(0,s.default)(this._options,K),this},M.prototype.blank=function(K){var se=new Array(K+1).join("0");return this._encodings.push({data:se}),this},M.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var K;for(var se in this._renderProperties){K=this._renderProperties[se];var ce=(0,s.default)(this._options,K.options);ce.format=="auto"&&(ce.format=V()),this._errorHandler.wrapBarcodeCall(function(){var ne=ce.value,fe=r.default[ce.format.toUpperCase()],Ee=Z(ne,fe,ce);ie(K,Ee,ce)})}}},M.prototype.render=function(){if(!this._renderProperties)throw new w.NoElementException;if(Array.isArray(this._renderProperties))for(var K=0;K<this._renderProperties.length;K++)ie(this._renderProperties[K],this._encodings,this._options);else ie(this._renderProperties,this._encodings,this._options);return this},M.prototype._defaults=O.default;function ie(K,se,ce){se=(0,u.default)(se);for(var ne=0;ne<se.length;ne++)se[ne].options=(0,s.default)(ce,se[ne].options),(0,y.default)(se[ne].options);(0,y.default)(ce);var fe=K.renderer,Ee=new fe(K.element,se,ce);Ee.render(),K.afterRender&&K.afterRender()}return typeof window<"u"&&(window.JsBarcode=U),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(K,se){var ce=[];return jQuery(this).each(function(){ce.push(this)}),U(ce,K,se)}),yf=U,yf}var mE=gE();const yE=ko(mE),Da=()=>S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),pE=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),bE=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),zf=()=>S.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),_E=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),Wf=()=>S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),Pm=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),wE=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),SE=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),EE=()=>S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),xE=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),OE=()=>S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),TE=({data:l,sizeConfig:r,widthMm:a,heightMm:s,isSerialEditing:o,onSerialEdit:u,tempSerialInput:d,onSerialChange:y,onSerialBlur:g})=>{const f=re.useRef(null),v=(r==null?void 0:r.previewStyles)||{containerPadding:"p-6",titleSize:"text-xs",textSize:"text-lg",productSize:"text-2xl",weightSize:"text-5xl",weightLabelSize:"text-xl",barcodeHeight:60},p=(r==null?void 0:r.cssAspectRatio)||"1/1";return re.useEffect(()=>{if(f.current){const m=l.product?`${l.date}-${l.product.sku}-${l.serialNumber}-${l.weight||"0"}`:"00000000";try{yE(f.current,m,{format:"CODE128",width:1.5,height:v.barcodeHeight,displayValue:!0,font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:5,fontSize:10,background:"transparent",lineColor:"#0f172a",margin:0})}catch(b){console.error("Barcode generation error",b)}}},[l,v.barcodeHeight]),S.jsxs("div",{className:`w-full max-w-sm mx-auto bg-white border-2 border-slate-800 rounded-sm shadow-xl overflow-hidden relative flex flex-col select-none transition-transform duration-300 ${v.containerPadding}`,style:{aspectRatio:p},children:[S.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-slate-200/50"}),S.jsx("div",{className:"absolute top-2 right-2",children:S.jsx("img",{src:"/logo_bw.png",alt:"Logo",className:"h-8 object-contain opacity-90"})}),S.jsx("div",{className:"mb-2 text-center",children:S.jsx("p",{className:`${v.productSize} font-bold text-slate-900 leading-tight`,children:l.product?l.product.name:"---"})}),S.jsx("div",{className:"flex justify-center mb-4",children:S.jsxs("div",{className:"text-center border-b border-slate-300 pb-1 px-4",children:[S.jsx("p",{className:`${v.titleSize} text-slate-500 uppercase font-bold tracking-widest`,children:"Date"}),S.jsx("p",{className:"text-xl font-mono font-bold text-slate-900",children:l.date})]})}),S.jsxs("div",{className:"flex items-end justify-between mb-4 border-b-2 border-slate-900 pb-4 px-2",children:[S.jsxs("div",{children:[S.jsx("p",{className:`${v.titleSize} text-slate-500 uppercase font-bold tracking-widest`,children:"Weight"}),S.jsxs("div",{className:"flex items-baseline",children:[S.jsx("p",{className:`${v.weightSize} font-bold text-slate-900 tracking-tighter`,children:l.weight||"0.00"}),S.jsx("span",{className:`ml-1 ${v.weightLabelSize} font-bold text-slate-400`,children:"kg"})]})]}),S.jsxs("div",{className:"text-right mb-1",children:[S.jsx("p",{className:`${v.titleSize} text-slate-500 uppercase font-bold tracking-widest`,children:l.sortLabel||"Sort"}),S.jsx("p",{className:`${v.textSize} font-bold text-slate-800 mt-1`,children:l.sortValue||"____"})]})]}),S.jsxs("div",{className:"mt-auto flex flex-col items-center justify-end h-full",children:[S.jsxs("div",{className:"w-full mb-2",children:[S.jsx("p",{className:`${v.titleSize} text-slate-500 uppercase font-bold tracking-widest text-left`,children:"Serial No."}),S.jsx("div",{className:"flex items-center gap-2",children:o?S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{autoFocus:!0,type:"text",value:d,onChange:m=>y==null?void 0:y(m.target.value),onBlur:g,onKeyDown:m=>m.key==="Enter"&&(g==null?void 0:g()),className:"w-24 border-b-2 border-[#115740] text-lg font-mono font-bold focus:outline-none bg-transparent"}),S.jsx("button",{onMouseDown:m=>m.preventDefault(),onClick:g,className:"text-green-600",children:S.jsx(bE,{})})]}):S.jsxs("div",{className:"flex items-center gap-2 group/serial cursor-pointer",onClick:u,children:[S.jsxs("p",{className:`${v.textSize} font-mono font-bold text-left`,children:["#",l.serialNumber]}),S.jsx("span",{className:"opacity-0 group-hover/serial:opacity-100 text-slate-400 transition-opacity",children:S.jsx(pE,{})})]})})]}),S.jsx("div",{className:"w-full flex justify-center py-2",children:S.jsx("svg",{ref:f,className:"w-full max-w-[95%]"})})]}),S.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2 font-mono",children:"Zebra ZD620 Preview"})]})},AE=()=>S.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),Im=()=>S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),jE=()=>S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),RE=()=>S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),Gm=({category:l})=>{switch(l){case"fiber":return S.jsx(Im,{});case"shiv":return S.jsx(jE,{});case"dust":return S.jsx(RE,{});default:return S.jsx(Im,{})}},Vm=l=>{switch(l){case"fiber":return"bg-emerald-100 text-emerald-700";case"shiv":return"bg-amber-100 text-amber-700";case"dust":return"bg-slate-200 text-slate-600";default:return"bg-slate-100 text-slate-500"}},NE=({products:l,selectedProduct:r,onSelect:a})=>{const[s,o]=re.useState(!1),u=re.useRef(null);re.useEffect(()=>{const y=g=>{u.current&&!u.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const d=y=>{a(y),o(!1)};return S.jsxs("div",{className:"relative",ref:u,children:[S.jsxs("button",{onClick:()=>o(!s),className:`w-full bg-slate-50 border transition-all text-left flex items-center justify-between p-3 md:p-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#115740] ${s?"border-[#115740] ring-1 ring-[#115740]":"border-slate-300"}`,children:[r?S.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[S.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${Vm(r.category)}`,children:S.jsx(Gm,{category:r.category})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("div",{className:"font-bold text-slate-900 truncate",children:r.name}),S.jsxs("div",{className:"text-xs text-slate-500 font-mono",children:["SKU: ",r.sku]})]})]}):S.jsx("span",{className:"text-slate-500 text-lg",children:"--   --"}),S.jsx("div",{className:`transition-transform duration-200 ${s?"rotate-180":""}`,children:S.jsx(AE,{})})]}),s&&S.jsx("div",{className:"absolute top-full left-0 w-full mt-2 bg-white rounded-xl shadow-2xl border border-slate-200 overflow-hidden z-50 max-h-80 overflow-y-auto animate-fade-in-down",children:l.map(y=>S.jsxs("div",{onClick:()=>d(y),className:`flex items-center gap-3 p-3 cursor-pointer transition-colors border-b border-slate-100 last:border-0 ${(r==null?void 0:r.id)===y.id?"bg-green-50":"hover:bg-slate-50"}`,children:[S.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${Vm(y.category)}`,children:S.jsx(Gm,{category:y.category})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("div",{className:`font-bold truncate ${(r==null?void 0:r.id)===y.id?"text-[#115740]":"text-slate-800"}`,children:y.name}),S.jsxs("div",{className:"text-xs text-slate-500 font-mono",children:["SKU: ",y.sku]})]}),(r==null?void 0:r.id)===y.id&&S.jsx("div",{className:"text-[#115740]",children:S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]},y.id))})]})},CE=()=>S.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),kE=({sorts:l,selectedSort:r,onSelect:a,label:s=""})=>{const[o,u]=re.useState(!1),d=re.useRef(null);re.useEffect(()=>{const g=f=>{d.current&&!d.current.contains(f.target)&&u(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const y=g=>{a(g),u(!1)};return S.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 animate-fade-in",ref:d,children:[S.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-700 uppercase tracking-wide",children:s}),S.jsxs("div",{className:"relative",children:[S.jsxs("button",{onClick:()=>u(!o),className:`w-full bg-slate-50 border transition-all text-left flex items-center justify-between p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#115740] ${o?"border-[#115740] ring-1 ring-[#115740]":"border-slate-300"}`,children:[S.jsx("span",{className:`font-bold ${r?"text-slate-900":"text-slate-500"}`,children:r||"  "}),S.jsx("div",{className:`transition-transform duration-200 ${o?"rotate-180":""}`,children:S.jsx(CE,{})})]}),o&&S.jsx("div",{className:"absolute top-full left-0 w-full mt-2 bg-white rounded-xl shadow-2xl border border-slate-200 overflow-hidden z-50 max-h-60 overflow-y-auto animate-fade-in-down",children:l.map(g=>S.jsx("div",{onClick:()=>y(g),className:`p-3 cursor-pointer transition-colors border-b border-slate-100 last:border-0 font-bold ${r===g?"bg-emerald-50 text-[#115740]":"text-slate-700 hover:bg-slate-50"}`,children:g},g))})]})]})};var an=(l=>(l.DISCONNECTED="DISCONNECTED",l.CONNECTING="CONNECTING",l.CONNECTED="CONNECTED",l.ERROR="ERROR",l))(an||{});const DE=({currentUser:l,onLogout:r,onSettingsClick:a,printerData:s,onRefreshPrinter:o,queueCount:u=0,onOpenQueue:d})=>{const y=(s==null?void 0:s.printerStatus)||an.DISCONNECTED;return S.jsx("header",{className:"bg-[#115740] border-b border-[#0f4433] sticky top-0 z-30 shadow-md",style:{paddingTop:"var(--safe-area-top, 0px)"},children:S.jsxs("div",{className:"max-w-7xl mx-auto px-3 h-14 md:h-16 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-white rounded-xl shadow-sm flex items-center justify-center p-2",children:S.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-full h-full object-contain"})}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-lg md:text-xl font-bold text-white leading-none tracking-tight",children:"Marijany Sticker Print"}),S.jsx("div",{className:"flex items-center gap-1",children:typeof window<"u"&&window.self!==window.top&&S.jsxs("a",{href:window.location.href,target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-white font-bold bg-white/20 px-1 rounded flex items-center gap-0.5 hover:bg-white/30",title:"   ",children:[S.jsx(OE,{})," New Window"]})})]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("button",{onClick:r,className:"text-white/60 hover:text-white text-xs font-medium transition-colors",children:""}),S.jsx("div",{className:`w-3 h-3 md:w-4 md:h-4 rounded-full shadow-lg transition-colors duration-300 border-2 border-white/20 ${y===an.CONNECTED?"bg-emerald-400 shadow-emerald-900":y===an.CONNECTING?"bg-yellow-400 animate-pulse":"bg-red-500 shadow-red-900"}`,title:y===an.CONNECTED?"":" '"}),S.jsx("button",{onClick:o,className:"p-2 bg-[#16664c] hover:bg-[#0d4633] text-white rounded-lg shadow-sm transition-all active:scale-95 border border-[#1a7a5b]",title:"'  ",children:S.jsx(_E,{})}),d&&S.jsxs("button",{onClick:d,className:`p-2 relative rounded-lg transition-all active:scale-95 border border-white/10 ${u>0?"bg-orange-600 text-white hover:bg-orange-700":"bg-white/10 text-white hover:bg-white/20"}`,title:" ",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),u>0&&S.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full border-2 border-[#115740]",children:u})]}),S.jsx("button",{onClick:a,className:"p-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-all active:scale-95 border border-white/10",title:"",children:S.jsx(zf,{})})]})]})})},ME=({isOpen:l,onClose:r,isAdmin:a,printerData:s,historyData:o,selectedLabelSize:u,onLabelSizeChange:d,reportEmail:y,onReportEmailChange:g,dataSource:f,onChangeDataSource:v,barcodePattern:p,onBarcodePatternChange:m})=>{const{agentIp:b,setAgentIp:w,saveAgentIp:E,fixSsl:O,isSearchingPrinters:R,searchPrinters:M,discoveredPrinters:U,printer:P,selectPrinter:ee}=s||{},{history:Z=[],exportCsv:V,sendEmail:ie,clearHistory:K}=o||{},se=Z.length,[ce,ne]=_o.useState(()=>{try{return localStorage.getItem("zebra_supabase_url")||""}catch{return""}}),[fe,Ee]=_o.useState(()=>{try{return localStorage.getItem("zebra_supabase_key")||""}catch{return""}});return l?S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden max-h-[90vh] overflow-y-auto",children:[S.jsxs("div",{className:"flex justify-between items-center p-4 border-b sticky top-0 bg-white z-10",children:[S.jsxs("div",{className:"text-xl font-bold text-slate-800 flex items-center gap-2 select-none",children:[S.jsx(zf,{}),""]}),S.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-colors",children:S.jsx(Wf,{})})]}),S.jsxs("div",{className:"p-4 space-y-6",children:[a&&S.jsxs("section",{className:"animate-fade-in bg-amber-50 p-3 rounded-xl border border-amber-200",children:[S.jsxs("h4",{className:"font-semibold text-amber-800 mb-3 text-sm uppercase tracking-wider flex items-center gap-2",children:[S.jsx(EE,{}),"  "]}),S.jsxs("div",{className:"mb-4 bg-white p-3 rounded border border-amber-100 text-xs text-amber-800",children:[S.jsx("p",{className:"font-bold mb-1",children:":"}),S.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[S.jsxs("li",{children:["    ",S.jsx("b",{children:"Zebra Browser Print"}),"?"]}),S.jsxs("li",{children:["   /preview,    ",S.jsx("b",{children:" "}),"."]}),S.jsx("li",{children:" : 127.0.0.1 ( ')"})]}),S.jsxs("a",{href:"https://www.zebra.com/us/en/support-downloads/software-utilities/browser-print.html",target:"_blank",className:"text-blue-600 underline mt-2 block flex items-center gap-1",children:[S.jsx(Pm,{}),"   Zebra"]})]}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"flex flex-col gap-1",children:[S.jsx("label",{className:"text-xs font-bold text-amber-800 uppercase",children:"IP  Zebra:"}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[S.jsx("input",{type:"text",value:b,onChange:ae=>w(ae.target.value),className:"border border-amber-300 rounded px-2 py-2 text-sm flex-1",placeholder:"127.0.0.1"}),S.jsx("button",{onClick:E,className:"text-xs bg-amber-200 px-3 py-2 rounded hover:bg-amber-300 font-bold text-amber-800",children:""})]})]}),S.jsxs("button",{onClick:O,className:"w-full bg-white text-amber-700 border border-amber-300 p-2 rounded-lg hover:bg-amber-50 flex items-center justify-center gap-2 text-sm font-semibold",children:[S.jsx(xE,{}),"  SSL (",b,")"]}),S.jsx("div",{className:"flex gap-2 border-t border-amber-200 pt-3",children:S.jsx("button",{onClick:M,disabled:R,className:"w-full bg-amber-600 text-white p-3 rounded-lg hover:bg-amber-700 disabled:opacity-50 flex items-center justify-center gap-2 font-medium whitespace-normal text-center h-auto min-h-[44px]",children:R?"...":fn.isNativePlatform()?"   (. BT)":"  "})}),!fn.isNativePlatform()&&S.jsxs("div",{className:"mt-2",children:[S.jsxs("button",{onClick:s.connectBluetooth,className:"w-full bg-indigo-600 text-white p-3 rounded-lg hover:bg-indigo-700 flex items-center justify-center gap-2 font-medium",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})," Bluetooth"]}),S.jsx("p",{className:"text-[10px] text-slate-400 mt-1 text-center",children:"Chrome Only.  HTTPS. (Experimental)"})]}),(U==null?void 0:U.length)>0&&S.jsx("div",{className:"space-y-2 mt-2 max-h-40 overflow-y-auto custom-scrollbar bg-white rounded border border-amber-100 p-1",children:U.map(ae=>S.jsxs("button",{onClick:()=>ee(ae),className:`w-full text-left p-3 rounded-lg text-sm border flex items-center justify-between transition-colors ${(P==null?void 0:P.uid)===ae.uid?"bg-emerald-50 border-emerald-200 text-emerald-800 ring-1 ring-emerald-200":"bg-white border-slate-200 hover:bg-blue-50 hover:border-blue-200"}`,children:[S.jsxs("div",{className:"truncate",children:[S.jsx("div",{className:"font-bold",children:ae.name}),S.jsxs("div",{className:"text-xs text-slate-500 truncate mt-0.5",children:[ae.deviceType," (",ae.connection,")"]})]}),(P==null?void 0:P.uid)===ae.uid&&S.jsx("div",{className:"text-emerald-500 font-bold px-2",children:""})]},ae.uid))}),S.jsxs("div",{className:"mb-4 pt-4 border-t border-amber-200",children:[S.jsx("label",{className:"text-xs font-bold text-amber-800 uppercase block mb-1",children:"  (LAN IP):"}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[S.jsx("input",{type:"text",id:"manual-ip-input",className:"border border-amber-300 rounded px-2 py-2 text-sm flex-1",placeholder:"10.10.10.163",defaultValue:"10.10.10.163"}),S.jsx("button",{onClick:()=>{const B=document.getElementById("manual-ip-input").value.trim();if(!B)return;const I={uid:B,name:`LAN Printer (${B})`,connection:"net",deviceType:"printer",manufacturer:"Zebra",provider:"Manual",version:"1.0"};ee(I),alert(` ${B}   !`)},className:"text-xs bg-amber-600 text-white px-4 py-3 rounded hover:bg-amber-700 font-bold uppercase tracking-wider",children:""})]}),S.jsx("p",{className:"text-[10px] text-amber-600 mt-1",children:"  Android     . ( 9100)"})]})]})]}),a&&S.jsxs("section",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:[S.jsxs("h4",{className:"font-semibold text-blue-800 mb-3 text-sm uppercase tracking-wider flex items-center gap-2",children:[S.jsx(zf,{}),"  "]}),S.jsxs("div",{className:"flex bg-white rounded-lg p-1 border border-blue-200",children:[S.jsx("button",{onClick:()=>v("sqlite"),className:`flex-1 py-2 rounded-md text-sm font-medium transition-colors ${f==="sqlite"?"bg-blue-100 text-blue-800 shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:"Local (SQLite)"}),S.jsx("button",{onClick:()=>v("supabase"),className:`flex-1 py-2 rounded-md text-sm font-medium transition-colors ${f==="supabase"?"bg-blue-100 text-blue-800 shadow-sm":"text-slate-500 hover:bg-slate-50"}`,children:"Cloud (Supabase)"})]}),f==="supabase"&&S.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 space-y-3",children:[S.jsx("input",{value:ce,onChange:ae=>ne(ae.target.value),placeholder:"Project URL",className:"w-full border border-blue-300 rounded px-2 py-1 text-sm"}),S.jsx("input",{value:fe,onChange:ae=>Ee(ae.target.value),type:"password",placeholder:"Anon Key",className:"w-full border border-blue-300 rounded px-2 py-1 text-sm"}),S.jsx("button",{onClick:()=>yp.updateCredentials(ce,fe),className:"w-full bg-blue-600 text-white p-2 rounded hover:bg-blue-700 text-sm font-bold",children:"  "})]}),f==="sqlite"&&S.jsx("div",{className:"mt-4 pt-4 border-t border-blue-200",children:S.jsx("button",{onClick:async()=>{try{const ae=await Zm.backupDatabase();alert(`    !
 : ${ae}
 : Documents`)}catch{alert("   .")}},className:"w-full bg-slate-600 text-white p-2 rounded hover:bg-slate-700 text-sm font-bold",children:" Backup"})})]}),a&&S.jsxs("div",{className:"mb-0 p-4 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:[S.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider mb-3 flex items-center gap-2",children:" Config: Barcode Data"}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-xs font-bold text-slate-700 uppercase",children:"Pattern / "}),S.jsx("input",{value:p||"",onChange:ae=>m==null?void 0:m(ae.target.value),className:"w-full border border-slate-300 rounded px-3 py-2 text-sm font-mono",placeholder:"{date}-{sku}-{serialNumber}-{weight}"}),S.jsxs("div",{className:"text-[10px] text-slate-500 flex flex-wrap gap-2 mt-1",children:[S.jsx("code",{className:"bg-white px-1 border rounded",children:"{sku}"}),S.jsx("code",{className:"bg-white px-1 border rounded",children:"{date}"}),S.jsx("code",{className:"bg-white px-1 border rounded",children:"{weight}"}),S.jsx("code",{className:"bg-white px-1 border rounded",children:"{serialNumber}"})]})]})]}),S.jsxs("section",{children:[S.jsx("h4",{className:"font-semibold text-slate-700 mb-3 text-sm uppercase tracking-wider",children:" "}),S.jsx("div",{className:"space-y-3",children:Fm.map(ae=>S.jsxs("label",{className:`flex items-center p-4 border rounded-xl cursor-pointer transition-all ${u.id===ae.id?"border-[#115740] bg-green-50 ring-1 ring-[#115740]":"border-slate-200 hover:border-green-300 hover:bg-slate-50"}`,children:[S.jsx("input",{type:"radio",name:"labelSize",value:ae.id,checked:u.id===ae.id,onChange:()=>d(ae),className:"w-5 h-5 text-[#115740] focus:ring-[#115740] border-gray-300"}),S.jsxs("div",{className:"ml-3",children:[S.jsx("span",{className:"block text-slate-900 font-medium",children:ae.name}),S.jsxs("span",{className:"block text-slate-500 text-sm",children:[ae.widthMm," x ",ae.heightMm," "]})]})]},ae.id))})]}),S.jsxs("section",{className:"pt-4 border-t border-slate-100",children:[S.jsxs("h4",{className:"font-semibold text-slate-700 mb-3 text-sm uppercase tracking-wider flex justify-between",children:[" ",S.jsxs("span",{className:"text-slate-500 bg-slate-100 px-2 py-0.5 rounded text-xs lowercase font-mono",children:[se," rec"]})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Email  "}),S.jsx("input",{type:"email",value:y,onChange:ae=>g(ae.target.value),placeholder:"boss@factory.com",className:"w-full border border-slate-200 rounded-lg px-3 py-2 text-sm"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[S.jsxs("button",{onClick:V,disabled:se===0,className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl font-medium transition-colors border ${se===0?"bg-slate-50 text-slate-300 cursor-not-allowed":"bg-emerald-50 text-emerald-700 border-emerald-200 hover:bg-emerald-100"}`,children:[S.jsx(Pm,{})," ",S.jsx("span",{className:"text-sm",children:"CSV"})]}),S.jsxs("button",{onClick:ie,disabled:se===0,className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl font-medium transition-colors border ${se===0?"bg-slate-50 text-slate-300 cursor-not-allowed":"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100"}`,children:[S.jsx(SE,{})," ",S.jsx("span",{className:"text-sm",children:"Email"})]})]}),se>0&&S.jsx("button",{onClick:K,className:"w-full mt-4 flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-red-500 hover:bg-red-50 text-sm font-medium",children:" '"})]})]}),S.jsx("div",{className:"p-4 border-t bg-slate-50 text-right sticky bottom-0 z-10",children:S.jsx("button",{onClick:r,className:"px-6 py-2 bg-[#115740] text-white font-medium rounded-lg hover:bg-[#0d4633]",children:""})})]})}):null},UE=`# Marijany Sticker Print -  

      "Marijany Sticker Print".          Zebra   .

![Logo](public/logo.png)

##  

            PIN-.

|  | PIN- |  |
| :--- | :--- | :--- |
| **** | \`1111\` |   ( ) |
| **** | \`2222\` | ,  ,  |
| **** | \`3333\` | ,  ,  |
| **** | \`4444\` |  |
| **** | \`7777\` |  ,  |

---

##    

1.  ** **:      (, " ").
2.  ** ** ( ):    (//)     .
3.  ** **:   .
4.  ** **:    .
    *   *      ,    .*
5.  ** ""**:     .
    *   *   2 .*

---

##    ("Print Later")

        (,        ).

1.     (, ).
2.    **" "** (   ).
    *   *   ',    .*
3.    ,  ** **    ( ).
    *          .
4.      :
    *      .
    *     .
    *   **" "**        .

> **:**    ,   .

---

##   

###     " "
    **" "**    **100x100 **:
*    ****      1.25 .
*      ,           .
*       .

###  Email 
     :
1.   **** ().
2.   email    **"Email  "**.
3.   **""**   " ",        .

###     ( )
     :
*   **Local (SQLite)**:  ,    .
*   **Cloud (Supabase)**:    ( ).
*   *     .*

---

##   

**   /  :**
1.  ,   **Zebra Browser Print**   '.
2.  ,      USB .
3.      **** ()   .
4.    ,          "  ".

** SSL:**
*       ,    ->   ->   **" SSL"**.      .
`,LE=({isOpen:l,onClose:r})=>{if(!l)return null;const a=s=>s.split(`
`).map((o,u)=>o.startsWith("## ")?S.jsx("h2",{className:"text-xl font-bold mt-4 mb-2 text-slate-800 border-b pb-1",children:o.replace("## ","")},u):o.startsWith("# ")?S.jsx("h1",{className:"text-2xl font-bold mb-4 text-[#115740]",children:o.replace("# ","")},u):o.startsWith("### ")?S.jsx("h3",{className:"text-lg font-semibold mt-3 mb-1 text-slate-700",children:o.replace("### ","")},u):o.trim().startsWith("* ")||o.trim().startsWith("- ")?S.jsx("li",{className:"ml-5 list-disc text-slate-600 my-0.5",children:o.replace(/^[\*\-] /,"")},u):o.trim().match(/^\d+\. /)?S.jsx("li",{className:"ml-5 list-decimal text-slate-600 my-0.5",children:o.replace(/^\d+\. /,"")},u):o.includes("|")?S.jsx("pre",{className:"bg-slate-50 p-1 text-xs md:text-sm font-mono whitespace-pre-wrap text-slate-700 overflow-x-auto my-1",children:o},u):o.includes("---")?S.jsx("hr",{className:"my-4 border-slate-200"},u):o.includes("![Logo]")?S.jsx("div",{className:"flex justify-center my-4 opacity-50",children:S.jsx("span",{className:"text-xs italic",children:"Logotype"})},u):o.trim()===""?S.jsx("div",{className:"h-2"},u):S.jsx("p",{className:"text-slate-600 text-sm md:text-base leading-relaxed",children:o},u));return S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl overflow-hidden max-h-[90vh] flex flex-col",children:[S.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-slate-50",children:[S.jsx("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:" "}),S.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-colors",children:S.jsx(Wf,{})})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white custom-scrollbar",children:a(UE)}),S.jsx("div",{className:"p-4 border-t bg-slate-50 flex justify-end",children:S.jsx("button",{onClick:r,className:"px-6 py-2 bg-slate-800 text-white font-bold rounded-lg hover:bg-slate-900 transition-colors",children:""})})]})})},BE=({onLogin:l,users:r=$f})=>{const[a,s]=re.useState(()=>r.find(w=>w.role==="accountant")||r[0]),[o,u]=re.useState(""),[d,y]=re.useState(""),[g,f]=re.useState(!1),v=w=>{o.length<4&&(u(E=>E+w),y(""))},p=()=>{u(w=>w.slice(0,-1)),y("")},m=()=>{o===a.pin?l(a):(y(" PIN-"),u(""))};re.useEffect(()=>{o.length===4&&m()},[o]);const b=["1","2","3","4","5","6","7","8","9","empty","0","back"];return S.jsxs("div",{className:"min-h-screen bg-slate-100 flex items-center justify-center p-4 relative",children:[S.jsx("button",{onClick:()=>f(!0),className:"absolute top-4 right-4 md:top-8 md:right-8 bg-white p-2 md:p-3 rounded-full shadow-lg text-slate-500 hover:text-[#115740] hover:scale-110 transition-all z-10",title:"",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 md:h-8 md:w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),S.jsx(LE,{isOpen:g,onClose:()=>f(!1)}),S.jsxs("div",{className:"bg-white w-full max-w-sm rounded-2xl shadow-xl overflow-hidden relative z-0",children:[S.jsxs("div",{className:"bg-[#115740] p-4 md:p-6 text-center",children:[S.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-white rounded-2xl flex items-center justify-center mx-auto mb-3 md:mb-4 shadow-lg p-3",children:S.jsx("img",{src:"/logo.png",alt:"Logo",className:"w-full h-full object-contain"})}),S.jsx("h1",{className:"text-xl md:text-2xl font-bold text-white",children:""}),S.jsx("p",{className:"text-emerald-100 text-sm mt-1 mb-1",children:"Marijany Sticker Print v0.9b"})]}),S.jsxs("div",{className:"p-6",children:[S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:" "}),S.jsxs("div",{className:"relative",children:[S.jsx("select",{value:a.id,onChange:w=>{const E=r.find(O=>O.id===w.target.value);E&&(s(E),u(""),y(""))},className:"w-full appearance-none bg-slate-50 border border-slate-200 text-slate-700 py-3 px-4 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-[#115740] font-bold",children:r.map(w=>S.jsx("option",{value:w.id,children:w.name},w.id))}),S.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-700",children:S.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:S.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),S.jsxs("div",{className:"mb-6",children:[S.jsx("div",{className:"flex justify-center gap-4 mb-2",children:[0,1,2,3].map(w=>S.jsx("div",{className:`w-4 h-4 rounded-full border-2 transition-colors ${w<o.length?"bg-[#115740] border-[#115740]":"border-slate-300 bg-transparent"}`},w))}),S.jsx("div",{className:"h-6 text-center",children:d&&S.jsx("span",{className:"text-red-500 text-sm font-medium animate-pulse",children:d})})]}),S.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-3",children:b.map(w=>w==="empty"?S.jsx("div",{},w):w==="back"?S.jsx("button",{onClick:p,className:"h-12 md:h-14 flex items-center justify-center text-slate-500 hover:bg-slate-100 rounded-lg transition-colors font-bold",children:""},w):S.jsx("button",{onClick:()=>v(w),className:"h-12 md:h-14 bg-slate-50 hover:bg-slate-100 text-slate-800 font-bold text-xl rounded-lg border-b-2 border-slate-200 active:border-b-0 active:translate-y-[2px] transition-all",children:w},w))})]})]})]})},vo="zebra_printer_config_v1",Km="zebra_agent_ip";function zE(){const[l,r]=re.useState(an.DISCONNECTED),[a,s]=re.useState(null),[o,u]=re.useState([]),[d,y]=re.useState(!1),[g,f]=re.useState("127.0.0.1");re.useEffect(()=>{const E=localStorage.getItem(Km);E&&f(E)},[]),re.useEffect(()=>{p()},[]);const v=()=>{localStorage.setItem(Km,g),window.confirm("   IP-,   .  ?")&&window.location.reload()},p=async()=>{r(an.CONNECTING),s(null);const E=localStorage.getItem(vo);if(E)try{const O=JSON.parse(E);console.log("Restored printer config:",O.name),s(O),r(an.CONNECTED);return}catch(O){console.error("Error parsing saved printer config",O),localStorage.removeItem(vo)}try{const O=await Br.getDefaultPrinter();s(O),r(an.CONNECTED),localStorage.setItem(vo,JSON.stringify(O))}catch{r(an.ERROR)}},m=async()=>{y(!0),u([]);try{const E=await Br.getAllPrinters();u(E),E.length===0&&alert(`     ${g}.

1. ,  Zebra Browser Print .
2.    ,  " SSL".`)}catch(E){console.error(E),alert(" . ,  Zebra Browser Print .")}finally{y(!1)}},b=()=>{const E=`https://${g}:9101/ssl_support`;window.open(E,"_blank")},w=E=>{s(E),r(an.CONNECTED),localStorage.setItem(vo,JSON.stringify(E)),u([])};return{printer:a,printerStatus:l,discoveredPrinters:o,isSearchingPrinters:d,agentIp:g,setAgentIp:f,saveAgentIp:v,searchPrinters:m,selectPrinter:w,fixSsl:b,autoConnectPrinter:p,connectBluetooth:async()=>{try{const E=await Br.requestBluetoothDevice();w(E)}catch(E){alert("Bluetooth Error: "+E.message)}}}}const pf="zebra_print_history_v1";function qE(){const[l,r]=re.useState([]);re.useEffect(()=>{(async()=>{try{const w=await Zi.getService().getHistory();if(w.length>0){r(w);return}}catch(b){console.error("History Load Error",b)}try{const b=localStorage.getItem(pf);b&&r(JSON.parse(b))}catch(b){console.error("Failed to load history",b)}})()},[]);const a=async m=>{const b=[m,...l].slice(0,100);r(b),localStorage.setItem(pf,JSON.stringify(b));try{await Zi.getService().addToHistory(m)}catch(w){console.error("Failed to save to DataService",w)}},s=()=>{window.confirm(" ,    ?")&&(r([]),localStorage.removeItem(pf))},o=()=>{const b=["","","","SKU"," ()"," "],w=l.map(E=>{var ee,Z;const O=E.timestamp||new Date().toISOString();let R;try{if(R=new Date(O),isNaN(R.getTime()))throw new Error("Invalid Date")}catch{R=new Date}const M=R.toLocaleTimeString("uk-UA"),U=typeof E.date=="string"?E.date:R.toLocaleDateString("uk-UA"),P=V=>`"${(V||"").toString().replace(/"/g,'""')}"`;return[P(U),P(M),P(((ee=E.product)==null?void 0:ee.name)||""),P(((Z=E.product)==null?void 0:Z.sku)||""),P(E.weight),E.serialNumber].join(",")});return"\uFEFF"+b.join(",")+`
`+w.join(`
`)},u=()=>{const m=o(),b=new Blob([m],{type:"text/csv;charset=utf-8;"}),w=`ZebraLog_${new Date().toISOString().split("T")[0]}.csv`;return new File([b],w,{type:"text/csv"})},d=async()=>{if(l.length===0){alert("  ");return}if(fn.isNativePlatform())try{const m=o(),b=`ZebraLog_${new Date().toISOString().split("T")[0]}.csv`;await Qm.writeFile({path:b,data:m,directory:wo.Documents,encoding:So.UTF8}),alert(`     Documents:
${b}`)}catch(m){console.error(m),alert("   : "+m)}else{const m=u(),b=URL.createObjectURL(m),w=document.createElement("a");w.href=b,w.download=m.name,document.body.appendChild(w),w.click(),document.body.removeChild(w)}},[y,g]=re.useState("");return re.useEffect(()=>{const m=localStorage.getItem("zebra_report_email_v1");m&&g(m)},[]),{history:l,checkDuplicate:(m,b)=>l.some(w=>{var E;return((E=w.product)==null?void 0:E.id)===m&&w.serialNumber===b}),addToHistory:a,clearHistory:s,exportCsv:d,sendEmail:async()=>{if(l.length===0){alert("  ");return}const m=u(),b=`Production Log - ${new Date().toLocaleDateString("uk-UA")}`,w=`   ${new Date().toLocaleDateString("uk-UA")}.

  .`;if(navigator.canShare&&navigator.canShare({files:[m]}))try{await navigator.share({title:b,text:w,files:[m]});return}catch(E){console.log("Share API failed",E)}d(),setTimeout(()=>{const O=`mailto:${y||""}?subject=${encodeURIComponent(b)}&body=${encodeURIComponent(w+`

(:  CSV     .  ,      .)`)}`;window.location.href=O},500)},reportEmail:y,setReportEmail:m=>{g(m),localStorage.setItem("zebra_report_email_v1",m)}}}function Op(){const[l,r]=re.useState(Hf),[a,s]=re.useState($f),[o,u]=re.useState(!0);return re.useEffect(()=>{(async()=>{if(fn.getPlatform()!=="web")try{const y=Zi.getService();await y.init();const g=await y.getProducts();g.length>0&&r(g);const f=await y.getUsers();f.length>0&&s(f)}catch(y){console.error("Failed to load data from DB:",y)}u(!1)})()},[]),{products:l,users:a,isLoading:o}}const go="zebra_auth_user_v1";function Xm(){const[l,r]=re.useState(null),{users:a}=Op();re.useEffect(()=>{const d=sessionStorage.getItem(go);if(d)try{r(JSON.parse(d))}catch{sessionStorage.removeItem(go)}},[]);const s=d=>{r(d),sessionStorage.setItem(go,JSON.stringify(d))},o=()=>{r(null),sessionStorage.removeItem(go)},u=(l==null?void 0:l.role)==="admin";return{currentUser:l,login:s,logout:o,isAdmin:u,users:a}}const Ym="zebra_deferred_queue_v1";function HE(){const[l,r]=re.useState([]);re.useEffect(()=>{try{const y=localStorage.getItem(Ym);y&&r(JSON.parse(y))}catch(y){console.error("Failed to load deferred queue",y)}},[]);const a=y=>{r(y),localStorage.setItem(Ym,JSON.stringify(y))};return{queue:l,addToQueue:y=>{const g=[...l,{...y,timestamp:new Date().toISOString()}];a(g)},removeFromQueue:y=>{const g=l.filter((f,v)=>v!==y);a(g)},clearQueue:()=>{window.confirm("   ?")&&a([])},clearQueueForce:()=>{a([])}}}const $E=({isOpen:l,onClose:r,queue:a,onRemove:s,onClear:o,onClearForce:u,onPrintItem:d,printerName:y})=>{const[g,f]=re.useState(null);if(!l)return null;const v=async(m,b)=>{f(m);const w=await d(b,1);f(null),w&&s(m)},p=async()=>{if(window.confirm(` ? (${a.length} .)`)){for(let m=0;m<a.length;m++)if(f(m),!await d(a[m],1)){alert(`    ${m+1}. .`),f(null);return}f(null),f(null),u?u():o()}};return S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:S.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[S.jsxs("div",{className:"flex justify-between items-center p-4 border-b bg-slate-50",children:[S.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[S.jsx("span",{className:"bg-orange-100 text-orange-600 p-1.5 rounded-lg",children:S.jsx(Da,{})})," ",S.jsx("span",{className:"bg-slate-200 text-slate-600 text-sm px-2 py-0.5 rounded-full",children:a.length})]}),S.jsx("button",{onClick:r,className:"p-2 text-slate-400 hover:bg-slate-100 rounded-full",children:S.jsx(Wf,{})})]}),S.jsxs("div",{className:"p-2 bg-blue-50 border-b border-blue-100 text-xs text-blue-700 text-center",children:[": ",S.jsx("b",{children:y||" "})]}),S.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-slate-50",children:a.length===0?S.jsxs("div",{className:"flex flex-col items-center justify-center h-48 text-slate-400 opacity-50",children:[S.jsx(Da,{}),S.jsx("p",{className:"mt-2 font-medium",children:" "})]}):a.map((m,b)=>{var w,E;return S.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-200 shadow-sm flex items-center justify-between group hover:border-blue-300 transition-colors",children:[S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"font-bold text-slate-800",children:(w=m.product)==null?void 0:w.name}),S.jsx("span",{className:"text-xs bg-slate-100 px-1.5 rounded text-slate-500",children:(E=m.product)==null?void 0:E.sku})]}),S.jsxs("div",{className:"text-sm text-slate-500 mt-1 flex gap-3",children:[S.jsxs("span",{children:[": ",S.jsx("b",{children:m.weight})," "]}),S.jsxs("span",{children:["S/N: ",S.jsx("b",{children:m.serialNumber})]}),S.jsx("span",{children:m.date})]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:()=>v(b,m),disabled:g!==null,className:"p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 border border-green-200 disabled:opacity-50",title:" ",children:g===b?S.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full"}):S.jsx(Da,{})}),S.jsx("button",{onClick:()=>s(b),disabled:g!==null,className:"p-2 text-red-400 hover:bg-red-50 rounded-lg hover:text-red-600 disabled:opacity-50",title:"",children:S.jsx(wE,{})})]})]},b)})}),S.jsxs("div",{className:"p-4 border-t bg-white flex flex-col-reverse sm:flex-row justify-between items-center gap-4",children:[S.jsx("button",{onClick:o,disabled:a.length===0||g!==null,className:"text-red-500 text-sm font-medium hover:underline disabled:opacity-50 w-full sm:w-auto text-center",children:" "}),S.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 w-full sm:w-auto",children:[S.jsx("button",{onClick:r,className:"px-4 py-3 sm:py-2 text-slate-500 font-medium hover:bg-slate-100 rounded-lg w-full sm:w-auto",children:""}),S.jsxs("button",{onClick:p,disabled:a.length===0||g!==null,className:"px-6 py-3 sm:py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 shadow-md disabled:bg-slate-300 disabled:shadow-none flex items-center justify-center gap-2 w-full sm:w-auto",children:[S.jsx(Da,{})," "]})]})]})]})})},bf="zebra_product_counters_v1";function PE(){const{currentUser:l,login:r,logout:a}=Xm(),[s,o]=re.useState(null),[u,d]=re.useState(""),[y,g]=re.useState({}),[f,v]=re.useState(!1),[p,m]=re.useState(""),[b,w]=re.useState(Fm[0]),[E,O]=re.useState(!1),[R,M]=re.useState(!1),[U,P]=re.useState(()=>{try{return localStorage.getItem("zebra_barcode_pattern_v1")||"{date}-{sku}-{serialNumber}-{weight}"}catch(X){return console.error("LocalStorage error:",X),"{date}-{sku}-{serialNumber}-{weight}"}}),ee=zE(),Z=qE(),V=HE(),{products:ie,isLoading:K}=Op(),se=re.useRef(0),ce=re.useRef(0),ne=re.useRef(null),fe=new Date().toLocaleDateString("uk-UA"),[Ee,ae]=re.useState(""),[B,I]=re.useState(""),[oe,je]=re.useState("");re.useEffect(()=>{(async()=>{try{const xe="/Marijany-Sticker-Print/logo_bw.png",Qt=await Br.convertImageToZPL(xe,{width:80,height:50});I(Qt);const dn=await Br.convertImageToZPL(xe,{width:200,height:120});je(dn),console.log("Logos converted to ZPL successfully")}catch(xe){console.error("Failed to convert logos:",xe)}})()},[]),re.useEffect(()=>{s!=null&&s.sorts&&s.sorts.length>0?ae(s.sorts[0]):ae("")},[s]),re.useEffect(()=>{try{const X=localStorage.getItem(bf);if(X)g(JSON.parse(X));else{const xe={};(ie.length>0?ie:Hf).forEach(dn=>xe[dn.id]=xa),g(xe)}}catch(X){console.error("Failed to load counters",X)}},[ie]),re.useEffect(()=>{const X=xe=>{xe.key===bf&&xe.newValue&&g(JSON.parse(xe.newValue))};return window.addEventListener("storage",X),()=>window.removeEventListener("storage",X)},[]),re.useEffect(()=>{try{localStorage.setItem(bf,JSON.stringify(y))}catch(X){console.error(X)}},[y]);const{users:Re}=Xm();if(!l)return S.jsx(BE,{onLogin:r,users:Re});if(K)return S.jsx("div",{className:"flex items-center justify-center min-h-screen text-slate-500 font-bold",children:"Loading Database..."});const A=s?y[s.id]??xa:xa;let $="Sort",G="____";const Q=(l==null?void 0:l.role)==="operator",de=(s==null?void 0:s.category)==="shiv",me=(s==null?void 0:s.id)==="3";if(s){de&&($="Fract");let X=!1;Q?me&&(X=!0):X=!0,X&&Ee&&(G=Ee)}const we={product:s,weight:u,serialNumber:A,date:fe,sortLabel:$,sortValue:G},rt=X=>{X==="."&&u.includes(".")||u.length>6||d(xe=>xe+X)},$e=()=>{if(s){if((l==null?void 0:l.role)==="operator"){const X=Date.now();X-se.current<1e3?(v(!0),m(A.toString()),se.current=0):se.current=X;return}v(!0),m(A.toString())}},or=()=>{if(!s)return;v(!1);const X=parseInt(p);!Number.isNaN(X)&&X>=1&&g(xe=>({...xe,[s.id]:X}))},ur=async(X,xe)=>{var qr,is,ss;const Qt=b.id==="100x100"?oe:B;let dn=b.template;((qr=X.product)==null?void 0:qr.id)==="2"&&b.id==="100x100"&&(dn=s_);const Ia=Br.generateZPL(dn,{date:X.date,productName:((is=X.product)==null?void 0:is.name)||"Unknown",sku:((ss=X.product)==null?void 0:ss.sku)||"",weight:X.weight,serialNumber:X.serialNumber.toString(),sortLabel:X.sortLabel||"",sortValue:X.sortValue||"",quantity:xe,logoZpl:Qt,barcodePattern:U});let cr=!1;if(ee.printer?cr=await Br.print(ee.printer,Ia):(console.log(`--- MOCK PRINTING ZPL (${b.name}) - Copies: ${xe} ---`),cr=!0),cr){const ht=new Date().toISOString();return Z.addToHistory({...X,timestamp:ht}),!0}else return!1},$a=async X=>{if(Z.checkDuplicate(s.id,A)&&!window.confirm(`  "${s.name}"   #${A}    .

  ( )?`))return;await ur(we,X)?(g(Qt=>({...Qt,[s.id]:(Qt[s.id]??xa)+1})),d("")):alert(" .")},Pa=()=>{if(!s||!u){alert(" ,     .");return}ce.current+=1,ne.current||(ne.current=setTimeout(()=>{const X=ce.current,xe=X>=2?2:1;console.log(`Print Timer Executed. Clicks: ${X}, Copies: ${xe}`),$a(xe),ce.current=0,ne.current=null},1e3))},mt=!s||!u;return S.jsxs("div",{className:"app-container",children:[S.jsx(ME,{isOpen:E,onClose:()=>O(!1),printerData:ee,isAdmin:(l==null?void 0:l.role)==="admin",currentUser:l,selectedLabelSize:b,onLabelSizeChange:w,dataSource:Zi.getDataSource(),onChangeDataSource:X=>Zi.setDataSource(X),barcodePattern:U,onBarcodePatternChange:X=>{P(X),localStorage.setItem("zebra_barcode_pattern_v1",X)},historyData:Z,reportEmail:Z.reportEmail,onReportEmailChange:Z.setReportEmail}),S.jsx($E,{isOpen:R,onClose:()=>M(!1),queue:V.queue,onRemove:V.removeFromQueue,onPrintItem:(X,xe)=>ur(X,xe),onClear:V.clearQueue,loading:!1}),S.jsx(DE,{currentUser:l,onLogout:a,onSettingsClick:()=>O(!0),printerData:ee,onRefreshPrinter:ee.autoConnectPrinter,onOpenQueue:()=>M(!0),queueCount:V.queue.length}),S.jsx("main",{className:"app-main px-3 md:px-8 pb-32 md:pb-8 pt-4",children:S.jsx("div",{className:"max-w-7xl mx-auto",children:S.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[S.jsxs("div",{className:"space-y-4 md:space-y-6",children:[S.jsxs("section",{className:"bg-white p-3 md:p-6 rounded-xl md:rounded-2xl shadow-sm border border-slate-200",children:[S.jsxs("div",{className:"flex justify-between items-center mb-3 md:mb-4",children:[S.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-800",children:" "}),S.jsxs("span",{className:"text-xs md:text-sm font-medium text-slate-400",children:[ie.length," "]})]}),S.jsx(NE,{products:ie,selected:s,onSelect:o}),S.jsxs("div",{className:"flex gap-3 md:gap-4 md:flex-col",children:[s&&S.jsxs("div",{className:`mt-0 pt-0 border-t-0 flex-1 animate-fade-in ${(l==null?void 0:l.role)==="operator"&&s.id!=="3"?"w-full":""}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-2 md:mb-3",children:[S.jsx("label",{className:"text-xs md:text-sm font-bold text-slate-600 uppercase tracking-wide",children:""}),S.jsx("span",{className:"text-[10px] md:text-xs font-medium text-slate-400 truncate max-w-[80px]",children:(l==null?void 0:l.role)==="operator"?" ":"."})]}),S.jsxs("div",{className:"flex gap-1 md:gap-2 items-center",children:[S.jsx("button",{onClick:()=>{g(X=>({...X,[s.id]:Math.max(1,A-1)}))},className:"w-10 h-10 md:w-12 md:h-12 flex items-center justify-center bg-red-50 hover:bg-red-100 border border-red-200 rounded-lg text-lg md:text-xl font-bold text-red-600 transition-colors",children:"-"}),S.jsx("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:A,readOnly:(l==null?void 0:l.role)==="operator",onChange:X=>{const xe=parseInt(X.target.value);!isNaN(xe)&&xe>=1?g(Qt=>({...Qt,[s.id]:xe})):X.target.value},className:`flex-1 w-full min-w-[60px] bg-white border-2 border-slate-200 rounded-lg text-center text-lg md:text-xl font-mono font-bold text-slate-800 focus:border-[#115740] focus:outline-none transition-colors h-10 md:h-12 ${(l==null?void 0:l.role)==="operator"?"bg-slate-50 text-slate-500":""}`}),S.jsx("button",{onClick:()=>{g(X=>({...X,[s.id]:A+1}))},className:"w-10 h-10 md:w-12 md:h-12 flex items-center justify-center bg-green-50 hover:bg-green-100 border border-green-200 rounded-lg text-lg md:text-xl font-bold text-[#115740] transition-colors",children:"+"})]})]}),s&&s.sorts&&s.sorts.length>0&&((l==null?void 0:l.role)!=="operator"||s.id==="3")&&S.jsxs("div",{className:"mt-0 pt-0 border-t-0 flex-1 animate-fade-in",children:[S.jsx("div",{className:"flex justify-between items-center mb-2 md:mb-3",children:S.jsx("label",{className:"text-xs md:text-sm font-bold text-slate-600 uppercase tracking-wide",children:""})}),S.jsx(kE,{sorts:s.sorts,selectedSort:Ee,onSelect:ae})]})]})]}),S.jsxs("section",{className:"bg-white p-3 md:p-6 rounded-xl md:rounded-2xl shadow-sm border border-slate-200",children:[S.jsxs("div",{className:"flex justify-between items-center mb-3 md:mb-4",children:[S.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-800",children:" "}),S.jsx("span",{className:"text-xs md:text-sm font-medium text-slate-400",children:""})]}),S.jsx("div",{className:"bg-slate-100 rounded-xl p-2 md:p-4 mb-3 md:mb-4 text-center border-2 border-slate-200 focus-within:border-blue-500 focus-within:bg-white transition-colors",children:S.jsx("input",{type:"text",readOnly:!0,value:u,placeholder:"0.00",className:"w-full bg-transparent text-center text-4xl md:text-5xl font-mono font-bold text-slate-800 focus:outline-none placeholder-slate-300"})}),S.jsx(MS,{onKeyPress:rt,onClear:()=>d(""),onBackspace:()=>d(X=>X.slice(0,-1))})]})]}),S.jsxs("div",{className:"flex flex-col gap-4 md:gap-6",children:[S.jsxs("section",{className:"bg-white p-3 md:p-6 rounded-xl md:rounded-2xl shadow-sm border border-slate-200 flex-1 flex flex-col",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-800",children:" "}),S.jsx("div",{className:"px-3 py-1 bg-slate-100 rounded-full text-[10px] md:text-xs font-bold text-slate-500",children:b.name})]}),S.jsx("div",{className:"flex-1 flex flex-col items-center justify-center min-h-[220px] md:min-h-[300px] bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 p-4 relative overflow-hidden group",children:S.jsx("div",{className:"scale-75 md:scale-100 transition-transform origin-center shadow-2xl",children:S.jsx(TE,{data:we,widthMm:b.widthMm,heightMm:b.heightMm,isSerialEditing:f,onSerialEdit:$e,tempSerialInput:p,onSerialChange:m,onSerialBlur:or})})})]}),S.jsxs("button",{onClick:Pa,disabled:mt,className:`hidden md:flex w-full py-4 md:py-6 px-4 md:px-6 rounded-xl md:rounded-2xl font-bold text-xl md:text-2xl shadow-xl transition-all transform active:scale-[0.98] items-center justify-center gap-3 md:gap-4 ${mt?"bg-slate-300 text-slate-500 cursor-not-allowed shadow-none":"bg-[#115740] hover:bg-[#0d4633] text-white shadow-green-900/30 ring-4 ring-[#115740]/20"}`,children:[S.jsx(Da,{}),s&&u?"":" "]}),!mt&&["admin","accountant","lab"].includes((l==null?void 0:l.role)||"")&&S.jsxs("button",{onClick:()=>{Z.checkDuplicate(s.id,A)&&!window.confirm(`  "${s.name}"   #${A}    .

    ( )?`)||(V.addToQueue(we),d(""),g(X=>({...X,[s.id]:(X[s.id]??xa)+1})),alert("   !"))},className:"w-full py-4 px-6 rounded-xl font-bold text-lg border-2 border-[#115740] text-[#115740] hover:bg-green-50 transition-colors flex items-center justify-center gap-2",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})," "]}),S.jsx("p",{className:"text-center text-slate-400 text-sm font-medium",children:":     2 "})]})]})})}),S.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t border-slate-200 md:hidden z-40 pb-[max(1rem,env(safe-area-inset-bottom))] shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] flex gap-3",children:[!mt&&["admin","accountant","lab"].includes((l==null?void 0:l.role)||"")&&S.jsx("button",{onClick:()=>{Z.checkDuplicate(s.id,A)&&!window.confirm(`  "${s.name}"   #${A}    .

    ( )?`)||(V.addToQueue(we),d(""),g(X=>({...X,[s.id]:(X[s.id]??xa)+1})),alert("  !"))},className:"flex-1 py-3 rounded-xl font-bold text-lg border-2 border-[#115740] text-[#115740] hover:bg-green-50 active:bg-green-100 transition-colors flex items-center justify-center",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),S.jsxs("button",{onClick:Pa,disabled:mt,className:`flex-[3] py-3 rounded-xl font-bold text-xl shadow-lg transition-all transform active:scale-[0.98] flex items-center justify-center gap-2 ${mt?"bg-slate-300 text-slate-500 cursor-not-allowed":"bg-[#115740] text-white shadow-green-900/20"}`,children:[S.jsx(Da,{}),s&&u?"":""]})]})]})}class IE extends _o.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r,errorInfo:null}}componentDidCatch(r,a){console.error("Uncaught error:",r,a),this.setState({errorInfo:a})}render(){var r,a;return this.state.hasError?S.jsxs("div",{className:"p-8 bg-red-50 h-screen flex flex-col items-center justify-center text-red-900 overflow-auto",children:[S.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Something went wrong"}),S.jsxs("div",{className:"bg-white p-4 rounded shadow-lg max-w-full w-full overflow-auto border border-red-200",children:[S.jsx("h2",{className:"text-lg font-semibold mb-2",children:(r=this.state.error)==null?void 0:r.toString()}),S.jsxs("details",{className:"text-xs font-mono whitespace-pre-wrap text-slate-600",children:[S.jsx("summary",{className:"cursor-pointer text-blue-600 mb-2",children:"View Stack Trace"}),(a=this.state.errorInfo)==null?void 0:a.componentStack]})]}),S.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 font-bold",children:"Reload App"})]}):this.props.children}}const Tp=document.getElementById("root");if(!Tp)throw new Error("Could not find root element to mount to");const GE=a_.createRoot(Tp);window.addEventListener("error",l=>{var r;document.body.innerHTML=`
    <div style="padding: 20px; color: red; font-family: sans-serif;">
      <h1>Application Error</h1>
      <p>${l.message}</p>
      <pre>${((r=l.error)==null?void 0:r.stack)||""}</pre>
    </div>
  `});window.addEventListener("unhandledrejection",l=>{document.body.innerHTML=`
    <div style="padding: 20px; color: red; font-family: sans-serif;">
      <h1>Unhandled Promise Rejection</h1>
      <p>${l.reason}</p>
    </div>
  `});try{GE.render(S.jsx(_o.StrictMode,{children:S.jsx(IE,{children:S.jsx(PE,{})})}))}catch(l){console.error("Render Error:",l)}export{So as E,If as W,Pf as _,y_ as b,Do as r};
